{"link": "https://codeforces.com//contest/1176/problem/F", "problemId": "356088", "problem_idx": "F", "shortId": "1176F", "contest_number": "1176", "problem_submissions": {"F": [55366536, 55370553, 55370076, 55361482, 55349957, 55373782, 55383169, 55421204, 55381361], "D": [55352843, 55361188, 55360704, 55370696, 55358745, 55347526, 55359651, 55356479, 55361066, 55360096, 55360897, 55358553, 55352085, 55359124, 55360813, 55363517, 55362204, 55360723, 55360975, 55364720], "E": [55349152, 55349756, 55351649, 55354804, 55365594, 55358360, 55348657, 55350850, 55353780, 55351477, 62626593, 55421378, 55390144, 55390011, 55389979, 55389924, 55350785, 55361448, 55351241, 55350527, 55353065, 55353378, 55348945, 55354346, 55353391], "C": [55342677, 55351695, 55338466, 55345985, 55363580, 55342563, 55343971, 55347250, 55345645, 55345777, 55347227, 55345382, 55347101, 55344713, 55348024, 55345956, 55344452, 55349792, 55346750], "B": [55338190, 55339928, 55338713, 55340244, 55360985, 55338545, 55340194, 55344577, 55338952, 55340812, 55340557, 55340932, 55341245, 55341745, 55340147, 55340311, 55339019, 55342585, 55340210], "A": [55337291, 55337321, 55338350, 55337635, 55360313, 55337458, 55338052, 55339410, 55337348, 55337956, 55338200, 55338309, 55337308, 55337677, 55337569, 55337795, 55337752, 55337587, 55338006]}, "name": "F. Destroy it ", "statement": "You are playing a computer card game called Splay the Sire. Currently\r\nyou are struggling to defeat the final boss of the game.The boss battle\r\nconsists of n turns. During each turn, you will get several cards. Each\r\ncard has two parameters: its cost c_i and damage d_i. You may play some\r\nof your cards during each turn in some sequence (you choose the cards\r\nand the exact order they are played), as long as . After playing some\r\n(possibly zero) cards, you end your turn, and . Note that you can use\r\neach card .Your character has also found an artifact that boosts the\r\ndamage of some of your actions: every 10-th card you play deals double\r\ndamage.What is the maximum possible damage you can deal during n turns?\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\nconst int Maxn=200005;\nint n,k;\nlong long dp[13],tmp[13],maxi[5],big[5],ans;\nstruct card\n{\n\tint a;\n\tlong long b;\n\tbool operator < (const card &tmp) const\n\t{\n\t\tif(a!=tmp.a) return a<tmp.a;\n\t\treturn b<tmp.b;\n\t}\n}C[Maxn];\nvoid _dp(void)\n{\n\tfor(int i=0;i<=9;i++)\n\t\tfor(int j=1;j<=3;j++)\n\t\t\tif(i+j<10)\n\t\t\t\tdp[i+j]=max(dp[i+j],tmp[i]+maxi[j]);\n\t\t\telse\n\t\t\t\tdp[i+j-10]=max(dp[i+j-10],tmp[i]+maxi[j]+big[j]);\n}\nint main()\n{\n\tmemset(dp,-0x3f,sizeof(dp));\n\tdp[0]=0;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tmemset(big,0,sizeof(big));\n\t\tmemset(maxi,-0x3f,sizeof(maxi));\n\t\tmemcpy(tmp,dp,sizeof(tmp));\n\t\tscanf(\"%d\",&k);\n\t\tfor(int j=1;j<=k;j++)\n\t\t\tscanf(\"%d%lld\",&C[j].a,&C[j].b);\n\t\tsort(C+1,C+1+k);\n\t\tfor(int j=1;j<=k;j++)\n\t\t\tmaxi[1]=max(maxi[1],C[j].b);\n\t\tbig[1]=maxi[1];\n\t\t_dp();\n\t\tlong long TMP=-1;\n\t\tfor(int j=1;j<=k;j++)\n\t\t\tif(C[j].a==2) maxi[2]=max(maxi[2],C[j].b);\n\t\tfor(int j=1;j<=k;j++)\n\t\t\tif(C[j].a==1) TMP=max(TMP,C[j].b); \n\t\tif(TMP!=-1)\n\t\t{\n\t\t\tbig[2]=max(TMP,maxi[2]);\n\t\t\tmaxi[2]+=TMP;\n\t\t\t_dp();\n\t\t}\n\t\tbig[2]=0;\n\t\tmaxi[2]=maxi[4];\n\t\tfor(int j=k;j>=1;j--)\n\t\t{\n\t\t\tif(C[j].a==1)\n\t\t\t{ \n\t\t\t\tif(j>=2)\n\t\t\t\t{\n\t\t\t\t\tmaxi[2]=C[j].b+C[j-1].b;\n\t\t\t\t\tbig[2]=max(C[j].b,C[j-1].b);\n\t\t\t\t}\n\t\t\t\telse maxi[2]=maxi[4];\n\t\t\t\tif(j>=3)\n\t\t\t\t{\n\t\t\t\t\tmaxi[3]=C[j].b+C[j-1].b+C[j-2].b;\n\t\t\t\t\tbig[3]=max(max(C[j].b,C[j-1].b),C[j-2].b);\n\t\t\t\t}\n\t\t\t\telse maxi[3]=maxi[4];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t_dp();\n\t}\n\tfor(int i=0;i<=9;i++)\n\t\tans=max(ans,dp[i]);\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["dp", "implementation", "sortings"], "dificulty": "2100", "interactive": false}