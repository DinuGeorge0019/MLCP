{"link": "https://codeforces.com//contest/1433/problem/D", "problemId": "766659", "problem_idx": "D", "shortId": "1433D", "contest_number": "1433", "problem_submissions": {"E": [96118292, 96100384, 96144411, 96131531, 96126171, 96116171, 96143430, 96124657, 96110938, 96142211, 96123301, 96164122, 96137865, 96137248, 96139372, 96151324, 96105901, 96108332, 96119162], "D": [96108021, 96096525, 96105972, 96112718, 96099052, 96105757, 96102154, 96119014, 96106156, 96111319, 96110517, 96107146, 96106344, 96110999, 96119720, 96108556, 96096494, 96100784, 96104899], "F": [96105759, 96110506, 96119004, 96125972, 96132730, 96142830, 96120574, 96135431, 96163807, 96138553, 96152985, 96127650, 96151526, 96153346, 96158052, 96144943, 96148733, 96135208], "C": [96102081, 96092029, 96090502, 96100255, 96092651, 96097485, 96096234, 96096200, 96099117, 96101166, 96102838, 96101507, 96097647, 96094575, 96113560, 96103107, 96090286, 96093702, 96099170], "G": [96094218, 96125410, 96128032, 96141154, 96154260, 96149033, 96156333, 96142357, 96139797, 96146497, 96163476, 96140362, 96161234, 96163894, 96152235, 96163050, 96123944, 96205637], "B": [96092183, 96084902, 96085565, 96094926, 96088334, 96090362, 96089755, 96089494, 96088669, 96093848, 96088026, 96089177, 96087731, 96090077, 96098934, 96093459, 96086464, 96086371, 96090772], "A": [96084957, 96082729, 96082939, 96083168, 96082835, 96084005, 96082966, 96083516, 96083887, 96086611, 96083211, 96084639, 96083406, 96083239, 96092645, 96083081, 96082670, 96083000, 96085692]}, "name": "D. Districts Connection", "statement": "There are n districts in the town, the i-th district belongs to the\r\na_i-th bandit gang. Initially, no districts are connected to each\r\nother.You are the mayor of the city and want to build n-1 two-way roads\r\nto connect all districts (two districts can be connected directly or\r\nthrough other connected districts).If two districts belonging to the\r\nsame gang are connected with a road, this gang will revolt.You don\u2019t\r\nwant this so your task is to build n-1 two-way roads in such a way that\r\nall districts are reachable from each other (possibly, using\r\nintermediate districts) and of directly connected districts belong to ,\r\nor determine that it is impossible to build n-1 roads to satisfy all the\r\nconditions.You have to answer t independent test cases.\r\n", "solutions": ["#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define forinc(i,a,b) for(int i=a;i<=b;++i)\n#define fordec(i,a,b) for(int i=a;i>=b;--i)\n#define forv(i,x) for(auto &i:x)\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint rnd(int l,int r)\n{\n    return l+rng()%(r-l+1);\n}\n#define in ({int x=0;int c=getchar(),n=0;for(;!isdigit(c);c=getchar()) n=(c=='-');for(;isdigit(c);c=getchar()) x=x*10+c-'0';n?-x:x;})\n#define pii pair<int,int>\n#define fi first\n#define se second\n#define batbit(i,x) (x|(1ll<<i))\n#define getbit(i,x) ((x>>i)&1)\n\nconst int mn=3e5+10;\nint a[mn],id[mn];\nvector<pii> kq;\n\nint root(int u)\n{\n    return id[u]<0?u:id[u]=root(id[u]);\n}\n\nvoid join(int u,int v)\n{\n    if((u=root(u))==(v=root(v))) return;\n    if(id[u]<id[v]) swap(u,v);\n    id[u]+=id[v];\n    id[v]=u;\n}\n\nmain()\n{\n    int t;\n    cin >> t;\n    while(t--)\n    {\n        int n;\n        cin >> n;\n        forinc(i,1,n) id[i]=-1;\n        forinc(i,1,n) cin >> a[i];\n        kq.clear();\n        int ok=1;\n        forinc(i,1,n-1)\n        {\n            forinc(j,i+1,n) if(a[i]!=a[j])\n            {\n                if(root(i)!=root(j))\n                {\n                    kq.push_back({i,j});\n                    join(i,j);\n                }\n            }\n        }\n        int z=root(1);\n        forinc(i,1,n) if(root(i)!=z)\n        {\n            ok=0;\n            break;\n        }\n        if(!ok) cout << \"NO\\n\";\n        else\n        {\n            cout << \"YES\\n\";\n            forv(v,kq) cout << v.fi << \" \" << v.se << \"\\n\";\n        }\n    }\n}\n"], "input": "", "output": "", "tags": ["constructive algorithms", "dfs and similar"], "dificulty": "1200", "interactive": false}