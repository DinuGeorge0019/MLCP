{"link": "https://codeforces.com//contest/765/problem/D", "problemId": "93900", "problem_idx": "D", "shortId": "765D", "contest_number": "765", "problem_submissions": {"F": [24663045, 24662127, 24676770, 24660358, 24667152, 24667397, 24662544, 24672838, 24672753, 24667598, 31935479, 24716746, 24682448, 24679841, 24679801, 24670904, 24670698, 24670489], "E": [24655066, 24654207, 24663627, 24664513, 24664094, 24658430, 24660515, 24666458, 24658142, 24662259, 24662493, 24655583, 24656953, 24655759, 24661672, 24653196, 24657812, 24658375, 24656880], "D": [24651389, 24649417, 24662180, 24649659, 24650176, 24654581, 24653214, 24651939, 24652955, 24653924, 24658681, 24649453, 24651451, 24650652, 24650490, 24649885, 24654333, 24652778, 24651423], "C": [24648852, 24646235, 24650994, 24645410, 24646069, 24647071, 24647842, 24648558, 24647605, 24648623, 24647741, 24647343, 24648346, 24646116, 24646007, 24646516, 24646082, 24647004, 24651850], "B": [24646782, 24644999, 24653327, 24644551, 24644873, 24645624, 24645777, 24646431, 24646046, 24646603, 24645747, 24645801, 24644851, 24645211, 24644761, 24644995, 24644787, 24645473, 24645892], "A": [24645504, 24644450, 24647516, 24644412, 24644455, 24644858, 24644550, 24644940, 24644763, 24644751, 24644918, 24644439, 24644463, 24644604, 24644437, 24644462, 24644460, 24644469, 24645016], "G": [24665280, 24660267]}, "name": "D. Artsem and Saunders", "statement": "Artsem has a friend Saunders from University of Chicago. Saunders\r\npresented him with the following problem.Let denote the set . We will\r\nalso write when a function is defined in integer points , ..., , and all\r\nits values are integers from 1 to .Now then, you are given a function .\r\nYour task is to find a positive integer , and two functions , , such\r\nthat for all , and for all , or determine that finding these is\r\nimpossible.\r\n", "solutions": ["#include <iostream>\n#include <vector>\n#include <cstdio>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <cassert>\n#include <numeric>\n#include <string>\n#include <cstring>\n#include <cmath>\nusing namespace std;\n\n#ifdef LOCAL\n\t#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#else\n\t#define eprintf(...) 42\n#endif\n\ntypedef long long int int64;\n\n\nconst int N = (int) 1e5 + 100;\nint a[N];\nint st[N];\nint sz = 0;\nint o2[N];\n\nint main(int,  char **)\n{\n#ifdef LOCAL\n//\tfreopen(\"input.txt\", \"r\", stdin);\n//\tfreopen(\"output.txt\", \"w\", stdout);\n#endif\n\n\tint n;\n\tscanf(\"%d\", &n);\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tscanf(\"%d\", &a[i] );\n\t\ta[i]--;\n\t}\n\tmemset(st, -1, sizeof st);\n\tfor (int i = 0; i < n; i++)\n\t\tif (i == a[i] )\n\t\t{\n\t\t\to2[sz] = i;\n\t\t\tst[i] = sz++;\n\t\t}\n\tfor (int i = 0; i < n; i++)\n\t\tif (st[a[i] ] == -1)\n\t\t{\n\t\t\tprintf(\"-1\\n\");\n\t\t\treturn 0;\n\t\t}\n\tprintf(\"%d\\n\", sz);\n\tfor (int i = 0; i < n; i++)\n\t\tprintf(\"%d \", st[a[i] ] + 1);\n\tprintf(\"\\n\");\n\tfor (int i = 0; i < sz; i++)\n\t\tprintf(\"%d \", o2[i] + 1);\n\tprintf(\"\\n\");\n\n\n\n\n\treturn 0;\n}\n\n\n"], "input": "", "output": "", "tags": ["constructive algorithms", "dsu", "math"], "dificulty": "1700", "interactive": false}