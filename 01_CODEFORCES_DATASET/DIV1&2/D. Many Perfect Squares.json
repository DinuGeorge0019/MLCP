{"link": "https://codeforces.com//contest/1782/problem/D", "problemId": "1738310", "problem_idx": "D", "shortId": "1782D", "contest_number": "1782", "problem_submissions": {"G": [189352903, 189354160, 189342529, 189347964, 189346429, 189415258, 189347317, 189738607, 189347232, 189347696, 189403021, 189438204, 189354810, 189338967, 189344949], "H1": [189341567, 189339761, 189349634, 189355935, 189355012, 189341367, 189348685, 189366896, 189384259, 189345985, 189353203, 189354256, 189356712], "F": [189325657, 189363621, 189331442, 189327188, 189334558, 189331825, 189332228, 189332897, 189335481, 189328585, 189328764, 189334100, 189338796, 189342861, 189333278, 189345646, 189348301, 189336716, 189329952, 189336813], "E": [189322203, 189324476, 189336013, 189324984, 189327367, 189324941, 189325259, 189324742, 189325043, 189324750, 189330839, 189330033, 189340117, 189340110, 189356727, 189364874, 189338107, 189329882], "D": [189315553, 189316553, 189320757, 189315522, 189321240, 189315774, 189315356, 189317449, 189316444, 189318717, 189318855, 189319485, 189321217, 189322258, 189322561, 189316855, 189317394, 189318806, 189319611], "C": [189312571, 189313515, 189317007, 189313044, 189315685, 189312570, 189312443, 189313938, 189314521, 189313780, 189316398, 189315035, 189318312, 189317410, 189321818, 189314789, 189315093, 189314367], "B": [189309405, 189309603, 189311019, 189308821, 189310918, 189309246, 189308942, 189310194, 189308126, 189309056, 189311263, 189310085, 189312839, 189309172, 189329674, 189309853, 189310568, 189309470], "A": [189307515, 189306919, 189307198, 189307124, 189307391, 189307301, 189307111, 189307534, 189306943, 189307353, 189307056, 189307424, 189308244, 189319051, 189308061, 189307499, 189307060, 189307053], "H2": [189361277, 189352155, 189886586, 189749780, 189366917, 189362146]}, "name": "D. Many Perfect Squares", "statement": "You are given a set a_1, a_2,\r\nldots, a_n of distinct positive integers.We define the of an integer x\r\nas the number of perfect squares among the numbers a_1 + x, a_2 + x,\r\nldots, a_n + x.Find the maximum squareness among all integers x between\r\n0 and 10^{18}, inclusive.Perfect squares are integers of the form t^2,\r\nwhere t is a non-negative integer. The smallest perfect squares are 0,\r\n1, 4, 9, 16,\r\nldots.\r\n", "solutions": ["#include<bits/stdc++.h>\n#define L(i, j, k) for(int i = (j); i <= (k); ++i)\n#define R(i, j, k) for(int i = (j); i >= (k); --i)\n#define ll long long\n#define sz(a) ((int) (a).size())\n#define vi vector < int > \n#define me(a, x) memset(a, x, sizeof(a))\n#define ull unsigned long long\n#define ld __float128\nusing namespace std;\nconst int N = 1e6 + 7, S = sqrt(1e9) + 7;\nint n, ns = 1;\nll a[N];\nvoid check(ll k) {\n\t\n}\nint p[N], tot; \nbool Prime[N];\nvoid Main() {\n\tmap < ll, ll > mp;\n\tcin >> n;\n\tL(i, 1, n) \n\t\tcin >> a[i];\n\tsort(a + 1, a + n + 1);\n\tns = 1;\n\tL(i, 1, n) \n\t\tL(j, i + 1, n) {\n\t\t\tll dec = a[j] - a[i];\n\t\t\tL(v, 1, sqrt(dec)) if(dec % v == 0) {\n\t\t\t\tll a = v, b = dec / v;\n\t\t\t\tif(a % 2 == b % 2) {\n\t\t\t\t\tll x = (b - a) / 2, y = (a + b) / 2;\n\t\t\t\t\tmp[x * x - ::a[i]] |= (1LL << i) | (1LL << j);\n//\t\t\t\t\tcout << x * x - ::a[i] << ' ' << y * y - ::a[j] << endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tfor(auto u : mp) if(u.first >= 0) {\n//\t\tcout << u.first << \" : \" << u.second << endl; \n\t\tns = max(ns, __builtin_popcountll(u.second));\n\t}\n\tcout << ns << '\\n';\n}\nint main() {\n\tios :: sync_with_stdio(false);\n\tcin.tie(0); cout.tie(0);\n\tL(i, 2, S) \n\t\tif(!Prime[i]) \n\t\t\tfor(int j = 2 * i; j <= S; j += i) \n\t\t\t\tPrime[j] = 1;\n\tL(i, 2, S) if(!Prime[i]) p[++tot] = i;\n\tint t;\n\tcin >> t;\n\twhile(t--) Main();\n\treturn 0;\n} "], "input": "", "output": "", "tags": ["brute force", "dp", "math", "number theory"], "dificulty": "1800", "interactive": false}