{"link": "https://codeforces.com//contest/1845/problem/E", "problemId": "1986292", "problem_idx": "E", "shortId": "1845E", "contest_number": "1845", "problem_submissions": {"F": [211475859, 211492939, 211497555, 211490825, 211491595, 211499186, 211501170, 211510297, 211505215, 211508507, 211523706, 211508142, 211526813, 211526845, 211523227, 211522513, 211521610, 211527973], "E": [211462563, 211461492, 211471272, 211472249, 211480189, 211485085, 211477384, 211480631, 211479180, 211479798, 211487222, 211476273, 211646872, 211490174, 211488484, 211525957, 211524499, 211523817, 211482860, 211491352, 211488220, 211483247, 211483585, 211488962, 211482756, 211497978], "B": [211453598, 211442082, 211444910, 211443511, 211441772, 211442686, 211445493, 211443115, 211444001, 211449977, 211446525, 211444666, 211443749, 211447761, 211449897, 211443106, 211444760, 211445575, 211449630, 211442921], "D": [211450415, 211448543, 211458729, 211462418, 211460113, 211454656, 211463763, 211469130, 211470306, 211471906, 211459492, 211645284, 211472007, 211475281, 211467877, 211468462, 211468425, 211461450, 211463088, 211470068, 211462856], "C": [211443935, 211445016, 211453965, 211452711, 211452512, 211450213, 211454682, 211448771, 211452473, 211462596, 211453195, 211455269, 211452431, 211458111, 211462223, 211458912, 211452900, 211451834, 211462935, 211452522], "A": [211441020, 211441082, 211441390, 211441217, 211441011, 211441288, 211441347, 211441228, 211442540, 211441983, 211441400, 211441604, 211441498, 211442268, 211443714, 211441364, 211441612, 211441912, 211442694, 211441281]}, "name": "E. Boxes and Balls", "statement": "There are n boxes placed in a line. The boxes are numbered from 1 to n.\r\nSome boxes contain one ball inside of them, the rest are empty. At least\r\none box contains a ball and at least one box is empty.In one move, you\r\nchoose a box with a ball inside and an adjacent empty box and move the\r\nball from one box into another. Boxes i and i+1 for all i from 1 to n-1\r\nare considered adjacent to each other. Boxes 1 and n are .How many\r\ndifferent arrangements of balls exist after k moves are performed? Two\r\narrangements are considered different if there is at least one such box\r\nthat it contains a ball in one of them and doesn\u2019t contain a ball in the\r\nother one.Since the answer might be pretty large, print its remainder\r\nmodulo 10^9+7.\r\n", "solutions": ["#include <bits/stdc++.h>\n\nusing namespace std;\n#define int long long\nconst int p=1e9+7;\nconst int maxn=1705;\nconst int h=60;\nint dp[120][maxn];\nint dp2[120][maxn];\nint32_t main()\n{\n    ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n    int n,k;cin>>n>>k;\n    int a[n];for(int i=0;i<n;++i) cin>>a[i];\n    dp[h][0]=1;\n    for(int i=0;i<n;++i)\n    {\n        for(int bal=0;bal<120;++bal) for(int s=0;s<maxn;++s) dp2[bal][s]=0;\n        for(int bal=0;bal<120;++bal)\n        {\n            for(int s=0;s<=k;++s)\n            {\n                if(dp[bal][s])\n                {\n                    int bal1=bal-h;\n                    int u=dp[bal][s];\n                    if(a[i]==1)\n                    {\n                        dp2[bal+1][s+abs(bal1+1)]+=u;if(dp2[bal+1][s+abs(bal1+1)]>=p) dp2[bal+1][s+abs(bal1+1)]-=p;\n                        dp2[bal][s+abs(bal1)]+=u;if(dp2[bal][s+abs(bal1)]>=p) dp2[bal][s+abs(bal1)]-=p;\n                    }\n                    else\n                    {\n                        dp2[bal-1][s+abs(bal1-1)]+=u;if(dp2[bal-1][s+abs(bal1-1)]>=p) dp2[bal-1][s+abs(bal1-1)]-=p;\n                        dp2[bal][s+abs(bal1)]+=u;if(dp2[bal][s+abs(bal1)]>=p) dp2[bal][s+abs(bal1)]-=p;\n                    }\n                }\n            }\n        }\n        for(int bal=0;bal<120;++bal) for(int s=0;s<maxn;++s) dp[bal][s]=dp2[bal][s];\n    }\n    int res=0;for(int i=k%2;i<=k;i+=2) {res+=dp[h][i];if(res>=p) res-=p;}\n    cout<<res;\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["dp", "implementation", "math"], "dificulty": "2500", "interactive": false}