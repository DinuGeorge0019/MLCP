{"link": "https://codeforces.com//contest/1093/problem/D", "problemId": "270225", "problem_idx": "D", "shortId": "1093D", "contest_number": "1093", "problem_submissions": {"F": [47064317, 47066369, 47072013, 47063078, 47070194, 47066599, 47069818, 47071658, 47069736, 47073345, 47066962, 47067247, 47069530, 47073606, 47073395, 47061796, 47063002, 47067085, 47069647], "E": [47059940, 47175053, 47174990, 47174965, 47060977, 47054377, 47057431, 47053669, 47071310, 47064501, 47060021, 47063571, 47051018, 47060722, 47054485, 47099037, 47099010, 47054662, 47065797, 47074158, 47051089, 47074689, 47067318, 47063903, 47063526, 47063507, 47058046, 47058483], "G": [47051449, 47054318, 47060619, 47069286, 47064176, 47054294, 47058010, 47064582, 47059658, 47045741, 47069865, 47071490, 47044907, 47068431, 47054907, 47076907, 47070943, 47045135, 47052551, 47065756, 47061805, 47064972], "D": [47046394, 47048590, 47050157, 47049421, 47048833, 47047771, 47051232, 47049608, 47047579, 47056236, 47052390, 47047717, 47060889, 47049097, 47062998, 47068801, 47069194, 47070905, 47050207, 47053679], "C": [47043859, 47045338, 47046257, 47046095, 47044608, 47045282, 47047834, 47047265, 47045573, 47053477, 47049038, 47043947, 47058752, 47044937, 47064718, 47070147, 233878752, 233878357, 233877672, 233874035, 47071603, 47073360, 47045788, 47044965], "B": [47041242, 47042516, 47041777, 47042122, 47042500, 47043090, 47044535, 47044930, 47041021, 47051714, 47043546, 47041074, 47056563, 47042532, 47063756, 47070397, 47070118, 47071889, 47042554, 47041254], "A": [47040802, 47041248, 47040853, 47040900, 47040739, 47042123, 47040939, 47043340, 47040729, 47052191, 47041112, 47040744, 47075234, 47055833, 47041119, 47063989, 47070741, 47069623, 47071501, 47041275, 47040765]}, "name": "D. Beautiful Graph", "statement": "You are given an undirected unweighted graph consisting of n vertices\r\nand m edges.You have to write a number on each vertex of the graph. Each\r\nnumber should be 1, 2 or 3. The graph becomes beautiful if for each edge\r\nthe sum of numbers on vertices connected by this edge is odd.Calculate\r\nthe number of possible ways to write numbers 1, 2 and 3 on vertices so\r\nthe graph becomes beautiful. Since this number may be large, print it\r\nmodulo 998244353..The graph does not have any self-loops or multiple\r\nedges.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\n\nconst int maxn = 1e6 + 5;\nconst int mod = 998244353;\nint pw[maxn], color[maxn], cnt, sz;\nvector<int> g[maxn];\n\nbool dfs(int x, int c = 0) {\n    color[x] = c;\n    if (c == 0) ++cnt;\n    ++sz;\n    bool res = true;\n    for (const int &u : g[x]) {\n        if (color[u] == -1) res &= dfs(u, c ^ 1);\n        else res &= color[u] != color[x];\n    }\n    return res;\n}\n\nint main() {\n    int t; scanf(\"%d\", &t);\n    pw[0] = 1;\n    for (int i = 1; i < maxn; ++i) pw[i] = pw[i - 1] * 2 % mod;\n    while (t--) {\n        int n, m; scanf(\"%d%d\", &n, &m);\n        for (int i = 0; i < n; ++i) g[i].clear();\n        for (int i = 0; i < m; ++i) {\n            int x, y; scanf(\"%d%d\", &x, &y);\n            --x, --y;\n            g[x].push_back(y);\n            g[y].push_back(x);\n        }\n        int ans = 1;\n        for (int i = 0; i < n; ++i) color[i] = -1;\n        for (int i = 0; i < n; ++i) {\n            if (color[i] != -1) continue;\n            cnt = 0, sz = 0;\n            if (!dfs(i)) ans = 0;\n            int way = (pw[cnt] + pw[sz - cnt]) % mod;\n            ans = ans * 1ll * way % mod;\n        }\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["dfs and similar", "graphs"], "dificulty": "1700", "interactive": false}