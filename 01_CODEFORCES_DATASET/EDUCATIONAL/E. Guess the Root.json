{"link": "https://codeforces.com//contest/1155/problem/E", "problemId": "334465", "problem_idx": "E", "shortId": "1155E", "contest_number": "1155", "problem_submissions": {"F": [53147227, 53157176, 53156900, 53156084, 53154052, 53160034, 53156325, 53151832, 53154755, 53148688, 53161959, 53262750, 53737446, 53737379, 53175185], "E": [53135994, 53143627, 53147598, 53158466, 53136989, 53158165, 53136136, 53151523, 53138725, 53138756, 53143870, 53141750, 53144225, 53141600, 53144263, 53142970, 53144678, 53143027, 53146492, 53139061], "D": [53132284, 53136375, 53137845, 53140433, 53131955, 53144376, 53152771, 53133770, 53130242, 53133856, 53135466, 53137404, 53132457, 53137383, 53135331, 53136120, 53161942, 53136545, 53137490, 53137142], "C": [53130521, 53133027, 53132212, 53133949, 53152978, 53158707, 53154112, 53130838, 53134553, 53131325, 53130045, 53131332, 53135487, 53132186, 53132107, 53133338, 53132645, 53132555, 53132260], "B": [53127872, 53130197, 53129680, 53129662, 53128390, 53156310, 53155054, 53129416, 53131929, 53128726, 53127750, 53128694, 53130002, 53129606, 53130017, 53128669, 53130637, 53130008, 53131121], "A": [53127037, 53127563, 53127047, 53127010, 53127272, 53156874, 53155461, 53127028, 53127341, 53127201, 53128346, 53127115, 53128140, 53127708, 53127365, 53130750, 53128472, 53127451, 53127014]}, "name": "E. Guess the Root", "statement": "Jury picked a polynomial f(x) = a_0 + a_1\r\ncdot x + a_2\r\ncdot x^2 +\r\ndots + a_k\r\ncdot x^k. k\r\nle 10 and all a_i are integer numbers and 0\r\nle a_i < 10^6 + 3. It\u2019s guaranteed that there is at least one i such\r\nthat a_i > 0.Now jury wants you to find such an integer x_0 that f(x_0)\r\nequiv 0\r\nmod (10^6 + 3) or report that there is not such x_0.You can ask no more\r\nthan 50 queries: you ask value x_q and jury tells you value f(x_q)\r\nmod (10^6 + 3).Note that printing the answer doesn\u2019t count as a query.\r\n", "solutions": ["#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <queue>\n#include <ctime>\n#include <cassert>\n#include <complex>\n#include <string>\n#include <cstring>\n#include <chrono>\n#include <random>\n#include <queue>\n#include <bitset>\nusing namespace std;\n\n#ifdef LOCAL\n\t#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#else\n\t#define eprintf(...) 42\n#endif\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, int> pli;\ntypedef pair<ll, ll> pll;\ntypedef long double ld;\n#define mp make_pair\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\n\nconst ll MOD = (ll)1e6 + 3;\nll add(ll x, ll y) {\n\tx += y;\n\tif (x >= MOD) return x - MOD;\n\treturn x;\n}\nll sub(ll x, ll y) {\n\tx -= y;\n\tif (x < 0) return x + MOD;\n\treturn x;\n}\nll mult(ll x, ll y) {\n\treturn (x * y) % MOD;\n}\n\nll rev[MOD];\n\nconst int N = 12;\nll a[N];\nll b[N], c[N];\n\nint main()\n{\n//\tfreopen(\"input.txt\", \"r\", stdin);\n//\tfreopen(\"output.txt\", \"w\", stdout);\n\n\trev[1] = 1;\n\tfor (ll x = 2; x < MOD; x++)\n\t\trev[x] = sub(0, mult(MOD / x, rev[MOD % x]));\n\n\tfor (int i = 0; i < N; i++) {\n\t\tprintf(\"? %d\\n\", i);\n\t\tfflush(stdout);\n\t\tfor (int j = 0; j < N; j++)\n\t\t\ta[j] = 0;\n\t\ta[0] = 1;\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tif (j == i) continue;\n\t\t\tfor (int k = N - 1; k > 0; k--)\n\t\t\t\ta[k] = sub(a[k - 1], mult(a[k], j));\n\t\t\ta[0] = sub(0, mult(a[0], j));\n\t\t}\n\t\tll y;\n\t\tscanf(\"%lld\", &y);\n\t\tif (y == -1) throw;\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tif (j == i) continue;\n\t\t\ty = mult(y, rev[sub(i, j)]);\n\t\t}\n\t\tfor (int k = 0; k < N; k++)\n\t\t\tc[k] = add(c[k], mult(y, a[k]));\n\t}\n/*\n\tfor (int k = 0; k < N; k++) {\n\t\tprintf(\"%lld \", c[k]);\n\t}\n\tprintf(\"\\n\");\n\tfflush(stdout);\n*/\n\tfor (ll x = 0; x < MOD; x++) {\n\t\tll w = 0;\n\t\tfor (int k = N - 1; k >= 0; k--) {\n\t\t\tw = add(mult(w, x), c[k]);\n\t\t}\n\t\tif (w == 0) {\n\t\t\tprintf(\"! %lld\\n\", x);\n\t\t\tfflush(stdout);\n\t\t\treturn 0;\n\t\t}\n\t}\n\tprintf(\"! -1\\n\");\n\tfflush(stdout);\n\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["brute force", "interactive", "math"], "dificulty": "2200", "interactive": false}