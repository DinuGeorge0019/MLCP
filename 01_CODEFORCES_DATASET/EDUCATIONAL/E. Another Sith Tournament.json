{"link": "https://codeforces.com//contest/678/problem/E", "problemId": "62343", "problem_idx": "E", "shortId": "678E", "contest_number": "678", "problem_submissions": {"F": [18453131, 18420467, 18425171, 18429408, 18431074, 18428972, 18515149, 18432045, 89962482, 18522658, 18427723], "E": [18423856, 18426719, 18424135, 18422717, 18424399, 18422688, 18421665, 18423374, 18424000, 18427338, 18425849, 18427192, 18423884, 18423912, 18423782, 18423439, 18422852, 18426690, 18426397, 18430230, 18428108], "D": [18422167, 18420673, 18421079, 18421585, 18418234, 18420418, 18420469, 18421143, 18421608, 18420811, 18420770, 18422521, 18422464, 18421452, 18418864, 18420342, 18421560, 18422253, 18422291, 18423193], "C": [18421205, 18418762, 18419353, 18420283, 18419554, 18419287, 18418669, 18419102, 18419489, 18418869, 18419091, 18419530, 18417774, 18417333, 18422755, 18419713, 18418829], "B": [18418891, 18418100, 18418460, 18419775, 18420991, 18418525, 18417867, 18418207, 18418651, 18418012, 18418189, 18420158, 18418599, 18418750, 18419513, 18418365, 18418476, 18418554, 18418016], "A": [18417154, 18416577, 18416530, 18416541, 18416507, 18416774, 18416581, 18416781, 18417063, 18416573, 18416637, 18417124, 18416520, 18416522, 18416509, 18417176, 18416817, 18416584]}, "name": "E. Another Sith Tournament", "statement": "The rules of Sith Tournament are well known to everyone. Sith take part\r\nin the Tournament. The Tournament starts with the random choice of two\r\nSith who will fight in the first battle. As one of them loses, his place\r\nis taken by the next randomly chosen Sith who didn\u2019t fight before. Does\r\nit need to be said that each battle in the Sith Tournament ends with a\r\ndeath of one of opponents? The Tournament ends when the only Sith\r\nremains alive.Jedi Ivan accidentally appeared in the list of the\r\nparticipants in the Sith Tournament. However, his skills in the Light\r\nSide of the Force are so strong so he can influence the choice of\r\nparticipants either who start the Tournament or who take the loser\u2019s\r\nplace after each battle. Of course, he won\u2019t miss his chance to take\r\nadvantage of it. Help him to calculate the probability of his victory.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nconst int N = 18;\nint n;\nint cnt[1 << N];\ndouble p[N][N];\ndouble f[N][1 << N];\n\nint main() {\n    cin >> n;\n    for (int i = 0 ; i < n; ++ i) {\n        for (int j = 0 ; j < n ; ++ j) {\n            cin >> p[i][j];\n        }\n    }\n    for (int i = 1 ; i < 1 << n ; ++ i) {\n        cnt[i] = cnt[i & (i - 1)] + 1;\n    }\n    f[0][1] = 1;\n    for (int i = 1 ; i < 1 << n ; ++ i) {\n        if (cnt[i] < 2) continue;\n        for (int j = 0 ; j < n ; ++ j) {\n\n            for (int k = 0 ; k < n ; ++ k) {\n                if (j != k && (i >> k & 1)) {\n                    f[j][i] = max(f[j][i] , p[j][k] * f[j][i ^ (1 << k)] + p[k][j] * f[k][i ^ (1 << j)]);\n                }\n            }\n        }\n        //f[i] /= cnt;\n    }\n    double res = 0;\n    for (int i = 0 ; i < n ; ++ i) {\n        res = max(res , f[i][(1 << n) - 1]);\n    }\n    printf(\"%.12f\\n\" , res);\n}\n"], "input": "", "output": "", "tags": ["bitmasks", "dp", "math", "probabilities"], "dificulty": "2200", "interactive": false}