{"link": "https://codeforces.com//contest/1260/problem/E", "problemId": "482537", "problem_idx": "E", "shortId": "1260E", "contest_number": "1260", "problem_submissions": {"F": [65858730, 65862568, 66652397, 66566066, 66562444, 66562321, 66562191, 66549616, 66548423, 66547174, 66518194, 66518036, 66517620, 66510535, 66510382, 66510329, 66510272, 66510123, 66479420, 66479366, 66477381, 66477286, 66476986, 66321512, 66246571, 66246300, 66238302, 66238072, 66237291, 66208821, 66204798, 66204686, 66203676, 66203473, 66203066, 66202735, 66202708, 66159751, 66157778, 66157649, 66157618, 66156988, 65877182, 65877041, 65876947, 65876872, 65876803, 65876438, 65866876, 66367088, 65866080, 65866251, 65864285, 65877636, 65873623, 65885023, 66605734, 66774965], "E": [65846156, 65847430, 65837398, 65853743, 65845843, 65855348, 65845810, 65888526, 65846187, 65841086, 65850296, 65842358, 65848204, 65850447, 65852329, 65852192, 65851204, 65854002, 65852510], "D": [65842916, 65839945, 65842733, 65847161, 65840341, 65840171, 65846096, 65839274, 65888522, 65837646, 65842330, 65843302, 65851742, 65843499, 65843987, 65845327, 65933516, 65844977, 65845445, 65847585, 65843731], "C": [65833157, 65835911, 65834737, 65835945, 65833091, 65840410, 65832981, 65888509, 65833437, 65830880, 65835473, 65834819, 65835069, 65838384, 65834359, 65834145, 65837535, 65834275, 65835760], "B": [65831075, 65831703, 65829870, 65830692, 65829912, 65833299, 65829889, 65888498, 65829702, 65829574, 65830168, 65831336, 65830234, 65832147, 65830305, 65830813, 65831299, 65830442, 65831731], "A": [65829790, 65829709, 65829549, 65829616, 65829579, 65830086, 65829577, 65888488, 65829556, 65829530, 65829593, 65829726, 65829617, 65830283, 65829711, 65829913, 65830075, 65829704, 65830725]}, "name": "E. Tournament", "statement": "You are organizing a boxing tournament, where n boxers will participate\r\n(n is a power of 2), and your friend is one of them. All boxers have\r\ndifferent strength from 1 to n, and boxer i wins in the match against\r\nboxer j if and only if i is stronger than j.The tournament will be\r\norganized as follows: n boxers will be divided into pairs; the loser in\r\neach pair leaves the tournament, and\r\nfrac{n}{2} winners advance to the next stage, where they are divided\r\ninto pairs again, and the winners in all pairs advance to the next\r\nstage, and so on, until only one boxer remains (who is declared the\r\nwinner).Your friend really wants to win the tournament, but he may be\r\nnot the strongest boxer. To help your friend win the tournament, you may\r\nbribe his opponents: if your friend is fighting with a boxer you have\r\nbribed, your friend wins even if his strength is lower.Furthermore,\r\nduring each stage you distribute the boxers into pairs as you wish.The\r\nboxer with strength i can be bribed if you pay him a_i dollars. What is\r\nthe minimum number of dollars you have to spend to make your friend win\r\nthe tournament, provided that you arrange the boxers into pairs during\r\neach stage as you wish?\r\n", "solutions": ["#include <bits/stdc++.h>\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nint main() {\n    int n;\n    vector<int> A;\n    scanf(\"%d\", &n);\n    int l = 0;\n    while ((1 << l) != n) l++;\n    int f = -1;\n    for (int i = 0; i < n; i++) {\n        int a;\n        scanf(\"%d\", &a);\n        if (a == -1) {\n            f = i;\n            continue;\n        }\n        A.push_back(f != -1 ? a : 0);\n    }\n    reverse(A.begin(), A.end());\n    const ll inf = 1e18;\n    ll dp[20] = {};\n    int cnt[20] = { n / 2 };\n    for (int i = 1; i < l; i++) cnt[i] = cnt[i - 1] + (1 << l - i - 1);\n    for (int i = 1; i < l; i++) dp[i] = inf;\n    dp[0] = A[0];\n    for (int i = 1; i < int(A.size()); i++) {\n        ll nxt[20] = {};\n        for (int j = 0; j < l; j++) nxt[j] = inf;\n        for (int j = 0; j < l; j++) {\n            if (i + 1 <= cnt[j]) nxt[j] = min(nxt[j], dp[j]);\n            nxt[j + 1] = min(nxt[j + 1], dp[j] + A[i]);\n        }\n        for (int j = 0; j < l; j++) dp[j] = nxt[j];\n    }\n    printf(\"%lld\\n\", dp[l - 1]);\n}"], "input": "", "output": "", "tags": ["brute force", "dp", "greedy"], "dificulty": "2400", "interactive": false}