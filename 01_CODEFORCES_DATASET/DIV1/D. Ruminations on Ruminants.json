{"link": "https://codeforces.com//contest/603/problem/D", "problemId": "42013", "problem_idx": "D", "shortId": "603D", "contest_number": "603", "problem_submissions": {"E": [14601511, 14617280, 14604705, 14600443], "B": [14593533, 14587045, 14589326, 14589031, 14586181, 14589818, 14588082, 14588941, 14588018, 14589775, 14590006, 14589946, 14591160, 14588048, 14591719, 14589609, 14588347, 14594211, 14588610], "C": [14591371, 14590095, 14592691, 14592593, 14589544, 14587905, 14590360, 14592646, 14593601, 14593350, 14595265, 14602871, 14589734, 14593412, 14595137, 14591430, 14591097, 14598084, 14593035], "A": [14587155, 14591228, 14594284, 14586714, 14587304, 14592455, 14586190, 14586556, 14586409, 14588357, 14613579, 14591988, 14586421, 14587516, 14587463, 14586240, 14590046, 14586262], "D": [14596780, 14600081, 14597772, 14601222, 14598361, 14599882, 14599185, 14602018, 14603122, 14599499]}, "name": "D. Ruminations on Ruminants", "statement": "Kevin Sun is ruminating on the origin of cows while standing at the\r\norigin of the Cartesian plane. He notices lines on the plane, each\r\nrepresentable by an equation of the form . He also observes that no two\r\nlines are parallel and that no three lines pass through the same\r\npoint.For each triple such that , Kevin considers the triangle formed by\r\nthe three lines . He calls a triangle if the circumcircle of that\r\ntriangle passes through the origin. Since Kevin believes that the\r\ncircles of bovine life are tied directly to such triangles, he wants to\r\nknow the number of original triangles formed by unordered triples of\r\ndistinct lines. Recall that the of a triangle is the circle which passes\r\nthrough all the vertices of that triangle.\r\n", "solutions": ["#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <string>\n#include <vector>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <bitset>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <cstdio>\n\nusing namespace std;\n\n#define REP(i,n) for((i)=0;(i)<(int)(n);(i)++)\n#define snuke(c,itr) for(__typeof((c).begin()) itr=(c).begin();itr!=(c).end();itr++)\n\ntypedef long long ll;\n\n#define _abs(x) ((x)>0?(x):-(x))\n\nll gcd(ll x, ll y){\n    return x ? gcd(y%x, x) : y;\n}\n\nint N;\nint a[2010],b[2010],c[2010];\nvector <pair <ll, ll> > v;\n\nll func(void){\n    int i,j;\n    int ans = 0;\n    \n    i = 0;\n    while(i < v.size()){\n        for(j=i;j<v.size();j++) if(v[j] != v[i]) break;\n        int d = j - i;\n        ans += d * (d - 1) / 2;\n        i = j;\n    }\n    \n    return ans;\n}\n\nint main(void){\n    int i,j;\n    \n    cin >> N;\n    REP(i,N) scanf(\"%d%d%d\", &a[i], &b[i], &c[i]);\n    \n    ll ans = 0;\n    \n    int zero = 0;\n    REP(i,N) if(c[i] == 0) zero++;\n    if(zero == 2) ans += N - 2;\n    \n    REP(i,N) if(c[i] != 0){\n        v.clear();\n        ll px = a[i] * a[i] + b[i] * b[i];\n        ll qx = a[i] * c[i];\n        ll py = a[i] * a[i] + b[i] * b[i];\n        ll qy = b[i] * c[i];\n        \n        // cout << qx << \"/\" << px << ' ' << qy << \"/\" << py << endl;\n        \n        REP(j,i) if(c[j] != 0){\n            ll px2 = a[j] * a[j] + b[j] * b[j];\n            ll qx2 = a[j] * c[j];\n            ll py2 = a[j] * a[j] + b[j] * b[j];\n            ll qy2 = b[j] * c[j];\n            \n            ll rx = px * px2;\n            ll sx = qx * px2 - px * qx2;\n            \n            ll ry = py * py2;\n            ll sy = qy * py2 - py * qy2;\n            \n            ll g = gcd(_abs(sx), _abs(sy));\n            sx /= g; sy /= g;\n            if(sx < 0 || (sx == 0 && sy < 0)){\n                sx = -sx;\n                sy = -sy;\n            }\n            \n            // cout << i << ' ' << j << ' ' << sx << \"/\" << rx << ' ' << sy << \"/\" << ry << endl;\n            \n            v.push_back(make_pair(sx, sy));\n        }\n        \n        sort(v.begin(),v.end());\n        \n        ll tmp = func();\n        ans += tmp;\n    }\n    \n    cout << ans << endl;\n    \n    return 0;\n}\n"], "input": "", "output": "", "tags": ["geometry", "math"], "dificulty": "2900", "interactive": false}