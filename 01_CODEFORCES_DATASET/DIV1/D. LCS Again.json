{"link": "https://codeforces.com//contest/578/problem/D", "problemId": "35419", "problem_idx": "D", "shortId": "578D", "contest_number": "578", "problem_submissions": {"D": [13043018, 13035846, 13036528, 13038587, 13044167, 13041175, 13037259, 13038897, 13041869, 13037673, 13043371, 13037414, 13050779, 13036416, 13040134, 13038396, 13039211], "E": [13038901, 13041994, 13043511, 13044723, 13047038, 13049049, 13049923, 13047637, 13049042, 13047937, 13049450, 13060851, 13041499, 13046763], "B": [13033269, 13029103, 13030026, 13030734, 13032310, 13031712, 13030424, 13048740, 13029417, 13030120, 13034104, 13030544, 13032556, 13030378, 13030241, 13028648, 13031292, 13033423], "C": [13032149, 13030512, 13032354, 13033188, 13037469, 13037436, 13032059, 13034534, 13040875, 13051722, 13037824, 13032969, 13057631, 13032320, 13033127, 13034805, 13035383, 13037049], "A": [13028273, 13027990, 13028573, 13030087, 13030676, 13029354, 13030453, 13032789, 13027838, 13031000, 13029241, 13029752, 13028730, 13028651, 13043323, 13029257, 13031415], "F": [13054189, 16905284, 13299937]}, "name": "D. LCS Again", "statement": "You are given a string of length with each character being one of the\r\nfirst lowercase English letters. Calculate how many different strings of\r\nlength composed from the first lowercase English letters exist such that\r\nthe length of LCS (longest common subsequence) between and is .Recall\r\nthat LCS of two strings and is the longest string such that both in and\r\nas a subsequence.\r\n", "solutions": ["#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <string>\n#include <cstring>\nusing namespace std;\ntypedef long long ll;\n\nconst int N = 100100;\nchar s[N];\nll a[N];\nll b[N];\nint n;\nll m;\nll ans = 0;\n\nint main()\n{\n//  freopen(\"input.txt\", \"r\", stdin);\n//  freopen(\"output.txt\", \"w\", stdout);\n\n    scanf(\"%d%lld\", &n, &m);\n    scanf(\" %s \", s);\n    m--;\n    for (int i = 1; i < n; i++)\n        if (s[i] != s[i - 1])\n            b[i] = 1;\n    b[n] = 0;\n    for (int i = n - 1; i >= 0; i--)\n        b[i] += b[i + 1];\n    ans = 0;\n    for (int i = 0; i < n; i++)\n        ans += m * (b[i + 1] + 1);\n    for (int i = 0; i < n; i++)\n        b[i] = 0;\n    for (int i = 0; i < n - 1; i++)\n        if (s[i] != s[i + 1])\n            b[i + 1] = 1;\n    for (int i = 1; i <= n; i++)\n        b[i] += b[i - 1];\n    for (int i = 1; i < n; i++)\n        ans += m * b[i];\n    \n    int r = 0;\n    for (int l = 0; l < n - 1; l++)\n    {\n        if (s[l] == s[l + 1]) continue;\n        r = max(r, l + 2);\n        while(r < n && s[r] == s[r - 2]) r++;\n        ans -= r - l - 1;\n    }\n    \n    printf(\"%lld\\n\", ans);\n\n    return 0;\n}"], "input": "", "output": "", "tags": ["dp", "greedy"], "dificulty": "2700", "interactive": false}