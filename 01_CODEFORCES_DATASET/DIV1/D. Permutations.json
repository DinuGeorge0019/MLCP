{"link": "https://codeforces.com//contest/736/problem/D", "problemId": "82054", "problem_idx": "D", "shortId": "736D", "contest_number": "736", "problem_submissions": {"C": [22555337, 22554506, 22542338, 22535831, 22538132, 22542963, 22545295, 22544856, 22555696, 22545920, 22543329, 22542401, 22544023, 22544088, 22549626, 22550878], "E": [22551348, 22559840, 22556062, 22550741, 22535583, 22555885, 22560242, 22554763, 22557400, 22557039, 22555474, 22555738, 22555988, 22544797, 22548099], "B": [22540910, 22533406, 22531522, 22550856, 22532550, 22535729, 22553163, 22533593, 22532530, 22545935, 22532493, 22534671, 22535087, 22535221, 22540506, 22540155, 22534429, 22543621, 22539284, 22532660], "D": [22539634, 22548080, 22543151, 22542192, 22547599, 22543734, 22549554, 22547719, 22543270, 22554259, 22553954, 22555670, 22555340], "A": [22535135, 22530967, 22530408, 22545237, 22532700, 22532341, 22531205, 22530536, 22540413, 22530773, 22536724, 22531871, 22532439, 22531278, 22530654, 22531077, 22533541, 22530767, 22530574]}, "name": "D. Permutations", "statement": "Ostap Bender is worried that people started to forget that he is the\r\nGreat Combinator. Now he wants to show them his skills in combinatorics.\r\nNow he studies the permutations of length . He has a list of valid\r\npairs, pair and means that he is allowed to place integers at position\r\n.He knows that the number of permutations that use only valid pairs is .\r\nNow, for each pair he wants to find out, will the number of valid\r\npermutations be if he this pair (and only it) from the list.\r\n", "solutions": ["#include<stdio.h>\n#include<cstring>\n#include<cstdlib>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<map>\n#include<set>\n#include<queue>\n#include<bitset>\n#include<utility>\n#include<functional>\n#include<iomanip>\n#include<sstream>\n#include<ctime>\n#include<cassert>\nusing namespace std;\n#define y0 y0z\n#define y1 y1z\n#define yn ynz\n#define j0 j0z\n#define j1 j1z\n#define jn jnz\n#define tm tmz\n#define buli(x) (__builtin_popcountll(x))\n#define bur0(x) (__builtin_ctzll(x))\n#define bul2(x) (63-__builtin_clzll(x))\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define fil(a,b) memset((a),(b),sizeof(a))\n#define cl(a) fil(a,0)\n#define siz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define foreach(it,a) for(__typeof((a).begin()) it=(a).begin();it!=(a).end();it++)\n#define rep(i,a,b) for (int i=(a),_ed=(b);i<_ed;i++)\n#define per(i,a,b) for (int i=(b)-1,_ed=(a);i>=_ed;i--)\n#define forg(i,gu) for (int i=gu;~i;i=e[i].next)\n#define pw(x) ((ll(1))<<(x))\n#define upmo(a,b) (((a)=((a)+(b))%mo)<0?(a)+=mo:(a))\n#define mmo(a,b) (((a)=1ll*(a)*(b)%mo)<0?(a)+=mo:(a))\nvoid getre(){int x=0;printf(\"%d\\n\",1/x);}\nvoid gettle(){int res=1;while(1)res<<=1;printf(\"%d\\n\",res);}\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<pii> vpii;\ntemplate<typename T,typename S>inline bool upmin(T&a,const S&b){return a>b?a=b,1:0;}\ntemplate<typename T,typename S>inline bool upmax(T&a,const S&b){return a<b?a=b,1:0;}\ntemplate<typename N,typename PN>inline N flo(N a,PN b){return a>=0?a/b:-((-a-1)/b)-1;}\ntemplate<typename N,typename PN>inline N cei(N a,PN b){return a>0?(a-1)/b+1:-(-a/b);}\ntemplate<typename N>N gcd(N a,N b){return b?gcd(b,a%b):a;}\ntemplate<typename N>inline int sgn(N a){return a>0?1:(a<0?-1:0);}\n#if ( ( _WIN32 || __WIN32__ ) && __cplusplus < 201103L)\n#define lld \"%I64d\"\n#else\n#define lld \"%lld\"\n#endif\ninline void gn(long long&x){\n\tint sg=1;char c;while(((c=getchar())<'0'||c>'9')&&c!='-');c=='-'?(sg=-1,x=0):(x=c-'0');\n\twhile((c=getchar())>='0'&&c<='9')x=x*10+c-'0';x*=sg;\n}\ninline void gn(int&x){long long t;gn(t);x=t;}\ninline void gn(unsigned long long&x){long long t;gn(t);x=t;}\ninline void gn(double&x){double t;scanf(\"%lf\",&t);x=t;}\ninline void gn(long double&x){double t;scanf(\"%lf\",&t);x=t;}\ninline void gs(char *s){scanf(\"%s\",s);}\ninline void gc(char &c){while((c=getchar())>126 || c<33);}\ninline void pc(char c){putchar(c);}\n#ifdef JCVB\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#else\n#define debug(...)\n#endif\ntypedef long long ll;\ntypedef double db;\ninline ll sqr(ll a){return a*a;}\ninline db sqrf(db a){return a*a;}\nconst int inf=0x3f3f3f3f;\nconst db pi=3.14159265358979323846264338327950288L;\nconst db eps=1e-6;\nconst int mo=1e9+7;\nint qp(int a,ll b){int n=1;do{if(b&1)n=1ll*n*a%mo;a=1ll*a*a%mo;}while(b>>=1);return n;}\n\nint n,m;\nbitset<2048> a[2048],b[2048];\nstruct edge{\n\tint u,v;\n\tvoid read(){\n\t\tgn(u);gn(v);\n\t\ta[u][v]=1;\n\t}\n}e[555555];\n\nint main()\n{\n#ifdef JCVB\n\t//freopen(\"1.in\",\"r\",stdin);\n\t//freopen(\"1.out\",\"w\",stdout);\n\tint _time_jc=clock();\n#endif\n\tgn(n);gn(m);\n\trep(i,1,m+1){\n\t\te[i].read();\n\t}\n\trep(i,1,n+1)b[i][i]=1;\n\n\trep(i,1,n+1){\n\t\tint j;\n\t\tfor (int k=i;k<=n;k++)if(a[k][i]){\n\t\t\tj=k;\n\t\t\tbreak;\n\t\t}\n\t\tswap(a[i],a[j]);\n\t\tswap(b[i],b[j]);\n\t\trep(k,1,n+1)if(k!=i && a[k][i]==1){\n\t\t\ta[k]^=a[i];\n\t\t\tb[k]^=b[i];\n\t\t}\n\t}\n\trep(i,1,m+1){\n\t\tif(b[e[i].v][e[i].u])printf(\"NO\\n\");\n\t\telse printf(\"YES\\n\");\n\t}\n\n\n\n#ifdef JCVB\n\tdebug(\"time: %d\\n\",int(clock()-_time_jc));\n#endif\n\treturn 0;\n}\n\n\n"], "input": "", "output": "", "tags": ["math", "matrices"], "dificulty": "2800", "interactive": false}