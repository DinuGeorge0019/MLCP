{"link": "https://codeforces.com//contest/601/problem/C", "problemId": "41471", "problem_idx": "C", "shortId": "601C", "contest_number": "601", "problem_submissions": {"A": [14454470, 14443143, 14447063, 14443587, 14445964, 14443595, 14444045, 14444989, 14446125, 14443550, 14443259, 14443909, 14445577, 14444080, 14443457, 14446585, 14444039, 14443354], "B": [14453038, 14449287, 14452241, 14450261, 14447679, 14448966, 14446447, 14447283, 14448908, 14445351, 14446449, 14446110, 14446584, 14449868, 14447883, 14445592, 14448674, 14450206, 14448949], "C": [14451829, 14446840, 14444491, 14448343, 14449987, 14446641, 14447562, 14449169, 14451065, 14449654, 14454388, 14453682, 14454128, 14447981, 14450444, 14450228, 14453413, 14447154, 14447182], "D": [14449920, 14451694, 14450636, 14452396, 14452299, 14456203, 14456286, 14457609, 14452835, 14451843, 14450703, 14452065, 14453099, 14453143, 14453767, 14451161, 14453943, 14454530], "E": [14447206, 14455203, 14456257, 14455227, 14455660, 14455476, 14454130, 14452692, 14454008, 14577340, 14553610]}, "name": "C. Kleof\u00e1\u0161 and the n-thlon", "statement": "Kleof is participating in an -thlon - a tournament consisting of\r\ndifferent competitions in different disciplines (numbered through ).\r\nThere are participants in the -thlon and each of them participates in\r\nall competitions.In each of these competitions, the participants are\r\ngiven from to in such a way that no two participants are given the same\r\nrank - in other words, the ranks in each competition form a permutation\r\nof numbers from to . The of a participant in a competition is equal to\r\nhis/her rank in it.The of each participant is computed as the sum of\r\nthat participant\u2019s scores in all competitions.The of each participant is\r\nequal to , where is the number of participants with overall score.The\r\n-thlon is over now, but the results haven\u2019t been published yet. Kleof\r\nstill remembers his ranks in each particular competition; however, he\r\ndoesn\u2019t remember anything about how well the other participants did.\r\nTherefore, Kleof would like to know his expected overall rank.All\r\ncompetitors are equally good at each discipline, so all rankings\r\n(permutations of ranks of everyone except Kleof ) in each competition\r\nare equiprobable.\r\n", "solutions": ["#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <cassert>\nusing namespace std;\n#define rep(i,a,n) for (int i=a;i<n;i++)\n#define per(i,a,n) for (int i=n-1;i>=a;i--)\n#define pb push_back\n#define mp make_pair\n#define all(x) (x).begin(),(x).end()\n#define fi first\n#define se second\n#define SZ(x) ((int)(x).size())\ntypedef vector<int> VI;\ntypedef long long ll;\ntypedef pair<int,int> PII;\nconst ll mod=1000000007;\nll powmod(ll a,ll b) {ll res=1;a%=mod;for(;b;b>>=1){if(b&1)res=res*a%mod;a=a*a%mod;}return res;}\n// head\n\nint n,m,x;\nlong double dp[1010000],s[1010000];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tdp[0]=1;\n\tif (m==1) { puts(\"1\"); return 0; }\n\tint S=0;\n\trep(i,1,n+1) {\n\t\tscanf(\"%d\",&x);\n\t\tS+=x;\n\t\ts[0]=dp[0];\n\t\trep(j,1,i*m+1) s[j]=s[j-1]+dp[j];\n\t\tper(j,1,i*m+1) {\n\t\t\tdp[j]=s[j-1];\n\t\t\tif (j-m-1>=0) dp[j]-=s[j-m-1];\n\t\t\tif (j-x>=0) dp[j]-=dp[j-x];\n\t\t\tdp[j]/=(m-1);\n\t\t}\n\t\tdp[0]=0;\n\t//\trep(j,1,i*m+1) printf(\"%.10f \",dp[j]);\n\t//\tputs(\"\");\n\t}\n\tdouble prob=0;\n\trep(i,0,S) prob+=dp[i];\n\tprintf(\"%.10f\\n\",1+prob*(m-1));\n}\n"], "input": "", "output": "", "tags": ["dp", "math", "probabilities"], "dificulty": "2300", "interactive": false}