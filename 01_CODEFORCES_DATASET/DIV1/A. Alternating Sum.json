{
    "link": "https://codeforces.com//contest/963/problem/A",
    "problemId": "175446",
    "problem_idx": "A",
    "shortId": "963A",
    "contest_number": "963",
    "problem_submissions": {
        "E": [
            37408346,
            37407644,
            51152346,
            37411847,
            37415664,
            37414743,
            37424807,
            37560510,
            63561204,
            37525085
        ],
        "D": [
            37404929,
            37404881,
            37407341,
            37406493,
            37404117,
            37403898,
            37407185,
            37408546,
            37404537,
            37409644,
            37405529,
            37411456,
            37412888,
            37408258,
            37411536,
            37411945,
            37405408,
            37405454,
            37410330
        ],
        "C": [
            37403149,
            37410272,
            37405789,
            37402217,
            37408755,
            37410613,
            37405532,
            37406058,
            37410998,
            37406279,
            37408081,
            37407255,
            37409639,
            37405742,
            37409484,
            37407736,
            37415193,
            37408262
        ],
        "A": [
            37400764,
            37398530,
            37400243,
            37398542,
            37398672,
            37398448,
            37403076,
            37400054,
            37401968,
            37403020,
            37402655,
            37401825,
            37399871,
            37409184,
            37400223,
            37401116,
            37399078,
            37407652
        ],
        "B": [
            37399438,
            37401875,
            37403648,
            37403088,
            37402069,
            37401815,
            37401672,
            37402933,
            37403748,
            37400539,
            37403834,
            37404008,
            37402988,
            37412215,
            37402134,
            37404563,
            37403658,
            37399677,
            37411986
        ]
    },
    "name": "A. Alternating Sum",
    "statement": "You are given two integers a and b. Moreover, you are given a sequence\r\ns_0, s_1,\r\ndots, s_{n}. All values in s are integers 1 or -1. It\u2019s known that\r\nsequence is k-periodic and k divides n+1. In other words, for each k\r\nleq i\r\nleq n it\u2019s satisfied that s_{i} = s_{i - k}.Find out the remainder of\r\ndivision of\r\nsum\r\nlimits_{i=0}^{n} s_{i} a^{n - i} b^{i} by 10^{9} + 9.\r\n",
    "solutions": [
        "#ifndef BZ\n#pragma GCC optimize \"-O3\"\n#endif\n#include <bits/stdc++.h>\n\nusing ll = long long;\nusing ld = long double;\nusing ull = uint64_t;\nusing namespace std;\n\nconst ll MOD = 1e9 + 9;\n\nll pw(ll a, ll b = MOD - 2) {\n\tif (!b) {\n\t\treturn 1;\n\t}\n\n\tll v = pw(a, b / 2);\n\tv = (v * v) % MOD;\n\n\tif (b & 1) {\n\t\tv = (v * a) % MOD;\n\t}\n\t\n\treturn v;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0); cout.setf(ios::fixed); cout.precision(20);\n\tll n, a, b, k;\n\tcin >> n >> a >> b >> k;\n\tstring s;\n\tcin >> s;\n\tll c = pw(a, n) % MOD;\n\tll ml = 1;\n\n\tll x = 0;\n\tfor (int i = 0; i < k; ++i) {\n\t\tif (s[i] == '+') {\n\t\t\tx += c * ml;\n\t\t} else {\n\t\t\tx -= c * ml;\n\t\t}\n\n\t\tx %= MOD;\n\t\tml = ml * b % MOD * pw(a) % MOD;\n\t}\n\n\tif (x < 0) {\n\t\tx += MOD;\n\t}\n\n\tll d = (n + 1) / k;\n\n\tif (ml == 1) {\n\t\tcout << (x * d) % MOD << \"\\n\";\n\t} else if (ml == 0) {\n\t\tcout << x % MOD << \"\\n\";\n\t} else {\n\t\tll p = pw(ml, d) - 1;\n\t\tll q = ml - 1;\n\t\tll mm = p * pw(q) % MOD;\n\t\tcout << (x * mm) % MOD << \"\\n\";\n\t}\n}\n\n\n\n\n\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "math",
        "number theory"
    ],
    "dificulty": "1800",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV1\\A. Alternating Sum.json",
    "editorial_link": "https://codeforces.com//blog/entry/58991",
    "editorial": "Let and . Let\u00e2\u0080\u0099s notice that according equality is true: We can easily\r\nget values of , . We only have to count the value of geometric\r\nprogression.Remember to handle the situation when . In this case it is\r\nnot necessarily means that .\r\n"
}