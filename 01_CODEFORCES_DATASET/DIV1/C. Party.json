{"link": "https://codeforces.com//contest/906/problem/C", "problemId": "140846", "problem_idx": "C", "shortId": "906C", "contest_number": "906", "problem_submissions": {"D": [149029866, 33557818, 33559276, 33563941, 33561236, 33558964, 33560338, 33552737, 33564592, 33555169, 33563596, 33557368, 33574046, 33570274, 33569097, 33952208, 33561210, 33554741, 33558804, 33566104, 33558203, 33550675], "E": [33563788, 51774603, 33570251, 42678760, 33642683, 33642639, 57252155, 33595209], "A": [33559632, 33542429, 33541419, 33540284, 33543709, 33540394, 33541815, 33539940, 33541391, 33544813, 33540734, 33541098, 33542736, 33541277, 33565456, 33540685, 33540110, 33569386], "C": [33554104, 33555026, 33556927, 33558399, 33566145, 33563804, 33559596, 33558825, 33566746, 33569757, 33570264, 33560203, 33561015, 33582668, 33568743, 33550511, 33571601, 33568875, 33565260], "B": [33543854, 33551699, 33549379, 33555394, 33548541, 33552331, 33565116, 33549927, 33571875, 33555675, 33564877, 33554448, 33562774, 33555252, 33583579, 33583372, 33554912, 33572090]}, "name": "C. Party", "statement": "Arseny likes to organize parties and invite people to it. However, not\r\nonly friends come to his parties, but friends of his friends, friends of\r\nfriends of his friends and so on. That\u2019s why some of Arseny\u2019s guests can\r\nbe unknown to him. He decided to fix this issue using the following\r\nprocedure.At each step he selects one of his guests , who pairwise\r\nintroduces all of his friends to each other. After this action any two\r\nfriends of become friends. This process is run until all pairs of guests\r\nare friends.Arseny doesn\u2019t want to spend much time doing it, so he wants\r\nto finish this process using the minimum number of steps. Help Arseny to\r\ndo it.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,n) for (int i=a;i<n;i++)\n#define per(i,a,n) for (int i=n-1;i>=a;i--)\n#define pb push_back\n#define mp make_pair\n#define all(x) (x).begin(),(x).end()\n#define fi first\n#define se second\n#define SZ(x) ((int)(x).size())\ntypedef vector<int> VI;\ntypedef long long ll;\ntypedef pair<int,int> PII;\nconst ll mod=1000000007;\nll powmod(ll a,ll b) {ll res=1;a%=mod; assert(b>=0); for(;b;b>>=1){if(b&1)res=res*a%mod;a=a*a%mod;}return res;}\nll gcd(ll a,ll b) { return b?gcd(b,a%b):a;}\n// head\n\nint t,n,m,u,v,g[30],ret,rew,mark[30],f[30],pa[30][30];\nint find(int x) { return f[x]==x?x:f[x]=find(f[x]); }\nvoid dfs(int S,int u,int v) {\n\tif (v>=ret) return;\n\tif (u==n) {\n\t\tbool suc=1;\n\t\tint ff=-1;\n\t\trep(i,0,n) if (S&(1<<i)) {\n\t\t\tif (ff==-1) ff=find(i); else {\n\t\t\t\tif (find(i)!=ff) {\n\t\t\t\t\tsuc=0; break;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ((g[i]&S)==0) { suc=0; break; }\n\t\t}\n\t\tif (suc) {\n\t\t\tret=v,rew=S;\n\t\t}\n\t} else {\n\t\trep(i,0,n) pa[u][i]=f[i];\n\t\tint su=find(u);\n\t\trep(i,0,n) if (g[u]&S&(1<<i)) f[find(i)]=su;\n\t\tdfs(S|(1<<u),u+1,v+1);\n\t\trep(i,0,n) f[i]=pa[u][i];\n\t\tdfs(S,u+1,v);\n\t}\n}\nvoid dfs(int u) {\n\tmark[u]=0;\n\trep(v,0,n) if ((g[u]&(1<<v))&&mark[v]) dfs(v);\n\tprintf(\"%d \",u+1);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\trep(i,0,m) {\n\t\tscanf(\"%d%d\",&u,&v);\n\t\t--u; --v;\n\t\tg[u]|=(1<<v); g[v]|=(1<<u);\n\t}\n\tif (m==n*(n-1)/2) {\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tret=n+1;\n\trep(i,0,n) g[i]|=(1<<i),f[i]=i;\n\tdfs(0,0,0);\n\tprintf(\"%d\\n\",ret);\n\trep(i,0,n) if (rew&(1<<i)) {\n\t\tmark[i]=1;\n\t}\n\trep(i,0,n) if (mark[i]) {\n\t\tdfs(i);\n\t\treturn 0;\n\t}\n}\n"], "input": "", "output": "", "tags": ["bitmasks", "brute force", "dp", "graphs"], "dificulty": "2400", "interactive": false}