{
    "link": "https://codeforces.com//contest/956/problem/D",
    "problemId": "168082",
    "problem_idx": "D",
    "shortId": "956D",
    "contest_number": "956",
    "problem_submissions": {
        "D": [
            36593366,
            36588204,
            36587496,
            36592289,
            36586754,
            36588274,
            36591263,
            36589846,
            36592464,
            36590122,
            36593976,
            36596887,
            36592121,
            36596341,
            36592513,
            36595632,
            36591303,
            36590631,
            36596259,
            36591080
        ],
        "E": [
            36587738,
            36592013,
            36593444,
            36590601,
            36594002,
            36595759,
            36595160,
            36598384,
            36593817,
            36599462,
            36596926,
            36592533,
            36598235,
            36594351,
            36597963,
            36598842,
            36597808,
            36592935,
            36598993,
            36594463
        ],
        "C": [
            36581505,
            36582901,
            36583070,
            36583190,
            36582332,
            36585605,
            36587197,
            36582980,
            36586547,
            36582470,
            36583990,
            36584599,
            36584812,
            36584631,
            36582176,
            36583908,
            36599080,
            36588304,
            36587864
        ],
        "B": [
            36579923,
            36581052,
            36580935,
            36580991,
            36579886,
            36580741,
            36581673,
            36580683,
            36585379,
            36580850,
            36580955,
            36581441,
            36582530,
            36579783,
            36580793,
            36581999,
            36586325,
            36601723,
            36601691,
            36582893
        ],
        "A": [
            36579305,
            36579264,
            36579274,
            36579533,
            36579182,
            36584111,
            36579353,
            36579190,
            36580060,
            36579611,
            36579457,
            36579222,
            36580218,
            36579198,
            36579466,
            36579242,
            36580204,
            36579496,
            36579376
        ],
        "F": [
            36617999
        ]
    },
    "name": "D. Contact ATC",
    "statement": "Arkady the air traffic controller is now working with planes in the air.\r\nAll planes move along a straight coordinate axis with Arkady’s station\r\nbeing at point on it. The -th plane, small enough to be represented by a\r\npoint, currently has a coordinate of and is moving with speed . It’s\r\nguaranteed that , i.e., all planes are moving towards the\r\nstation.Occasionally, the planes are affected by winds. With a wind of\r\nspeed (not necessarily positive or integral), the speed of the -th plane\r\nbecomes .According to weather report, the current wind has a steady\r\nspeed falling inside the range (inclusive), but the exact value cannot\r\nbe measured accurately since this value is rather small smaller than the\r\nabsolute value of speed of any plane.Each plane should contact Arkady at\r\nthe exact moment it passes above his station. And you are to help Arkady\r\ncount the number of pairs of planes () there are such that there is a\r\npossible value of wind speed, under which planes and contact Arkady at\r\nthe same moment. This value needn’t be the same across different\r\npairs.The wind speed is the same for all planes. You may assume that the\r\nwind has a steady speed and lasts arbitrarily long.\r\n",
    "solutions": [
        "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <queue>\n#include <ctime>\n#include <cassert>\n#include <complex>\n#include <string>\n#include <cstring>\nusing namespace std;\n\n#ifdef LOCAL\n\t#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#else\n\t#define eprintf(...) 42\n#endif\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n#define mp make_pair\n\nconst int N = 200200;\nll ANS;\nint n;\npll a[N];\nll M;\n\nbool cmp(const pll &_v, const pll &_u) {\n\tpll v = _v, u = _u;\n\tif (v.first < 0) {\n\t\tv.first *= -1;\n\t\tv.second *= -1;\n\t}\n\tif (u.first < 0) {\n\t\tu.first *= -1;\n\t\tu.second *= -1;\n\t}\n\tll x = v.first * u.second - v.second * u.first;\n\tif (x != 0) return x < 0;\n\tif (_v.first * _u.first > 0)\n\t\treturn _v.first < _u.first;\n\telse\n\t\treturn _v.first > 0;\n}\n\nint fenv[N];\nvoid addFenv(int r) {\n\tfor(; r < N; r |= r + 1)\n\t\tfenv[r]++;\n}\nint getFenv(int r) {\n\tint res = 0;\n\tfor(; r >= 0; r = (r & (r + 1)) - 1)\n\t\tres += fenv[r];\n\treturn res;\n}\n\nvoid solve() {\n\tfor (int i = 0; i < N; i++)\n\t\tfenv[i] = 0;\n\tsort(a, a + n, cmp);\n//\tfor (int i = 0; i < n; i++)\n//\t\tprintf(\"%lld %lld\\n\", a[i].first, a[i].second);\n\tfor (int i = 0; i < n; i++) {\n\t\tll x = a[i].first + N / 2;\n\t\tll old = ANS;\n\t\tif (a[i].first > 0) {\n\t\t\tANS += getFenv(x - 1);\n\t\t\tANS -= getFenv(N / 2);\n\t\t} else {\n\t\t\tANS += getFenv(x - 1);\n\t\t\tANS += getFenv(N - 1);\n\t\t\tANS -= getFenv(N / 2);\n\t\t}\n\t\t//printf(\"%lld\\n\", ANS - old);\n\t\taddFenv(x);\n\t}\n}\n\nint main()\n{\n//\tfreopen(\"input.txt\", \"r\", stdin);\n//\tfreopen(\"output.txt\", \"w\", stdout);\n\n\tscanf(\"%d%lld\", &n, &M);\n\tfor (int i = 0; i < n; i++) {\n\t\tscanf(\"%lld%lld\", &a[i].first, &a[i].second);\n\t}\n\n\tANS = -((ll)n * (n - 1) / 2);\n\tsort(a, a + n);\n\tint len = 1;\n\tfor (int i = 1; i < n; i++) {\n\t\tif (a[i].first != a[i - 1].first) len = 0;\n\t\tlen++;\n\t\tANS += len - 1;\n\t}\n\n\tfor (int i = 0; i < n; i++) {\n\t\ta[i].second += M;\n\t}\n\tsolve();\n//\tprintf(\"%lld\\n\", ANS);\n\tfor (int i = 0; i < n; i++)\n\t\ta[i].second -= M;\n\tfor (int i = 0; i < n; i++) {\n\t\ta[i].first *= -1;\n\t\ta[i].second *= -1;\n\t}\n\tfor (int i = 0; i < n; i++)\n\t\ta[i].second += M;\n\tsolve();\n\n\tprintf(\"%lld\\n\", ANS);\n\n\treturn 0;\n}\n"
    ],
    "input": "",
    "output": "",
    "tags": [],
    "dificulty": "2500",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV1\\D. Contact ATC.json",
    "editorial_link": "https://codeforces.com//blog/entry/58544",
    "editorial": null
}