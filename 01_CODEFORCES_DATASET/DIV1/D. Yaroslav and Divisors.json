{"link": "https://codeforces.com//contest/301/problem/D", "problemId": "2972", "problem_idx": "D", "shortId": "301D", "contest_number": "301", "problem_submissions": {"E": [3682464, 3681114, 4247515], "D": [3677749, 3677901, 3677912, 3678115, 3677526, 3679062, 3677723, 3677856, 3679979, 3679661, 3680028, 3677527, 3675796, 3683550, 3682695, 3682463, 3677874, 3677050, 3678347, 3678222, 3680032], "B": [3675021, 3674605, 3676912, 3676771, 3675890, 3677633, 3681284, 3684667, 3684661, 3684653, 3684635, 3678354, 3678161, 3680771, 3678425, 3681027, 3676146, 3677734, 3676031, 3675130], "A": [3674025, 3673473, 3675526, 3674656, 3679541, 3673757, 3674334, 3676412, 3677059, 3674545, 3673945, 3673341, 3675089, 3673194, 3673129, 3673585, 3673171, 3675681], "C": [3679265, 3679801, 3681253, 3680718, 3680819, 3680781, 3681151, 3681956, 3682034, 3680652, 3688897, 3683565, 3679128, 3680822]}, "name": "D. Yaroslav and Divisors", "statement": "Yaroslav has an array , consisting of distinct integers. Also, he has\r\nqueries: Query number is represented as a pair of integers , . The\r\nanswer to the query is the number of pairs of integers , such that is\r\nthe divisor of . Help Yaroslav, answer all his queries.\r\n", "solutions": ["#define _CRT_SECURE_NO_DEPRECATE\n#include <algorithm>\n#include <string>\n#include <set>\n#include <map>\n#include <vector>\n#include <queue>\n#include <iostream>\n#include <iterator>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <sstream>\n#include <fstream>\n#include <ctime>\n#include <cstring>\n#include <functional>\n#include <bitset>\n#pragma comment(linker, \"/STACK:66777216\")\nusing namespace std;\n#define pb push_back\n#define ppb pop_back\n#define pi 3.1415926535897932384626433832795028841971\n#define mp make_pair\n#define x first\n#define y second\n#define pii pair<int,int>\n#define pdd pair<double,double>\n#define INF 1000000000\n#define FOR(i,a,b) for (int _n(b), i(a); i <= _n; i++)\n#define FORD(i,a,b) for(int i=(a),_b=(b);i>=_b;i--)\n#define all(c) (c).begin(), (c).end()\n#define SORT(c) sort(all(c))\n#define rep(i,n) FOR(i,1,(n))\n#define rept(i,n) FOR(i,0,(n)-1)\n#define L(s) (int)((s).size())\n#define C(a) memset((a),0,sizeof(a))\n#define VI vector <int>\n#define ll long long\n\nstruct Fen {\n\tint fen[200002];\n\tinline void upd(int x, int val) {\n\t\tfor (; x >= 0; x = (x & (x + 1)) - 1) fen[x] += val;\n\t}\n\tinline int sum(int x) {\n\t\tint ans = 0;\n\t\tfor (; x <= 200000; x |= x + 1) ans += fen[x];\n\t\treturn ans;\n\t}\n};\n\nint a,b,c,d,n,m,k;\nint mas[200002], inv[200002];\nint ans[200002];\nFen rt;\nint main() {\n\t//freopen(\"input.txt\",\"r\",stdin);\n\t//freopen(\"output.txt\",\"w\",stdout);\n\t\n\tscanf(\"%d%d\", &n, &m);\n\trept(i, n) {\n\t\tscanf(\"%d\", &mas[i]);\n\t\tinv[mas[i]] = i;\n\t}\n\t\n\tvector<pii> tot;\n\trep(i, n) {\n\t\tfor (int j = i; j <= n; j += i) {\n\t\t\ta = inv[i];\n\t\t\tb = inv[j];\n\t\t\tif (a > b) swap(a, b);\n\t\t\ttot.pb(mp(a, b));\n\t\t}\n\t}\n\n\tSORT(tot);\n\tvector<pair<pii, int> > quer;\n\trept(i, m) {\n\t\tscanf(\"%d%d\", &a, &b); --a; --b;\n\t\tquer.pb(mp(mp(a, b), i));\n\t}\n\tSORT(quer);\n\n\ta = L(tot) - 1; b = 0;\n\tFORD(i, L(quer) - 1, 0) {\n\t\twhile (a >= 0 && tot[a].x >= quer[i].x.x) {\n\t\t\trt.upd(tot[a].y, 1);\n\t\t\t--a;\n\t\t\t++b;\n\t\t}\n\t\tint res = b - rt.sum(quer[i].x.y + 1);\n\t\tans[quer[i].y] = res;\n\t}\n\trept(i, m) {\n\t\tprintf(\"%d\\n\", ans[i]);\n\t}\n}\n"], "input": "", "output": "", "tags": ["data structures"], "dificulty": "2200", "interactive": false}