{"link": "https://codeforces.com//contest/555/problem/C", "problemId": "30421", "problem_idx": "C", "shortId": "555C", "contest_number": "555", "problem_submissions": {"E": [11801002, 11802846, 11800102, 11803583, 11800123, 11802210, 11798298, 11804601, 11804794, 11814374, 11814369, 11812993, 11798643, 11801381, 11801970, 11807078, 11805652, 11807059, 11806770], "D": [11798292, 11797684, 11802341, 11798935, 11804707, 11798722, 11803791, 11799483, 11805705, 11790452, 11894849, 11797513, 11795485, 11794677, 11798421], "B": [11793605, 11787993, 11791939, 11792335, 11794935, 17186416, 11790076, 11792803, 11790163, 11791786, 11798665, 11793439, 11790680, 11788414, 11791421, 11789757], "A": [11791498, 11789364, 11789864, 11794544, 11805322, 17186185, 11803610, 11791903, 11786622, 11787094, 11786902, 11800059, 11789582, 11786965, 11790812, 11786427, 11786182], "C": [11790530, 11794079, 11795417, 11789940, 11791044, 11793448, 11793773, 11801897, 11796749, 11801939, 11797130, 11796059, 11798373, 11795041, 11798751, 11798577, 11794820]}, "name": "C. Case of Chocolate", "statement": "Andrewid the Android is a galaxy-known detective. Now he does not\r\ninvestigate any case and is eating chocolate out of boredom.A bar of\r\nchocolate can be presented as an table, where each cell represents one\r\npiece of chocolate. The columns of the table are numbered from to from\r\nleft to right and the rows are numbered from top to bottom. Let\u2019s call\r\nthe anti-diagonal to be a diagonal that goes the lower left corner to\r\nthe upper right corner of the table. First Andrewid eats all the pieces\r\nlying below the anti-diagonal. Then he performs the following actions\r\nwith the remaining triangular part: first, he chooses a piece on the\r\nanti-diagonal and either direction \u2019up\u2019 or \u2019left\u2019, and then he begins to\r\neat all the pieces starting from the selected cell, moving in the\r\nselected direction until he reaches the already eaten piece or chocolate\r\nbar edge.After each action, he wants to know how many pieces he ate as a\r\nresult of this action.\r\n", "solutions": ["#include <iostream>\n#include <set>\n#include <map>\nusing namespace std;\nset<pair<int, int> > s;\nmap<int, int> mp;\nint main()\n{\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tint n, q;\n\tcin >> n >> q;\n\ts.insert(make_pair(0, 1));\n\ts.insert(make_pair(n + 1, 0));\n\twhile (q--)\n\t{\n\t\tint x, y;\n\t\tchar c;\n\t\tcin >> x >> y >> c;\n\t\tif (mp.count(x))\n\t\t{\n\t\t\tcout << \"0\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tif (c == 'U')\n\t\t{\n\t\t\tpair<int, int> p = *s.lower_bound(make_pair(x, -1));\n\t\t\tif (p.second == 1)\n\t\t\t\tmp[x] = p.first - x + mp[p.first];\n\t\t\telse\n\t\t\t\tmp[x] = p.first - x;\n\t\t\ts.insert(make_pair(x, 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tset<pair<int, int> >::iterator it = s.lower_bound(make_pair(x, -1));\n\t\t\tit--;\n\t\t\tpair<int, int> p = *it;\n\t\t\tif (p.second == 0)\n\t\t\t\tmp[x] = x - p.first + mp[p.first];\n\t\t\telse\n\t\t\t\tmp[x] = x - p.first;\n\t\t\ts.insert(make_pair(x, 0));\n\t\t}\n\t\tcout << mp[x] << \"\\n\";\n\t}\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["data structures"], "dificulty": "2200", "interactive": false}