{"link": "https://codeforces.com//contest/741/problem/A", "problemId": "83310", "problem_idx": "A", "shortId": "741A", "contest_number": "741", "problem_submissions": {"D": [22777729, 22777450, 22755590, 22758367, 22756137, 22808584, 22805290, 22759931, 22759071, 22750711, 22754148, 22814636, 47300114, 22755389, 22758896, 22756607, 22790736, 22757335, 22793289], "C": [22742829, 22742451, 22758088, 22742404, 22760066, 22743932, 22747335, 22749445, 22763475, 22742054, 22742076, 22737953, 22744276, 22742907, 22746646], "B": [22738380, 22738003, 22739684, 22748249, 22740546, 22740616, 22739371, 22740551, 22740349, 22741081, 22738198, 22739206, 22740665, 22739327, 22739681, 22737298, 22743723, 22740079, 22738120, 22735907], "A": [22734595, 22733654, 22736292, 22744160, 22745379, 22739567, 22735733, 22736022, 22736152, 22736425, 22735084, 22735416, 22736004, 22734761, 22740072, 22741265, 22735495, 22735318, 22738723], "E": [22798525]}, "name": "A. Arpa s loud Owf and Mehrdad s evil plan", "statement": "People in Arpa\u2019s land are numbered from to . Everyone has exactly one\r\ncrush, -th person\u2019s crush is person with the number . Someday Arpa\r\nshouted loudly from the top of the palace and a funny game started in\r\nArpa\u2019s land. The rules are as follows.The game consists of rounds.\r\nAssume person wants to start a round, he calls and says: \"\" (the letter\r\nis repeated times) and cuts off the phone immediately. If then calls and\r\nsays: \"\" (the letter is repeated times) and cuts off the phone\r\nimmediately. The round continues until some person receives an \"\" ().\r\nThis person is called the of the round. There can\u2019t be two rounds at the\r\nsame time.Mehrdad has an evil plan to make the game more funny, he wants\r\nto find smallest () such that for each person , if starts some round and\r\nbecomes the Joon-Joon of the round, then by starting from , would become\r\nthe Joon-Joon of the round. Find such for Mehrdad if it\u2019s possible.Some\r\nstrange fact in Arpa\u2019s land is that someone can be himself\u2019s crush (i.e.\r\n).\r\n", "solutions": ["#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <cassert>\nusing namespace std;\n#define rep(i,a,n) for (int i=a;i<n;i++)\n#define per(i,a,n) for (int i=n-1;i>=a;i--)\n#define pb push_back\n#define mp make_pair\n#define all(x) (x).begin(),(x).end()\n#define fi first\n#define se second\n#define SZ(x) ((int)(x).size())\ntypedef vector<int> VI;\ntypedef long long ll;\ntypedef pair<int,int> PII;\nconst ll mod=1000000007;\nll powmod(ll a,ll b) {ll res=1;a%=mod; assert(b>=0); for(;b;b>>=1){if(b&1)res=res*a%mod;a=a*a%mod;}return res;}\n// head\n\nint n,c[110];\nint main() {\n\tscanf(\"%d\",&n);\n\trep(i,1,n+1) scanf(\"%d\",c+i);\n\tll ret=1;\n\trep(i,1,n+1) {\n\t\tint p=0,k=i;\n\t\tfor (int j=1;j<=1000;j++) {\n\t\t\tk=c[k];\n\t\t\tif (k==i) { p=j; break;}\n\t\t}\n\t\tif (p==0) {\n\t\t\tputs(\"-1\");\n\t\t\treturn 0;\n\t\t} else {\n\t\t\tif (p%2==0) p/=2;\n\t\t\tret=ret/__gcd((ll)p,ret)*p;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ret);\n}\n"], "input": "", "output": "", "tags": ["dfs and similar", "math"], "dificulty": "1600", "interactive": false}