{
    "link": "https://codeforces.com//contest/578/problem/C",
    "problemId": "35418",
    "problem_idx": "C",
    "shortId": "578C",
    "contest_number": "578",
    "problem_submissions": {
        "D": [
            13043018,
            13035846,
            13036528,
            13038587,
            13044167,
            13041175,
            13037259,
            13038897,
            13041869,
            13037673,
            13043371,
            13037414,
            13050779,
            13036416,
            13040134,
            13038396,
            13039211
        ],
        "E": [
            13038901,
            13041994,
            13043511,
            13044723,
            13047038,
            13049049,
            13049923,
            13047637,
            13049042,
            13047937,
            13049450,
            13060851,
            13041499,
            13046763
        ],
        "B": [
            13033269,
            13029103,
            13030026,
            13030734,
            13032310,
            13031712,
            13030424,
            13048740,
            13029417,
            13030120,
            13034104,
            13030544,
            13032556,
            13030378,
            13030241,
            13028648,
            13031292,
            13033423
        ],
        "C": [
            13032149,
            13030512,
            13032354,
            13033188,
            13037469,
            13037436,
            13032059,
            13034534,
            13040875,
            13051722,
            13037824,
            13032969,
            13057631,
            13032320,
            13033127,
            13034805,
            13035383,
            13037049
        ],
        "A": [
            13028273,
            13027990,
            13028573,
            13030087,
            13030676,
            13029354,
            13030453,
            13032789,
            13027838,
            13031000,
            13029241,
            13029752,
            13028730,
            13028651,
            13043323,
            13029257,
            13031415
        ],
        "F": [
            13054189,
            16905284,
            13299937
        ]
    },
    "name": "C. Weakness and Poorness",
    "statement": "You are given a sequence of n integers . Determine a real number such\r\nthat the of the sequence is as small as possible.The of a sequence is\r\ndefined as the maximum value of the over all segments (contiguous\r\nsubsequences) of a sequence.The of a segment is defined as the absolute\r\nvalue of sum of the elements of segment.\r\n",
    "solutions": [
        "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\nusing namespace std;\n\nconst double INF = 1e10;\nconst int IT = 200;\nconst int N = 200100;\nint n;\ndouble a[N];\ndouble b[N];\n\ndouble calcMax()\n{\n    double res = 0;\n    double bal = 0;\n    for (int i = 0; i < n; i++)\n    {\n        res = max(res, bal);\n        bal += b[i];\n        bal = max(bal, 0.);\n    }\n    return max(res, bal);\n}\ndouble calcMin()\n{\n    double res = 0;\n    double bal = 0;\n    for (int i = 0; i < n; i++)\n    {\n        res = min(res, bal);\n        bal += b[i];\n        bal = min(bal, 0.);\n    }\n    return min(res, bal);\n}\n\nbool check(double x)\n{\n    for (int i = 0; i < n; i++)\n        b[i] = a[i] - x;\n    double A = calcMax();\n    double B = calcMin();\n    return (-B > A);\n}\n\nint main()\n{\n    scanf(\"%d\", &n);\n    for (int i = 0; i < n; i++)\n        scanf(\"%lf\", &a[i]);\n    double L = -INF, R = INF;\n    for (int it = 0; it < IT; it++)\n    {\n        double x = (L + R) / 2;\n        if (check(x))\n            R = x;\n        else\n            L = x;\n    }\n    for (int i = 0; i < n; i++)\n        b[i] = a[i] - L;\n    printf(\"%.12lf\\n\", calcMax());\n\n    return 0;\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "ternary search"
    ],
    "dificulty": "2000",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV1\\C. Weakness and Poorness.json",
    "editorial_link": "https://codeforces.com//blog/entry/20368",
    "editorial": "Let , we can write down the definition of poorness formally as\n\n \n\n. It's easy to see that A is a strictly decreasing function of x, and B is a strictly increasing function of x. Thus the minimum of max(A,?B) can be found using binary or ternary search. The time complexity is ,\n\nNow here give people geometry viewpoint of this problem:\n\nlet \n\nWe plot n?+?1 straight line y?=?i?*?x?+?bi in the plane for i from 0 to n.\n\nWe can discover when you are given x. The weakness will be (y coordinator of highest line at x) Â— (y coordinator of lowest line at x).\n\nSo we only need to consider the upper convex hull and the lower convex hull of all lines. And the target x value will be one of the intersection of these convex hull.\n\nBecause you can get these line in order of their slope value. we can use stack to get the convex hulls in O(n).",
    "hint": []
}