{
    "link": "https://codeforces.com//contest/364/problem/D",
    "problemId": "4044",
    "problem_idx": "D",
    "shortId": "364D",
    "contest_number": "364",
    "problem_submissions": {
        "E": [
            5182930,
            5182917,
            5182805,
            5182789,
            5182779,
            5163338,
            5192424,
            5192315,
            5285842
        ],
        "C": [
            5159826,
            5156914,
            5156913,
            5159036,
            5158199,
            5156857,
            5160288,
            5159437,
            5160554,
            5160938,
            5160044,
            5162865,
            5159797,
            5161370
        ],
        "B": [
            5155945,
            5152807,
            5153694,
            5154783,
            5155872,
            5158323,
            5155584,
            5154573,
            5157525,
            5158221,
            5171150,
            5155541,
            5157687,
            5162725,
            5157104
        ],
        "A": [
            5151035,
            5151153,
            5151193,
            5150604,
            5151593,
            5151967,
            5152019,
            5151677,
            5154003,
            5153612,
            5152606,
            5154441,
            5150915,
            5155034
        ],
        "D": [
            5159378,
            5164152,
            5164129,
            5165101,
            26468599,
            26468582,
            26468554,
            5164765,
            5178204,
            5178186,
            5165121,
            5171056,
            5929384,
            5343038
        ]
    },
    "name": "D. Ghd",
    "statement": "John Doe offered his sister Jane Doe find the gcd of some set of numbers\r\n.Gcd is a positive integer , such that all number from the set are\r\nevenly divisible by and there isn’t such , that all numbers of the set\r\nare evenly divisible by .Unfortunately Jane couldn’t cope with the task\r\nand John offered her to find the ghd of the same subset of numbers.Ghd\r\nis a positive integer , such that at least half of numbers from the set\r\nare evenly divisible by and there isn’t such that at least half of the\r\nnumbers from the set are evenly divisible by .Jane coped with the task\r\nfor two hours. Please try it, too.\r\n",
    "solutions": [
        "#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <ctime>\n\nlong long ni() {\n  int c = getchar();\n  while (c < '0' || c > '9') c = getchar();\n  long long ret = 0;\n  while (c >= '0' && c <= '9') {\n    ret = ret * 10 + c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nlong long gcd(long long a, long long b) {\n  while (b > 0) {\n    long long t = a % b;\n    a = b;\n    b = t;\n  }\n  return a;\n}\n\nlong long a[1234567];\nlong long d[123456];\nint cc[123456];\n\nint main() {\n  srand(time(NULL));\n  int n = ni();\n  for (int i = 0; i < n; i++) {\n    a[i] = ni();\n  }\n  long long ans = 1;\n  for (int it = 0; it < 10; it++) {\n    long long x = a[((rand() << 15) ^ rand()) % n];\n    int cnd = 0;\n    for (long long i = 1; i * i <= x; i++) {\n      if (x % i != 0) {\n        continue;\n      }\n      d[cnd++] = i;\n      if (i * i != x) d[cnd++] = x / i;\n    }\n    for (int i = 0; i < cnd; i++) cc[i] = 0;\n    std::sort(d, d + cnd);\n    for (int i = 0; i < n; i++) {\n      long long g = gcd(x, a[i]);\n      cc[std::lower_bound(d, d + cnd, g) - d]++;\n    }\n    for (int i = 0; i < cnd; i++) {\n      for (int j = i + 1; j < cnd; j++) {\n        if (d[j] % d[i] == 0) {\n          cc[i] += cc[j];\n        }\n      }\n      if (2 * cc[i] >= n && d[i] > ans) {\n        ans = d[i];\n      }\n    }\n  }\n  printf(\"%I64d\\n\", ans);\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "brute force",
        "math",
        "probabilities"
    ],
    "dificulty": "2900",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV1\\D. Ghd.json",
    "editorial_link": "https://codeforces.com//blog/entry/9657",
    "editorial": "Consider random element ar of a. With probabillity   where g is ghd of a.\nLet xi?=?gcd(ai,?ar). There are no more than d distinct xi where d is number of divisors of ar.\nWe can find number of ai such as  for every k in O(d2). (D is set of divisors of ar)\nRepeat item 1 x times we will get correct solution with probabillity 1?-?2?-?x.\nThere is the way to solve this problem O(n·plog?+?d·2plog) for iteration where plog is the maximal number of distinct primes in factorisation of ar.",
    "hint": []
}