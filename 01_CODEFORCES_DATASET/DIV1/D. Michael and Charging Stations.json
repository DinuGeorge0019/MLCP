{"link": "https://codeforces.com//contest/853/problem/D", "problemId": "121091", "problem_idx": "D", "shortId": "853D", "contest_number": "853", "problem_submissions": {"D": [30147648, 30145874, 30152169, 30145670, 30147401, 30148548, 30157869, 30157814, 30157512, 30150989, 30149728, 30151353, 30151549, 30150847, 30147708, 30168803, 30167984, 30151241, 30151140, 30151931, 30151709, 30155800, 30154094, 30151955], "C": [30142518, 30148496, 30147073, 30143792, 30144399, 30146037, 30145612, 30146271, 30147784, 30146395, 30148182, 30151583, 30168390, 30147533, 30148448, 30148036, 30147775, 30144847, 30147101, 30148563], "B": [30137358, 30139471, 30141499, 30138298, 30137334, 30139875, 30139930, 30139800, 30141449, 30137864, 30144203, 30143376, 30142744, 30143145, 30140773, 30144005, 30140202, 30140453, 30142525], "A": [30133427, 30134359, 30136395, 30133742, 30132639, 30132563, 30134311, 30135028, 30134993, 30133338, 30136720, 30135878, 30134302, 30137681, 30134274, 30133388, 30133609, 30133814, 30134640], "E": [30179221, 30179071, 31229560, 30173059]}, "name": "D. Michael and Charging Stations", "statement": "Michael has just bought a new electric car for moving across city.\r\nMichael does not like to overwork, so each day he drives to only one of\r\ntwo his jobs.Michael\u2019s day starts from charging his electric car for\r\ngetting to the work and back. He spends burles on charge if he goes to\r\nthe first job, and burles if he goes to the second job.On a charging\r\nstation he uses there is a loyalty program that involves bonus cards.\r\nBonus card may have some non-negative amount of bonus burles. Each time\r\ncustomer is going to buy something for the price of burles, he is\r\nallowed to pay an amount of () burles that does not exceed the bonus\r\ncard balance with bonus burles. In this case he pays burles with cash,\r\nand the balance on the bonus card is decreased by bonus burles. If\r\ncustomer pays whole price with cash (i.e., ) then 10\r\n", "solutions": ["#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <queue>\n#include <ctime>\n#include <cassert>\n#include <complex>\n#include <string>\n#include <cstring>\nusing namespace std;\n\n#ifdef LOCAL\n\t#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#else\n\t#define eprintf(...) 42\n#endif\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\n#define mp make_pair\n\nconst int N = 300300;\nconst int INF = 2 * N;\nint a[N];\nbool b[N];\nint n;\n\nbool evaluate(int x) {\n\tint bal = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (b[i]) {\n\t\t\tint val = min(bal, a[i]);\n\t\t\tbal -= val;\n\t\t\tx -= val;\n\t\t} else {\n\t\t\tbal += a[i] / 10;\n\t\t}\n\t}\n\treturn x <= 0;\n}\n\nbool suf(int x) {\n\tint oldx = x;\n\tfor (int i = 0; i < n; i++)\n\t\tb[i] = 0;\n\tfor (int i = n - 1; x > 0 && i >= 0; i--) {\n\t\tb[i] = 1;\n\t\tx -= a[i];\n\t}\n\treturn evaluate(oldx);\n}\nbool skip1(int x) {\n\tint oldx = x;\n\tfor (int i = 0; i < n; i++)\n\t\tb[i] = 0;\n\tfor (int i = n - 1; x > 0 && i >= 0; i--) {\n\t\tb[i] = 1;\n\t\tx -= a[i];\n\t}\n\tint pos = 0;\n\twhile(pos < n && (a[pos] != 10 || !b[pos])) pos++;\n\tif (pos == n)\n\t\treturn false;\n\tx += a[pos];\n\tb[pos] = 0;\n\tpos--;\n\twhile(pos >= 0 && b[pos]) pos--;\n\tif (evaluate(oldx)) return true;\n\tif (pos >= 0) {\n\t\tb[pos] = 1;\n\t}\n\treturn evaluate(oldx);\n}\nbool take1(int x) {\n\tint oldx = x;\n\tfor (int i = 0; i < n; i++)\n\t\tb[i] = 0;\n\tfor (int i = n - 1; x > 0 && i >= 0; i--) {\n\t\tif (x <= 20 && a[i] == 20) continue;\n\t\tx -= a[i];\n\t\tb[i] = 1;\n\t}\n\treturn evaluate(oldx);\n}\n\nbool solve(int x) {\n\treturn suf(x) || skip1(x) || take1(x);\n}\n\nint main()\n{\n//\tfreopen(\"input.txt\", \"r\", stdin);\n//\tfreopen(\"output.txt\", \"w\", stdout);\n\n\tscanf(\"%d\", &n);\n\tfor (int i = 0; i < n; i++) {\n\t\tscanf(\"%d\", &a[i]);\n\t\ta[i] /= 100;\n\t}\n\tint l = 0, r = INF;\n\twhile(r - l > 1) {\n\t\tint x = (l + r) / 2;\n\t\tif (solve(x))\n\t\t\tl = x;\n\t\telse\n\t\t\tr = x;\n\t}\n\tint ans = -l;\n\tfor (int i = 0; i < n; i++)\n\t\tans += a[i];\n\tprintf(\"%d\\n\", ans * 100);\n\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["binary search", "dp", "greedy"], "dificulty": "2400", "interactive": false}