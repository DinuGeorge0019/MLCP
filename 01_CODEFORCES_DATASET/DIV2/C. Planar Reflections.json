{"link": "https://codeforces.com//contest/1498/problem/C", "problemId": "939724", "problem_idx": "C", "shortId": "1498C", "contest_number": "1498", "problem_submissions": {"F": [111387402, 111392757, 111390775, 111403691, 111584572, 111473088, 111426854, 111399920, 111425764, 111390588, 111477247, 111409684], "E": [111380663, 111380198, 111394052, 111391669, 111387992, 111389314, 111390832, 111389181, 111394144, 111392605, 111394352, 111387457, 111380754, 111393900, 111397027, 111441836, 111441307, 111400155, 111385873, 111395643], "D": [111375931, 111387383, 111378758, 111377203, 111379613, 111383007, 111378160, 111383542, 111383036, 111382698, 111387981, 111395336, 111398482, 111384225, 111554241, 111398142, 111389221], "C": [111364680, 111369793, 111370806, 111367823, 111370857, 111369057, 111366879, 111378226, 111375527, 111375807, 111372267, 111374177, 111372378, 111369667, 111372541, 111380311, 111372933, 111374210], "B": [111358809, 111373602, 111364638, 111359716, 111363279, 111361795, 111359400, 111362980, 111362321, 111366507, 111367101, 111362617, 111361122, 111360963, 111365072, 111367219, 111360331, 111363745], "A": [111356336, 111356639, 111356331, 111356474, 111357691, 111356258, 111356269, 111358101, 111357535, 111358945, 111356500, 111356580, 111356352, 111356349, 111359311, 111357626, 111356520, 111357210]}, "name": "C. Planar Reflections", "statement": "Gaurang has grown up in a mystical universe. He is faced by n\r\nconsecutive 2D planes. He shoots a particle of decay age k at the\r\nplanes.A particle can pass through a plane directly, however, every\r\nplane produces an identical copy of the particle going in the opposite\r\ndirection with a decay age k-1. If a particle has decay age equal to 1,\r\nit will NOT produce a copy.For example, if there are two planes and a\r\nparticle is shot with decay age 3 (towards the right), the process is as\r\nfollows: (here, D(x) refers to a single particle with decay age x) the\r\nfirst plane produces a D(2) to the left and lets D(3) continue on to the\r\nright; the second plane produces a D(2) to the left and lets D(3)\r\ncontinue on to the right; the first plane lets D(2) continue on to the\r\nleft and produces a D(1) to the right; the second plane lets D(1)\r\ncontinue on to the right (D(1) cannot produce any copies). In total, the\r\nfinal multiset S of particles is\r\n{D(3), D(2), D(2), D(1)\r\n}. (See notes for visual explanation of this test case.)Gaurang is\r\nunable to cope up with the complexity of this situation when the number\r\nof planes is too large. Help Gaurang find the size of the multiset S,\r\ngiven n and k.Since the size of the multiset can be very large, you have\r\nto output it modulo 10^9+7.Note: Particles can go back and forth between\r\nthe planes without colliding with each other.\r\n", "solutions": ["#include<bits/stdc++.h>\n#define re register\n#define int long long \nusing namespace std;\ninline int read(){\n\tre int t=0;re char v=getchar();\n\twhile(v<'0')v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn t;\n}\nconst int M=1e9+7;\ninline void add(re int &x,re int y){(x+=y)>=M?x-=M:x;}\ninline int ksm(re int x,re int y){\n\tre int s=1;\n\twhile(y){\n\t\tif(y&1)s=1ll*s*x%M;\n\t\tx=1ll*x*x%M,y>>=1;\n\t}\n\treturn s;\n}\nstruct edge{int to,next;}e[2000002];\nint t,n,m,a[1000002],ans,cnt,head[1000002],f[1002][1002];\ninline int gcd(re int x,re int y){return y?gcd(y,x%y):x;}\ninline bool check(re int x){\n\tre int y=x,s=0;\n\twhile(x)s+=x%10,x/=10;\n\tif(gcd(y,s)>1)return 1;\n\treturn 0;\n}\ninline int calc(re int x,re int y){\n//\tprintf(\"%lld %lld\\n\",x,y);\n\tif(y==1)return 1;\n\tif(x<1)return 1;\n\tif(~f[x][y])return f[x][y];\n\tre int s=0;\n\tadd(s,calc(n-x,y-1)),add(s,calc(x-1,y));\n\treturn f[x][y]=s;\n}\nsigned main(){\n\tt=read();\n\twhile(t--){\n\t\tn=read(),m=read();\n\tmemset(f,-1,sizeof(f));\n\t\t\n\t\tprintf(\"%lld\\n\",calc(n,m));\n\t}\n}\n"], "input": "", "output": "", "tags": ["brute force", "data structures", "dp"], "dificulty": "1600", "interactive": false}