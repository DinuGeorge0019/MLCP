{
    "link": "https://codeforces.com//contest/1008/problem/E",
    "problemId": "197245",
    "problem_idx": "E",
    "shortId": "1008E",
    "contest_number": "1008",
    "problem_submissions": {
        "D": [
            40283176,
            40304075,
            40285530,
            40289432,
            40287858,
            40290282,
            40291419,
            40292139,
            40289234,
            40292105,
            40291968,
            40292103,
            40289227,
            40287896,
            40292087
        ],
        "C": [
            40272037,
            40267107,
            40273008,
            40273757,
            40269648,
            40274054,
            40271173,
            40277109,
            40273591,
            40270468,
            40272935,
            40267803,
            40275746,
            40278272,
            40272326,
            40272797,
            40275856,
            40277241,
            40267762
        ],
        "B": [
            40266520,
            40265026,
            40265372,
            40272480,
            40271420,
            40270433,
            40267759,
            40271441,
            40271164,
            40267957,
            40266971,
            40265327,
            40266220,
            40270724,
            40267782,
            40268761,
            40268877,
            40267898,
            40277665
        ],
        "A": [
            40264823,
            40272360,
            40264627,
            40271368,
            40267179,
            40267768,
            40265278,
            40266944,
            40268824,
            40265533,
            40264950,
            40264661,
            40267139,
            40267314,
            40265410,
            40275824,
            40265063,
            40276493
        ],
        "E": [
            40301609
        ]
    },
    "name": "E. Guess two numbers",
    "statement": "Vasya and Vitya play a game. Vasya thought of two integers a and b from\r\n1 to n and Vitya tries to guess them. Each round he tells Vasya two\r\nnumbers x and y from 1 to n. If both x=a and y=b then Vitya wins. Else\r\nVasya must say one of the three phrases: x is less than a; y is less\r\nthan b; x is greater than a or y is greater than b. Vasya can\u2019t lie, but\r\nif multiple phrases are true, he may choose any of them. For example, if\r\nVasya thought of numbers 2 and 4, then he answers with the phrase 3 to a\r\nquery (3, 4), and he can answer with the phrase 1 or phrase 3 to a query\r\n(1, 5).Help Vitya win in no more than 600 rounds.\r\n",
    "solutions": [
        "#include<bits/stdc++.h>\nusing namespace std;\nmap<pair<long long,long long>,int>res;\nint main(){\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\tcout.tie(NULL);\n\t\n\tlong long N;\n\tcin>>N;\n\tlong long lox=1,hix=N,loy=1,hiy=N;\n\twhile(true){\n\t\tint ans;\n\t\tlong long x=(lox+hix)/2;\n\t\tlong long y=(loy+hiy)/2;\n\t\tif(!res[{x,y}]){\n\t\t\tcout<<x<<\" \"<<y<<endl;\n\t\t\tcin>>ans;\n\t\t\tres[{x,y}]=ans;\n\t\t}\n\t\tif(ans==0){\n\t\t\treturn 0;\n\t\t}\n\t\telse if(ans==1){\n\t\t\tlox=x+1;\n\t\t\tif(lox>hix){\n\t\t\t\thix=N;\n\t\t\t}\n\t\t}\n\t\telse if(ans==2){\n\t\t\tloy=y+1;\n\t\t\tif(loy>hiy){\n\t\t\t\thiy=N;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(!res[{lox,y}]){\n\t\t\t\tcout<<lox<<\" \"<<y<<endl;\n\t\t\t\tcin>>ans;\n\t\t\t\tres[{lox,y}]=ans;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tans=res[{lox,y}];\n\t\t\t}\n\t\t\tif(ans==3||ans==1){\n\t\t\t\thiy=y-1;\n\t\t\t}\n\t\t\telse if(ans==2){\n\t\t\t\tloy=y+1;\n\t\t\t}\n\t\t\telse if(ans==0){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(!res[{x,loy}]){\n\t\t\t\tcout<<x<<\" \"<<loy<<endl;\n\t\t\t\tcin>>ans;\n\t\t\t\tres[{x,loy}]=ans;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tans=res[{x,loy}];\n\t\t\t}\n\t\t\tif(ans==3||ans==2){\n\t\t\t\thix=x-1;\n\t\t\t}\n\t\t\telse if(ans==1){\n\t\t\t\tlox=x+1;\n\t\t\t}\n\t\t\telse if(ans==0){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "binary search",
        "interactive"
    ],
    "dificulty": "3000",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\E. Guess two numbers.json",
    "editorial_link": "https://codeforces.com//blog/entry/60572",
    "editorial": "First solution:\n\nLet's keep the set of possible answers as a union of three rectangles forming an angle: A=[xl,xm)\u00d7[yl,ym)\n, B=[xl,xm)\u00d7[ym,yr)\n and C=[xm,xr)\u00d7[yl,ym)\n, where xl<xm?xr\n and yl<ym?yr\n. Let SA\n, SB\n and SC\n be their areas. We will denote such state as (xl,xm,xr,yl,ym,yr)\n. The initial state is (0,n+1,n+1,0,n+1,n+1)\n.\n\nNow there are three cases.\n\nSB?SA+SC\n and SB?SA+SB\n, then we will make a query (?xl+xm2?,?yl+ym2?)\n.\nIf SB>SA+SC\n, we will make a query (?xl+xm2?,ym)\n.\nFinally, if SC>SA+SB\n, we will make a query (xm,?yl+ym2?)\n.\nIn case of every response to every query, the new set of possible answers will also form an angle.\n\nNow we want to prove that the area of the angle decreases at least by a quarter every two requests.\n\nIn case (1) if the answer is 1\n, then we move to a state (?xl+xm2?+1,xm,xr,yl,ym,yr)\n. We cut off at least half of A\n and at least half of B\n. But SA2+SB2=SA+SB4+SA+SB4?SA+SB4+SC4=SA+SB+SC4\n. I.e. We have cut off at least a quarter already within just one request. If the answer is 2\n, the situation is similar. Finally, if the answer is 3\n, then we move to a state (xl,?xl+xm2?,xr,yl,?yl+ym2?,yr)\n. We cut off at least quarter of A\n, at least half of B\n and at least half of C\n. But SA4+SB2+SC2?SA4+SB4+SC4=SA+SB+SC4\n. We also have cut off at least a quarter within just one request. Thus in case (1) we cut off at least a quarter within one request.\n\nIn case (2) if the answer is 1\n, then we move to a state (?xl+xm2?+1,xm,xr,yl,ym,yr)\n. We cut off at least half of A\n and at least half of B\n. But SA2+SB2?SB2?SB4+SB4?SB4+SA+SC4=SA+SB+SC4\n. We have cut off at least a quarter within just one request. If the answer is 2\n, then we move to a state (xl,xr,xr,ym+1,yr,yr)\n. But then if will be case (1), thus we will cut off at least a quarter with the next request. Finally, if the answer is 3\n, then we move to a state (xl,?xl+xm2?,xr,yl,ym,yr)\n. We cut off at at least half of B\n. But SB2?SB4+SB4?SB4+SA+SC4=SA+SB+SC4\n. We also have cut off at least a quarter within just one request.\n\nCase (3) is similar to case (2).\n\nThus the maximal number of requests will be no more than 1+2?log4/3((1018)2)?577\n.\n\nSecond solution:\n\nLet's keep the set of possible answers in form of a ladder A\n. Then lets find minimal X\n such that S(A?{x?X})?S(A)3\n. And lets find minimal Y\n such that S(A?{y?Y})?S(A)3\n. Then\nS(A?{x?X}?{y?Y})=S(A?(A?{x?X?1})?(A?{y?Y?1}))?\n?S(A)?S(A?{x?X?1})?S(A?{y?Y?1})?S(A)?S(A)3?S(A)3=S(A)3.\nI.e. we cut off at least third of the area of the ladder on each request.\n\nThus the maximal number of requests will be no more than 1+log3/2((1018)2)?205\n."
}