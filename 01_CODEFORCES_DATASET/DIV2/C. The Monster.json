{"link": "https://codeforces.com//contest/918/problem/C", "problemId": "151494", "problem_idx": "C", "shortId": "918C", "contest_number": "918", "problem_submissions": {"D": [34674216, 34676112, 34673508, 34668068, 34677841, 34677199, 34677332, 34677732, 34674284, 34676764, 34679239, 34678391, 34678589, 34677462, 34676960, 34679127, 34678913, 34675354, 34679183], "B": [34670440, 34667518, 34666861, 34670421, 34670264, 34667471, 34666401, 34668510, 34667116, 34668380, 34668100, 34668007, 34668333, 34667912, 34667438, 34673764, 34668108, 34668574, 34670180], "C": [34669065, 34673271, 34676492, 34678621, 34673223, 34674841, 34674142, 34672405, 34678982, 34671931, 34673671, 34675775, 34673964, 34675892, 34678000, 34670923, 34676125, 34680026, 34675452], "A": [34664697, 34665015, 34664848, 34664663, 34664707, 34665222, 34664674, 34665219, 34664947, 34672513, 34664938, 34664735, 34665446, 34664882, 34665035, 34672321, 34665406, 34664826, 34666801], "E": [34687078, 34688168, 34687900, 34687853]}, "name": "C. The Monster", "statement": "As Will is stuck in the Upside Down, he can still communicate with his\r\nmom, Joyce, through the Christmas lights (he can turn them on and off\r\nwith his mind). He can\u2019t directly tell his mom where he is, because the\r\nmonster that took him to the Upside Down will know and relocate him.\r\nThus, he came up with a puzzle to tell his mom his coordinates. His\r\ncoordinates are the answer to the following problem.A string consisting\r\nonly of parentheses (\u201d and \u201d) is called a bracket sequence. Some bracket\r\nsequence are called correct bracket sequences. More formally: Empty\r\nstring is a correct bracket sequence. if is a correct bracket sequence,\r\nthen is also a correct bracket sequence. if and are correct bracket\r\nsequences, then (concatenation of and ) is also a correct bracket\r\nsequence. A string consisting of parentheses and question marks (\u201d) is\r\ncalled pretty if and only if there\u2019s a way to replace each question mark\r\nwith either \u201d or \u201d such that the resulting string is a correct bracket\r\nsequence.Will gave his mom a string consisting of parentheses and\r\nquestion marks (using Morse code through the lights) and his coordinates\r\nare the number of pairs of integers such that and the string is pretty,\r\nwhere is -th character of .Joyce doesn\u2019t know anything about bracket\r\nsequences, so she asked for your help.\r\n", "solutions": ["#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\n#define F first\n#define S second\n\nconst int MAXN = 5e3 + 10;\n\nint n;\nstring s;\n\nint main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tcin >> s;\n\tn = s.size();\n\tint ans = 0;\n\tfor (int l = 0; l < n; l++){ \n\t\tint tl = 0, tr = 1;\n\t\tfor (int r = l; r < n; r++) {\n\t\t\tif (s[r] == '('){\n\t\t\t\ttl++, tr++;\n\t\t\t}\n\t\t\telse if (s[r] == ')'){\n\t\t\t\ttl--, tr--;\n\t\t\t\ttl = max(0, tl);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttr++;\n\t\t\t\ttl--;\n\t\t\t\ttl = max(0, tl);\n\t\t\t}\n\t\t\tif (tl == tr) break;\n\t\t\tif ((r-l+1) % 2 == 0 && tl == 0)\n\t\t\t\tans++;\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["data structures", "dp", "greedy", "implementation", "math"], "dificulty": "1800", "interactive": false}