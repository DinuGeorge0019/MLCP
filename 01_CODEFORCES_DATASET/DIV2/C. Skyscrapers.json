{"link": "https://codeforces.com//contest/1138/problem/C", "problemId": "309125", "problem_idx": "C", "shortId": "1138C", "contest_number": "1138", "problem_submissions": {"F": [51023634, 51022679, 51020619, 51116992, 51021353, 51023578, 51058557, 51025400, 51024171, 51210412], "D": [51010497, 51010075, 51011127, 51013543, 51016946, 51013080, 51010984, 51018905, 51015654, 51021599, 51016846, 51011106, 51012210, 51010079, 51014682, 51012504, 51012027, 51012863, 51011280, 51013123], "C": [51009558, 51007967, 51009995, 51010952, 51015174, 51011344, 51014468, 51017187, 51013830, 51019773, 51013378, 51012781, 51010541, 51011719, 51010213, 51010247, 51010268, 51010649, 51012791, 51010664], "B": [51008088, 51018029, 51007957, 51203745, 51017235, 51013207, 51009939, 51015227, 51016412, 51016667, 51019928, 51008726, 51015366, 51011120, 51014342, 51015668, 51014019, 51015624, 51013885], "A": [51005649, 51019409, 51005726, 51203724, 51006686, 51010568, 51006260, 51011468, 51005966, 51005745, 51006723, 51007288, 51005675, 51005671, 51006328, 51008250, 51006899, 51005800, 51005715, 51005850, 51006402], "E": [51015293, 51019023, 51203589, 51203519, 51023924, 51025422, 51204108]}, "name": "C. Skyscrapers", "statement": "Dora loves adventures quite a lot. During some journey she encountered\r\nan amazing city, which is formed by n streets along the Eastern\r\ndirection and m streets across the Southern direction. Naturally, this\r\ncity has nm intersections. At any intersection of i-th Eastern street\r\nand j-th Southern street there is a monumental skyscraper. Dora\r\ninstantly became curious and decided to explore the heights of the city\r\nbuildings.When Dora passes through the intersection of the i-th Eastern\r\nand j-th Southern street she examines those two streets. After Dora\r\nlearns the heights of all the skyscrapers on those two streets she\r\nwonders: how one should reassign heights to the skyscrapers on those two\r\nstreets, so that the maximum height would be as small as possible and\r\nthe result of comparing the heights of any two skyscrapers on one street\r\nwouldn\u2019t change.Formally, on every of nm intersections Dora solves an\r\nindependent problem. She sees n + m - 1 skyscrapers and for each of them\r\nshe knows its real height. Moreover, any two heights can be compared to\r\nget a result \"greater\", \"smaller\" or \"equal\". Now Dora wants to select\r\nsome integer x and assign every skyscraper a height from 1 to x. When\r\nassigning heights, Dora wants to preserve the relative order of the\r\nskyscrapers in both streets. That is, the result of any comparison of\r\nheights of two skyscrapers in the current Eastern street shouldn\u2019t\r\nchange and the result of any comparison of heights of two skyscrapers in\r\ncurrent Southern street shouldn\u2019t change as well. Note that skyscrapers\r\nlocated on the Southern street are not compared with skyscrapers located\r\non the Eastern street only. However, the skyscraper located at the\r\nstreets intersection can be compared with both Southern and Eastern\r\nskyscrapers. For every intersection Dora wants to calculate the minimum\r\npossible x.For example, if the intersection and the two streets\r\ncorresponding to it look as follows: Then it is optimal to replace the\r\nheights of the skyscrapers as follows (note that all comparisons \"less\",\r\n\"equal\", \"greater\" inside the Eastern street and inside the Southern\r\nstreet are preserved) The largest used number is 5, hence the answer for\r\nthis intersection would be 5.Help Dora to compute the answers for each\r\nintersection.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 1000;\nint n, m, a[maxn + 10][maxn + 10];\nint f[maxn + 10][maxn + 10], g[maxn + 10][maxn + 10];\nint ff[maxn + 10][maxn + 10], gg[maxn + 10][maxn + 10];\nint s[maxn + 10], scnt;\n\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; ++i)\n\t\tfor (int j = 1; j <= m; ++j) scanf(\"%d\", &a[i][j]);\n\tfor (int i = 1; i <= n; ++i) {\n\t\tscnt = 0;\n\t\tfor (int j = 1; j <= m; ++j) s[++scnt] = a[i][j];\n\t\tsort(s + 1, s + scnt + 1);\n\t\tscnt = unique(s + 1, s + scnt + 1) - s - 1;\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tf[i][j] = lower_bound(s + 1, s + scnt + 1, a[i][j]) - s;\n\t\t\tff[i][j] = scnt - f[i][j];\n\t\t}\n\t}\n\tfor (int i = 1; i <= m; ++i) {\n\t\tscnt = 0;\n\t\tfor (int j = 1; j <= n; ++j) s[++scnt] = a[j][i];\n\t\tsort(s + 1, s + scnt + 1);\n\t\tscnt = unique(s + 1, s + scnt + 1) - s - 1;\n\t\tfor (int j = 1; j <= n; ++j) {\n\t\t\tg[j][i] = lower_bound(s + 1, s + scnt + 1, a[j][i]) - s;\n\t\t\tgg[j][i] = scnt - g[j][i];\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; ++i) {\n\t\tfor (int j = 1; j <= m; ++j) printf(\"%d \", max(f[i][j], g[i][j]) + max(ff[i][j], gg[i][j]));\n\t\tprintf(\"\\n\");\n\t}\n}"], "input": "", "output": "", "tags": ["implementation", "sortings"], "dificulty": "1600", "interactive": false}