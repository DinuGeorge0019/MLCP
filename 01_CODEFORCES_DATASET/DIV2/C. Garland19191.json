{"link": "https://codeforces.com//contest/767/problem/C", "problemId": "94682", "problem_idx": "C", "shortId": "767C", "contest_number": "767", "problem_submissions": {"E": [24773688, 24758593, 24766542, 24771366, 24781051, 24771141, 24779799, 24793086, 24815876, 24813453, 24777026], "D": [24763626, 24761005, 24762891, 24764024, 24762582, 24766354, 24757953, 24768943, 24767743, 24772654, 24771704, 24762285, 24776438, 24769130, 24767445, 24768099, 24766844, 24758983, 24768020, 24763075, 24760035], "C": [24761320, 24765332, 24760448, 24761283, 24759373, 24763235, 24759987, 24766222, 24769355, 24767653, 24765828, 24761673, 24774191, 24769625, 24760821, 24762590, 24762307, 24759906, 24765569], "B": [24759162, 24783957, 24766261, 24758310, 24773199, 24761589, 24765216, 24759680, 24761807, 24765169, 24760359, 24760779, 24771356, 24771320, 24788532], "A": [24756659, 24769945, 24755736, 24756082, 24755178, 24755290, 24755126, 24755429, 24755320, 24755950, 24755426, 24755130, 24770401, 24755414, 24755517, 24761778, 24755322, 24757132, 24755145, 24761825]}, "name": "C. Garland", "statement": "Once at New Year Dima had a dream in which he was presented a fairy\r\ngarland. A garland is a set of lamps, some pairs of which are connected\r\nby wires. Dima remembered that each two lamps in the garland were\r\nconnected directly or indirectly via some wires. Furthermore, the number\r\nof wires was exactly one less than the number of lamps.There was\r\nsomething unusual about the garland. Each lamp had its own brightness\r\nwhich depended on the temperature of the lamp. Temperatures could be\r\npositive, negative or zero. Dima has two friends, so he decided to share\r\nthe garland with them. He wants to cut two different wires so that the\r\ngarland breaks up into three parts. Each part of the garland should\r\nshine equally, i. e. the sums of lamps\u2019 temperatures should be equal in\r\neach of the parts. Of course, each of the parts should be non-empty, i.\r\ne. each part should contain at least one lamp. Help Dima to find a\r\nsuitable way to cut the garland, or determine that this is\r\nimpossible.While examining the garland, Dima lifted it up holding by one\r\nof the lamps. Thus, each of the lamps, except the one he is holding by,\r\nis now hanging on some wire. So, you should print two lamp ids as the\r\nanswer which denote that Dima should cut the wires these lamps are\r\nhanging on. Of course, the lamp Dima is holding the garland by can\u2019t be\r\nincluded in the answer.\r\n", "solutions": ["#include<bits/stdc++.h>\nusing namespace std;\n#define ran 1111111\nint n,root,sum2;\nvector<int> e[ran];\nint sum[ran],fat[ran],dep[ran];\nbool ace[ran];\nvoid dfs(int x){\n\tfor(vector<int>::iterator it = e[x].begin(); it!=e[x].end(); it++){\n\t\tdep[*it] = dep[x] + 1;\n\t\tdfs(*it);\n\t\tsum[x] += sum[*it];\n\t}\n}\nbool process(){\n\tdep[root]=0;\n\tdfs(root);\n\tif(sum[root] % 3 != 0)return false;\n\tint sum2 = sum[root] / 3;\n\tint xx = -1;\n\tfor(int i=1; i <= n; i++)\n\t\tif(sum[i] == sum2 && i != root){\n\t\t\tif(xx == -1 || dep[i] > dep[xx]){\n\t\t\t\txx = i;\n\t\t\t}\n\t\t}\n\tif(xx == -1)return false;\n\tfor(int y = xx; y != root; y = fat[y])\n\t\tace[fat[y]] = true;\n\tace[root] = false;\n\n\tfor(int i=1; i<=n; i++){\n\t\tif(i == root || i == xx)continue;\n\t\tif(ace[i] && sum[i] == 2 * sum2 || !ace[i] && sum[i] == sum2){\n\t\t\tprintf(\"%d %d\\n\",xx,i);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1; i<=n; i++){\n\t\tscanf(\"%d%d\",&fat[i],&sum[i]);\n\t\tif(fat[i] == 0)root = i;else\n\t\t\te[fat[i]].push_back(i);\n\t}\n\tif(!process())puts(\"-1\");\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["dfs and similar", "graphs", "greedy", "trees"], "dificulty": "2000", "interactive": false}