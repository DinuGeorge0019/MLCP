{"link": "https://codeforces.com//contest/1679/problem/F", "problemId": "1399041", "problem_idx": "F", "shortId": "1679F", "contest_number": "1679", "problem_submissions": {"E": [157180775, 157191404, 157182377, 157177036, 157184415, 157176870, 157175927, 157179358, 157179949, 157181138, 157181082, 157188651, 158765685, 157182719, 157183341, 157204752, 157188040, 157183760, 157190456, 157188869], "F": [157169392, 157164382, 157193064, 157199663, 157199138, 157186552, 157273261, 157180874, 158765715, 157250679, 157197475, 157509965], "A": [157160334, 157139962, 157137818, 157155828, 157137804, 157138382, 157140445, 157138960, 157138642, 157138794, 157144480, 157142439, 162719211, 158765634, 157138332, 157138320, 157139854, 157140729, 157138982, 157137953, 157138211], "B": [157157060, 157145020, 157140369, 157158458, 157140367, 157140216, 157144197, 157146569, 157143365, 157142315, 157148129, 157146141, 157198440, 158765655, 157143823, 157143623, 157144426, 157145542, 157143138, 157142676, 157142878], "C": [157154751, 157170214, 157147368, 157161435, 157149801, 157145630, 157152376, 157151562, 157149876, 157147868, 157153893, 157150787, 157196725, 158765679, 157151559, 157154130, 157157802, 157152042, 157149676, 157150426, 157148575], "D": [157148745, 157180439, 157159044, 157144096, 157159383, 157154423, 157160087, 157161413, 157158556, 157158664, 157164328, 157159039, 157192557, 158765668, 157159304, 157162810, 157169333, 157162480, 157162127, 157163382, 157167439]}, "name": "F. Formalism for Formalism", "statement": "Yura is a mathematician, and his cognition of the world is so absolute\r\nas if he have been solving formal problems a hundred of trillions of\r\nbillions of years. This problem is just that!Consider all non-negative\r\nintegers from the interval [0, 10^{n}). For convenience we complement\r\nall numbers with leading zeros in such way that each number from the\r\ngiven interval consists of exactly n decimal digits.You are given a set\r\nof pairs (u_i, v_i), where u_i and v_i are distinct decimal digits from\r\n0 to 9.Consider a number x consisting of n digits. We will enumerate all\r\ndigits from left to right and denote them as d_1, d_2,\r\nldots, d_n. In one operation you can swap digits d_i and d_{i + 1} if\r\nand only if there is a pair (u_j, v_j) in the set such that at least one\r\nof the following conditions is satisfied: d_i = u_j and d_{i + 1} = v_j,\r\nd_i = v_j and d_{i + 1} = u_j. We will call the numbers x and y,\r\nconsisting of n digits, if the number x can be transformed into the\r\nnumber y using some number of operations described above. In particular,\r\nevery number is considered equivalent to itself.You are given an integer\r\nn and a set of m pairs of digits (u_i, v_i). You have to find the\r\nmaximum integer k such that there exists a set of integers x_1, x_2,\r\nldots, x_k (0\r\nle x_i < 10^{n}) such that for each 1\r\nle i < j\r\nle k the number x_i is equivalent to the number x_j.\r\n", "solutions": ["#include<stdio.h>\nconst int maxn=50005,maxs=1<<10,mod=998244353,maxd=10;\nint n,m,ans;\nint f[maxn][maxs],s[maxd],t[maxd],g[maxd][maxd];\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1,x,y;i<=m;i++)\n\t\tscanf(\"%d%d\",&x,&y),g[x][y]=g[y][x]=1,s[y]|=(1<<x),t[x]|=(1<<y),t[y]|=(1<<x);\n\tint S=(1<<10)-1;\n\tf[1][S]=1;\n\tfor(int i=2;i<=n+1;i++){\n\t\tfor(int j=0;j<=S;j++)\n\t\t\tif(f[i-1][j])\n\t\t\t\tfor(int k=0;k<10;k++)\n\t\t\t\t\tif((j>>k)&1){\n\t\t\t\t\t\tint nxt=(S^s[k])&(S^((S^j)&t[k]));\n\t\t\t\t\t\tf[i][nxt]=(f[i][nxt]+f[i-1][j])%mod;\n\t\t\t\t\t}\n\t}\n\tfor(int i=0;i<=S;i++)\n\t\tans=(ans+f[n+1][i])%mod;\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["bitmasks", "dp", "math"], "dificulty": "2600", "interactive": false}