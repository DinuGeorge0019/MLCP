{
    "link": "https://codeforces.com//contest/1397/problem/E",
    "problemId": "712383",
    "problem_idx": "E",
    "shortId": "1397E",
    "contest_number": "1397",
    "problem_submissions": {
        "E": [
            91394076,
            91394865,
            91408844,
            91416677,
            91414871,
            91407127,
            91402357,
            91407934,
            91417811,
            91413475,
            91412250,
            91419091,
            91378476,
            91418930,
            91419994,
            91417519,
            91458404,
            91417294,
            91409334
        ],
        "D": [
            91372186,
            91372582,
            91379493,
            91372345,
            91376314,
            91383935,
            91383522,
            91392204,
            91382650,
            91385007,
            91393978,
            91368671,
            91385270,
            91368010,
            91395370,
            91397954,
            91372182
        ],
        "C": [
            91363525,
            91369524,
            91374646,
            91368197,
            91364426,
            91371771,
            91377426,
            91373604,
            91367966,
            91376255,
            91377856,
            91409632,
            91401708,
            91394202,
            91379664,
            91386652,
            91367805,
            91370718
        ],
        "B": [
            91361168,
            91362660,
            91362581,
            91360878,
            91374582,
            91380823,
            91370909,
            91365176,
            91359546,
            91369350,
            91367433,
            91374994,
            91454186,
            91372042,
            91383116,
            91365692,
            103511310,
            91389732,
            91359483,
            91364179
        ],
        "A": [
            91350972,
            91351778,
            91350895,
            91353022,
            91367161,
            91353583,
            91358678,
            91362352,
            91350856,
            91360209,
            91369795,
            91350959,
            91386649,
            91455005,
            91454161,
            91357607,
            91352696,
            91350850,
            91354043,
            91352491,
            91360679
        ]
    },
    "name": "E. Monster Invaders",
    "statement": "Ziota found a video game called \"Monster Invaders\".Similar to every\r\nother shooting RPG game, \"Monster Invaders\" involves killing monsters\r\nand bosses with guns.For the sake of simplicity, we only consider two\r\ndifferent types of monsters and three different types of guns.Namely,\r\nthe two types of monsters are: a normal monster with 1 hp. a boss with 2\r\nhp. And the three types of guns are: Pistol, deals 1 hp in damage to one\r\nmonster, r_1 reloading time Laser gun, deals 1 hp in damage to all the\r\nmonsters in the current level (including the boss), r_2 reloading time\r\nAWP, instantly kills any monster, r_3 reloading time The levels of the\r\ngame can be considered as an array a_1, a_2,\r\nldots, a_n, in which . Due to the nature of the game, .If Ziota damages\r\nthe boss but does not kill it immediately, (adjacent levels of level i\r\n(1 < i < n) are levels i - 1 and i + 1, the only adjacent level of level\r\n1 is level 2, the only adjacent level of level n is level n - 1). Ziota\r\ncan also choose to move to an adjacent level at any time. In order not\r\nto disrupt the space-time continuum within the game, Ziota starts the\r\ngame at level 1. The objective of the game is rather simple, to kill all\r\nthe bosses in all the levels. He is curious about the minimum time to\r\nfinish the game (assuming it takes no time to shoot the monsters with a\r\nloaded gun and Ziota has infinite ammo on all the three guns). Please\r\nhelp him find this value.\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\nusing namespace std;\n\n\nconst long long INF = (long long)1e18;\n\nint N;\nlong long r1, r2, r3, d;\n\nlong long D[1010101];\nlong long c1[1010101], c2[1010101];\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin >> N >> r1 >> r2 >> r3 >> d;\n    for(int i=1; i<=N; ++i)\n    {\n        long long a; cin >> a;\n        c1[i] = r1*a+r3+d; // costy\n        c2[i] = min({r1*a+2*r1, r2+r1})+2*d; // not costy\n    }\n    D[N+1] = 0;\n    for(int i=N; i>=1; --i)\n    {\n        D[i] = INF;\n        if(i == N-1) // final 21 allow\n            D[i] = min(D[i], c2[i]+c1[i+1]);\n        \n        // one pass\n        D[i] = min(D[i], c1[i]+D[i+1]);\n\n        // two pass using 2\n        if(i != N)\n            D[i] = min(D[i], c2[i]+c2[i+1]+D[i+2]);\n    }\n    // all 2 allow with extra point\n    long long eq = 0; for(int i=1; i<=N; ++i) eq += c2[i]; eq += d;\n    D[1] = min(D[1], eq);\n    cout << D[1]-d << endl;\n}\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "dp",
        "greedy"
    ],
    "dificulty": "2300",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\E. Monster Invaders.json",
    "editorial_link": "https://codeforces.com//blog/entry/82142",
    "editorial": "In this problem, it is useful to note that when the boss only has 1\n hp left, just use the pistol because it has the least reloading time. So there are 3 strategies we will use when playing at stage i\n (1?i?n)\n:\n\nTake ai\n pistol shots to kill first ai\n monsters and shoot the boss with the AWP.\nTake ai+1\n pistol shots and move back to this stage later to take another pistol shot to finish the boss.\nUse the laser gun and move back to this stage later to kill the boss with a pistol shot.\nObservation: We will always finish the game at stage n\n or n?1\n. Considering we are at stage i\n (i?n?1)\n and the boss at both stage i\n stage i?1\n has 1\n hp left, we can spend 2?d\n time to finish both these stages instead of going back later, which costs us exactly the same.\n\nTherefore, we will calculate dp(i,0/1)\n as the minimum time to finish first i?1\n stages and 0/1 is the remaining hp of the boss at stage i\n. The transitions are easy to figure out by using 3 strategies as above. The only thing we should note is that we can actually finish the game at stage n?1\n by instantly kill the boss at stage n\n with the AWP so we don't have to go back to this level later.\n\nAnswer to the problem is dp(n,0)\n. Time complexity: O(n)\n."
}