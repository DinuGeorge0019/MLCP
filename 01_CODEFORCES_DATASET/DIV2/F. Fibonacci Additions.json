{"link": "https://codeforces.com//contest/1634/problem/F", "problemId": "1285098", "problem_idx": "F", "shortId": "1634F", "contest_number": "1634", "problem_submissions": {"D": [145448060, 145421218, 145416745, 145423344, 145443205, 145427784, 145443409, 145431341, 145433882, 145423790, 145432676, 145425041, 145425515, 145428134, 145433736, 145425560, 145429012, 145409353, 145450134], "F": [145433416, 145453477, 145451269, 145460505, 145460962, 145457398, 145463150, 146209818, 145424500, 146353080, 145461554], "E": [145417696, 145430773, 145437025, 145445326, 145418577, 145442374, 145429197, 145419121, 145409285, 145435196, 145437792, 145441628, 145453390, 145439700, 145444612, 145443262, 145449756, 145425032], "C": [145412708, 145407591, 145405856, 145408804, 145405037, 145408252, 145414142, 145411742, 145412561, 145404073, 145409362, 145407564, 145408646, 145418751, 145411128, 145416814, 145410703, 145419625, 145409764], "B": [145407070, 145396453, 145401718, 145400856, 145397249, 145398450, 145410765, 145408191, 145401469, 145397310, 145403868, 145398596, 145400216, 145410152, 145399502, 145397772, 145402171, 145398736, 145404461], "A": [145397151, 145395090, 145396464, 145396099, 145395149, 145395150, 145396024, 145395848, 145396137, 145395189, 159142248, 145403722, 145395766, 145395501, 145399119, 145395603, 145395368, 145397257, 145397479]}, "name": "F. Fibonacci Additions", "statement": "One of my most productive days was throwing away 1,000 lines of code.\r\nKen Thompson is an operation on an array X of integers, parametrized by\r\nindices l and r. Fibonacci addition increases X_l by F_1, increases\r\nX_{l + 1} by F_2, and so on up to X_r which is increased by F_{r - l +\r\n1}.F_i denotes the i-th Fibonacci number (F_1 = 1, F_2 = 1, F_{i} =\r\nF_{i - 1} + F_{i - 2} for i > 2), and .You are given two arrays A and B\r\nof the same length. We will ask you to perform several Fibonacci\r\nadditions on these arrays with different parameters, and after each\r\noperation you have to report whether arrays A and B are equal modulo\r\nMOD.\r\n", "solutions": ["#include<bits/stdc++.h>\nusing namespace std;\nint n,q,mod,fib[300003],FA[300003],FB[300003],_FA[300003],_FB[300003],df;\nvoid addA(int x,int dt){\n\tif(_FA[x]==_FB[x])df++;\n\t_FA[x]=(_FA[x]+dt)%mod;\n\tif(_FA[x]==_FB[x])df--;\n}\nvoid addB(int x,int dt){\n\tif(_FA[x]==_FB[x])df++;\n\t_FB[x]=(_FB[x]+dt)%mod;\n\tif(_FA[x]==_FB[x])df--;\n}\nint main(){\n//\tfreopen(\"a.in\",\"r\",stdin);\n//\tfreopen(\"a.out\",\"w\",stdout);\n\tcin>>n>>q>>mod;\n\tfib[1]=1%mod;\n\tfib[2]=1%mod;\n\tfor(int i=3;i<300003;i++)\n\t\tfib[i]=(fib[i-1]+fib[i-2])%mod; \n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",FA+i);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",FB+i);\n\t_FA[1]=FA[1];_FA[2]=(FA[2]-FA[1]+mod)%mod;\n\t_FB[1]=FB[1];_FB[2]=(FB[2]-FB[1]+mod)%mod;\n\tfor(int i=3;i<=n;i++){\n\t\t_FA[i]=((FA[i]-FA[i-1]-FA[i-2])%mod+mod)%mod;\n\t\t_FB[i]=((FB[i]-FB[i-1]-FB[i-2])%mod+mod)%mod;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tif(_FA[i]!=_FB[i])\n\t\t\tdf++;\n//\tfor(int i=1;i<=n;i++)cout<<_FA[i]<<' ';cout<<endl;\n//\tfor(int i=1;i<=n;i++)cout<<_FB[i]<<' ';cout<<endl;\n\twhile(q--){\n\t\tchar c='.';\n\t\tint l,r;\n\t\twhile(c!='A'&&c!='B')c=getchar();\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tif(c=='A'){\n\t\t\taddA(l,1%mod);\n\t\t\tif(r+1<=n)addB(r+1,fib[r-l+2]);\n\t\t\tif(r+2<=n)addB(r+2,fib[r-l+1]);\n\t\t}else{\n\t\t\taddB(l,1%mod);\n\t\t\tif(r+1<=n)addA(r+1,fib[r-l+2]);\n\t\t\tif(r+2<=n)addA(r+2,fib[r-l+1]);\n\t\t}\n\t\tif(!df)\n\t\t\tprintf(\"YES\\n\");\n\t\telse\n\t\t\tprintf(\"NO\\n\");\n//\t\tfor(int i=1;i<=n;i++)cout<<_FA[i]<<' ';cout<<endl;\n//\t\tfor(int i=1;i<=n;i++)cout<<_FB[i]<<' ';cout<<endl;\n\t}\n}\n"], "input": "", "output": "", "tags": ["brute force", "data structures", "hashing", "implementation", "math"], "dificulty": "2700", "interactive": false}