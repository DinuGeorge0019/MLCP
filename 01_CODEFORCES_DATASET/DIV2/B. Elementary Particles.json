{
    "link": "https://codeforces.com//contest/1625/problem/B",
    "problemId": "1258600",
    "problem_idx": "B",
    "shortId": "1625B",
    "contest_number": "1625",
    "problem_submissions": {
        "E2": [
            142492395,
            142747553,
            142585858,
            142544817,
            142543932,
            142508709,
            142559014,
            142480865
        ],
        "E1": [
            142490853,
            142508148,
            142512533,
            142504881,
            142515152,
            143087068,
            142653128,
            142500567,
            142689991,
            142545810,
            142545797,
            142545556,
            142545467,
            142545326,
            142545262,
            142501419,
            142513368,
            142559018,
            142552380,
            142479633,
            142497816,
            142524491,
            142499880,
            142624103,
            142499824,
            142519909
        ],
        "D": [
            142481572,
            142492922,
            142487953,
            142497240,
            142498374,
            143087164,
            142599139,
            142514228,
            222453996,
            222453785,
            142497243,
            142486623,
            142491954,
            142489551,
            142492232,
            142491133,
            142490435,
            142499368,
            142553310,
            142502090,
            142500746
        ],
        "C": [
            142473156,
            142474854,
            142475386,
            142485242,
            142478481,
            143087271,
            142482654,
            142476782,
            142498111,
            142474938,
            142478501,
            142483591,
            142478318,
            142477275,
            142483517,
            142478815,
            142480894,
            142480450,
            142476700,
            142479689
        ],
        "B": [
            142469531,
            142471088,
            142471096,
            142472842,
            142472506,
            143087319,
            142469913,
            142470866,
            142473066,
            142471519,
            142471936,
            142470735,
            142472744,
            142471752,
            142475933,
            142471863,
            142473722,
            142473268,
            142472289,
            142473807
        ],
        "A": [
            142468922,
            142469220,
            142469548,
            142469271,
            142469703,
            143087364,
            142471996,
            142469051,
            142470684,
            142469214,
            142469265,
            142469095,
            142469247,
            142469618,
            142469909,
            142469285,
            142470575,
            142470471,
            142470036,
            142469919
        ]
    },
    "name": "B. Elementary Particles",
    "statement": "Martians are actively engaged in interplanetary trade. Olymp City, the\r\nMartian city known for its spaceport, has become a place where goods\r\nfrom all the corners of our Galaxy come. To deliver even more freight\r\nfrom faraway planets, Martians need fast spaceships.A group of\r\nscientists conducts experiments to build a fast engine for the new\r\nspaceship. In the current experiment, there are n elementary particles,\r\nthe i-th of them has type a_i.Denote a subsegment of the particle\r\nsequence (a_1, a_2,\r\ndots, a_n) as a sequence (a_l, a_{l+1},\r\ndots, a_r) for some left bound l and right bound r (1\r\nle l\r\nle r\r\nle n). For instance, the sequence (1\r\n4\r\n2\r\n8\r\n5\r\n7) for l=2 and r=4 has the sequence (4\r\n2\r\n8) as a subsegment. Two subsegments are considered different if at least\r\none bound of those subsegments differs.Note that the subsegments can be\r\nequal as sequences but still considered different. For example, consider\r\nthe sequence (1\r\n1\r\n1\r\n1\r\n1) and two of its subsegments: one with l=1 and r=3 and another with l=2\r\nand r=4. Both subsegments are equal to (1\r\n1\r\n1), but still considered different, as their left and right bounds\r\ndiffer.The scientists want to conduct a reaction to get two different\r\nsubsegments of the same length. Denote this length k. The resulting pair\r\nof subsegments must be , i. e. for i (1\r\nle i\r\nle k) it must be true that the types of particles on the i-th position\r\nare the same for these two subsegments. For example, the pair (1\r\n7\r\n3) and (4\r\n7\r\n8) is harmonious, as both subsegments have 7 on the second position. The\r\npair (1\r\n2\r\n3) and (3\r\n1\r\n2) is not harmonious.The longer are harmonious subsegments, the more\r\nchances for the scientists to design a fast engine. So, they asked you\r\nto calculate the maximal possible length of harmonious pair made of\r\ndifferent subsegments.\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\n#define rep(i,n) for (i=1;i<=(n);i++)\nusing namespace std;\nint pre[155555],n,i,t;\nint main(){\n\tcin>>t;\n\twhile(t--){\n\t\tint ans=-1;\n\t\tmemset(pre,0,sizeof(pre));\n\t\tcin>>n;\n\t\trep(i,n){\n\t\t\tint x;cin>>x;\n\t\t\tif(pre[x]){\n\t\t\t\tans=max(ans,pre[x]+(n-i));\n\t\t\t}\n\t\t\tpre[x]=i;\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "brute force",
        "greedy",
        "sortings"
    ],
    "dificulty": "1100",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\B. Elementary Particles.json",
    "editorial_link": "https://codeforces.com//blog/entry/99031",
    "editorial": "Note the following fact. For each optimal pair of harmonious strings,\r\nit\u00e2\u0080\u0099s true that the right string ends on the last character.Proof:\r\nsuppose it\u00e2\u0080\u0099s wrong. Then, we can expand the strings to the right by one\r\ncharacter, and they will remain harmonious.Now, prove the following\r\nstatement, that will help us to solve this problem. The statement is as\r\nfollows: the answer is where minimum is over all and such that and\r\n.Proof: consider two elements and such that and . Suppose that they are\r\non the same position in a pair of harmonious substrings. What maximal\r\nlength these substring may have?From what was proved above, we know that\r\nwe can expand the strings to the right. Take the first string starting\r\nin and the second string starting with . Then, we get the strings of\r\nlength after expanding them.Still, it\u00e2\u0080\u0099s not enough. So, we will also\r\nexpand the strings to the left. So, the total length of the strings will\r\nbecome , which is equal to . The smaller , the larger the length.To\r\nsolve the problem, we need to find a pair of nearest equal elements\r\nquickly. We can do the following: store all the positions of each\r\nelement (i. e. all the positions with , with etc.), and then we iterate\r\nover , go through the pairs of neighboring positions and calculate the\r\nminimum.\r\n"
}