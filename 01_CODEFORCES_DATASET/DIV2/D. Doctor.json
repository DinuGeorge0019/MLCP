{"link": "https://codeforces.com//contest/84/problem/D", "problemId": "440", "problem_idx": "D", "shortId": "84D", "contest_number": "84", "problem_submissions": {"E": [452627, 449024, 452609], "D": [450400, 451453, 450260, 451049, 453042, 452087, 451115, 451601, 451359, 451092, 451134, 451165, 450005, 451055], "C": [447706, 448885, 448694, 448914, 451302, 448275, 448059, 448906, 449306, 449387, 449576, 449309, 449347, 449955, 451170, 448806], "B": [446645, 447856, 447405, 447553, 453022, 447491, 447046, 447993, 447247, 447674, 447584, 447304, 447460, 447841, 447050, 447119], "A": [446385, 57312850, 57312533, 44578621, 6030624, 2567513, 2498001, 2426190, 2072252, 1715370, 1214658, 447192, 447016, 446945, 446434, 446701, 446518, 447430, 446507, 446885, 446463, 446570, 446769, 447019, 446386, 446513]}, "name": "D. Doctor", "statement": "There are animals in the queue to Dr. Dolittle. When an animal comes\r\ninto the office, the doctor examines him, gives prescriptions, appoints\r\ntests and may appoint extra examination. Doc knows all the forest\r\nanimals perfectly well and therefore knows exactly that the animal\r\nnumber in the queue will have to visit his office exactly times. We will\r\nassume that an examination takes much more time than making tests and\r\nother extra procedures, and therefore we will assume that once an animal\r\nleaves the room, it immediately gets to the end of the queue to the\r\ndoctor. Of course, if the animal has visited the doctor as many times as\r\nnecessary, then it doesn\u2019t have to stand at the end of the queue and it\r\nimmediately goes home. Doctor plans to go home after receiving animals,\r\nand therefore what the queue will look like at that moment is important\r\nfor him. Since the doctor works long hours and she can\u2019t get distracted\r\nlike that after all, she asked you to figure it out.\r\n", "solutions": ["#include <iostream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <ctime>\n#include <iomanip>\n#include <cstdlib>\nusing namespace std;\n\n\nlong long n, m;\nlong long pos[100001], sum, a[100000];\nvector <long long> k, u;\nvector <int> c;\nint main()\n{\n    cin >> n >> m;\n    for(int i = 0; i < n; i++)\n    {\n        cin >> pos[i];\n        sum += pos[i];\n        a[i] = pos[i];\n    }\n    if(sum < m)\n        cout << \"-1\";\n    if(sum <= m)    return 0;\n    sort(a, a + n);\n    k.push_back(a[0]);\n    c.push_back(0);\n    int sz = 0;\n    for(int i = 0; i < n; i++)\n    {\n        if(k[sz] != a[i])\n        {\n            k.push_back(a[i]);\n            c.push_back(0);\n            sz++;\n        }\n        c[sz]++;\n    }\n    for(int i = 0; i < k.size(); i++)\n        u.push_back(k[i]);\n    for(int i = k.size() - 1; i > 0; i--)   k[i] -= k[i - 1];\n    pos[n] = 0;\n    int t = n;\n    sz = 0;\n    int z = 0;\n    while(1)\n    {\n        if(k[sz] * t <= m)\n        {\n            m -= k[sz] * t;\n            t -= c[sz];\n            sz++;\n            z = u[sz - 1];\n        }\n        else\n        {\n            if(!m)\n            {\n                int  last = 0;\n                for(int i = 0; i < n; i++)\n                {\n                    if(pos[i] <= z)\n                    {\n                        pos[i] = 0;\n                        if(pos[i] == z) last = i;\n                    }\n                }\n                for(int i = last; i < n; i++)\n                    if(pos[i])  cout << i + 1 << ' ';\n                for(int i = 0; i < last; i++)\n                    if(pos[i])  cout << i + 1 << ' ';\n            }\n            else\n            {\n                int tmp = m / t;\n                for(int i = 0; i < n; i++)\n                {\n                    if(pos[i] <= z)\n                    {\n                        pos[i] = 0;\n                    }\n                    else    pos[i] -= z + tmp;\n                }\n                m = m % t;\n                for(int i = 0; i <= n; i++)\n                {\n                    if(!m)\n                    {\n                        for(int j = i; j < n; j++)\n                            if(pos[j]) cout << j + 1 << ' ';\n                        for(int j = 0; j < i; j++)\n                            if(pos[j])  cout << j + 1 << ' ';\n                        break;\n                    }\n                    if(pos[i])\n                    {\n                        pos[i]--;\n                        m--;\n                    }\n                }\n            }\n            return 0;\n        }\n    }\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["binary search", "implementation"], "dificulty": "1800", "interactive": false}