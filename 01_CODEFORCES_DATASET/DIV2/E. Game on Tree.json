{"link": "https://codeforces.com//contest/281/problem/E", "problemId": "2724", "problem_idx": "E", "shortId": "281E", "contest_number": "281", "problem_submissions": {"E": [3283483, 3280513, 83186797, 3282100, 3282867], "D": [3280737, 3280273, 3278003, 3278968, 3282200, 3280660, 3279694, 3281443, 3282246, 3283008, 3283922, 3282844, 3283697], "C": [3278293, 3277396, 3284012, 3281377, 3283186], "B": [3276309, 3278090, 3276072, 3277223, 3286976, 3276173, 3276703, 3277506, 3276168, 3280432, 3280316, 3277025, 3276467, 3417552, 3277388, 3276638, 3287354], "A": [3274463, 3274325, 3274769, 3275162, 3274438, 3274688, 3274803, 3274521, 3274569, 3274437, 3279688, 3274972, 3274371, 3275776, 3274400, 3276374]}, "name": "E. Game on Tree", "statement": "Momiji has got a rooted tree, consisting of nodes. The tree nodes are\r\nnumbered by integers from to . The root has number . Momiji decided to\r\nplay a game on this tree.The game consists of several steps. On each\r\nstep, Momiji chooses one of the remaining tree nodes (let\u2019s denote it by\r\n) and removes all the subtree nodes with the root in node from the tree.\r\nNode gets deleted as well. The game finishes when the tree has no nodes\r\nleft. In other words, the game finishes after the step that chooses the\r\nnode number .Each time Momiji chooses a new node uniformly among all the\r\nremaining nodes. Your task is to find the expectation of the number of\r\nsteps in the described game.\r\n", "solutions": ["#include<iostream>\n#include<stack>\n#include<queue>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<set>\n#include<string>\n#include<cstring>\n#include<map>\n#include<numeric>\n#include<sstream>\n#include<cmath>\nusing namespace std;\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define pb push_back\n#define f(i,x,y) for(int i = x; i<y; i++ )\n#define FORV(it,A) for(vector<int>::iterator it = A.begin(); it!= A.end(); it++)\n#define FORS(it,A) for(set<int>::iterator it = A.begin(); it!= A.end(); it++)\n#define quad(x) (x) * (x)\n#define mp make_pair\n#define clr(x, y) memset(x, y, sizeof x)\n#define fst first\n#define snd second\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\nvector <int> E[100100];\nint h[100100];\n\nvoid bfs(int n) {\n\th[1] = 0;\n\tfor (int i = 2; i <= n; i++) h[i] = 1000000000;\n\tqueue <int> Q;\n\tQ.push(1);\n\twhile (!Q.empty()) {\n\t\tint e = Q.front(); Q.pop();\n\t\tfor (int i = 0; i < E[e].size(); i++) if (h[ E[e][i]] > h[e] + 1) {\n\t\t\th[ E[e][i]] = h[e] + 1;\n\t\t\tQ.push(E[e][i]);\n\t\t}\n\t}\n}\n\ndouble calc() {\n\tint n = 1;\n\tdouble ans = 1;\n\t\n\tqueue <int> Q;\n\tQ.push(1);\n\twhile (!Q.empty()) {\n\t\tint e = Q.front(); Q.pop();\n\t\tfor (int i = 0; i < E[e].size(); i++) if (h[e] < h[E[e][i]] ) {\n\t\t\tans += 1./(h[E[e][i]] + 1);\n\t\t \tQ.push(E[e][i]);\n\t\t}\t\t\t\n\t}\n\treturn ans;\t\t\n}\n\nint main() {\t\n\tint n; cin >> n;\n\tfor (int i = 0; i < n-1; i++) {\n\t\tint a, b; scanf(\"%d %d\", &a, &b);\n\t\tE[a].pb(b);\n\t\tE[b].pb(a);\n\t}\n\tbfs(n);\n\t//for (int i = 0; i < n; i++) printf(\"%d\\n\", h[i+1]);\n\t\n\t\n\tprintf(\"%.20lf\\n\", calc());\n\treturn 0;\n\t\n}\n\t\n"], "input": "", "output": "", "tags": ["math"], "dificulty": "2200", "interactive": false}