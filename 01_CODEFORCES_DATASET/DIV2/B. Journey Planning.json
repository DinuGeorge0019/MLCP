{
    "link": "https://codeforces.com//contest/1321/problem/B",
    "problemId": "551761",
    "problem_idx": "B",
    "shortId": "1321B",
    "contest_number": "1321",
    "problem_submissions": {
        "F": [
            72202118,
            72198416
        ],
        "C": [
            72190499,
            72170310,
            72171527,
            72174502,
            72175483,
            72175401,
            72175000,
            72176189,
            72171238,
            72175883,
            72177727,
            72183189,
            72179214,
            72177328,
            72279003,
            72174053,
            72178214,
            72178070,
            72179504,
            72179152,
            72178320
        ],
        "D": [
            72183268,
            72175184,
            72177797,
            72179168,
            72180779,
            72181426,
            72180644,
            72182068,
            72185885,
            72181701,
            72186041,
            72179938,
            72186063,
            72181326,
            72178168,
            72183258,
            72185462,
            72184740,
            72187220,
            72184221
        ],
        "E": [
            72180529,
            72186287,
            72184508,
            72188609,
            72188377,
            72190998,
            72191625,
            72192736,
            72180513,
            72191278,
            72214882,
            72192856,
            72193973,
            72192866,
            72196349,
            72194892,
            72194887,
            72194595,
            72195594,
            72195787
        ],
        "A": [
            72173172,
            72167016,
            72167934,
            72167935,
            72169001,
            72167363,
            72167505,
            72167646,
            72189321,
            72167844,
            72168400,
            72167413,
            72168727,
            72167365,
            72278985,
            72168080,
            72169683,
            72169011,
            72168321,
            72167972,
            72167569
        ],
        "B": [
            72168656,
            72168025,
            72169238,
            72170413,
            72171089,
            72169057,
            72169880,
            72170679,
            72187620,
            72171095,
            72171827,
            72169625,
            72172515,
            72169721,
            72170650,
            72172323,
            72173484,
            72170425,
            72174186,
            72171595
        ]
    },
    "name": "B. Journey Planning",
    "statement": "Tanya wants to go on a journey across the cities of Berland. There are n\r\ncities situated along the main railroad line of Berland, and these\r\ncities are numbered from 1 to n. Tanya plans her journey as follows.\r\nFirst of all, she will choose some city c_1 to start her journey. She\r\nwill visit it, and after that go to some other city c_2 > c_1, then to\r\nsome other city c_3 > c_2, and so on, until she chooses to end her\r\njourney in some city c_k > c_{k - 1}. So, the sequence of visited cities\r\n[c_1, c_2,\r\ndots, c_k] should be strictly increasing.There are some additional\r\nconstraints on the sequence of cities Tanya visits. Each city i has a\r\nbeauty value b_i associated with it. If there is only one city in\r\nTanyaâ€™s journey, these beauty values imply no additional constraints.\r\nBut if there are multiple cities in the sequence, then for any pair of\r\nadjacent cities c_i and c_{i + 1}, the condition c_{i + 1} - c_i =\r\nb_{c_{i + 1}} - b_{c_i} must hold.For example, if n = 8 and b = [3, 4,\r\n4, 6, 6, 7, 8, 9], there are several three possible ways to plan a\r\njourney: c = [1, 2, 4]; c = [3, 5, 6, 8]; c = [7] (a journey consisting\r\nof one city is also valid). There are some additional ways to plan a\r\njourney that are not listed above.Tanya wants her journey to be as\r\nbeautiful as possible. The beauty value of the whole journey is the sum\r\nof beauty values over all visited cities. Can you help her to choose the\r\noptimal plan, that is, to maximize the beauty value of the journey?\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define in ({int x=0;int c=getchar(),n=0;for(;!isdigit(c);c=getchar()) n=(c=='-');for(;isdigit(c);c=getchar()) x=x*10+c-'0';n?-x:x;})\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint rnd(int l,int r){return l+rng()%(r-l+1);}\n#define fasty ios_base::sync_with_stdio(0),cin.tie(0);\n#define forinc(a,b,c) for(int a=b,_c=c;a<=_c;++a)\n#define fordec(a,b,c) for(int a=b,_c=c;a>=_c;--a)\n#define forv(a,b) for(auto&a:b)\n#define fi first\n#define se second\n#define pb push_back\n#define ii pair<int,int>\n#define mt make_tuple\n#define all(a) a.begin(),a.end()\n#define reset(f, x) memset(f, x, sizeof(f))\n#define bit(x,i) ((x>>(i-1))&1)\n#define on(x,i) (x|(1ll<<(i-1)))\n#define off(x,i) (x&~(1<<(i-1)))\n#define gg exit(0);\n\nconst int N=200010;\n\nint n;\nint f[N],a[N];\nmap<int,int> best;\n\nmain(){\n    #define task \"TASK\"\n    //freopen(task\".inp\",\"r\",stdin);\n    //freopen(task\".out\",\"w\",stdout);\n\n    n=in;\n    forinc(i,1,n) f[i]=a[i]=in;\n    forinc(i,1,n){\n        f[i]=max(f[i],best[a[i]-i]+a[i]);\n        best[a[i]-i]=max(best[a[i]-i],f[i]);\n    }\n    cout<<*max_element(f+1,f+n+1);\n}\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "data structures",
        "sortings"
    ],
    "dificulty": "1400",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\B. Journey Planning.json",
    "editorial_link": "https://codeforces.com//blog/entry/74431",
    "editorial": "Let's rewrite the equality given in the statement as ci+1?bci+1=ci?bci\n. It means that all cities in our path will have the same value of i?bi\n; furthermore, all cities with the same such value can always be visited in ascending order.\n\nSo we may group cities by i?bi\n, compute the sum in each group and find the maximum over all groups. For example, this can be done by storing the sum for each i?bi\n in an array (be careful with negative values of i?bi\n, though!)\n\nDiv2C",
    "hint": []
}