{"link": "https://codeforces.com//contest/1602/problem/D", "problemId": "1157773", "problem_idx": "D", "shortId": "1602D", "contest_number": "1602", "problem_submissions": {"E": [133032006, 133003754, 133004259, 133007498, 133009354, 133008986, 133015586, 133014296, 133019189, 133016251, 133023043, 133017173, 133017654, 133031118, 133031771, 133023126, 133023444, 133026607, 133071046, 133071006, 133023246, 133026124], "F": [133014631, 133053467, 133059590, 133053314, 133051962, 133051828, 133051273, 133051246, 133050986, 133051444, 133058927, 154906935, 133202717], "D": [133005341, 132997744, 132998965, 133002435, 132995700, 132999302, 133001008, 133003621, 133003659, 132999008, 132999274, 133007130, 133055379, 133006665, 133001448, 133002893, 133007904, 133005768, 133005590, 133006243, 133009816], "C": [132998504, 132991987, 132994038, 132995401, 132990761, 132993753, 132991630, 132994468, 132994573, 133000658, 132992001, 132996442, 132999119, 132991525, 132995757, 132998190, 132996165, 132996191, 132994329, 132993830], "B": [132991874, 132990242, 132989322, 132992468, 132988801, 132988045, 132989355, 132992898, 148604097, 132990867, 133003212, 132988289, 133227165, 132993306, 133064818, 132995361, 132995328, 132993153, 132995379, 132997555, 132991609, 132992280, 132992140], "A": [132986686, 132984939, 132985573, 132990670, 132984472, 132986995, 132984659, 132987933, 148604079, 132986349, 132985981, 132984656, 133227226, 132987663, 132991514, 132988125, 132988425, 132989208, 132984538, 132986551, 132985450, 132984595]}, "name": "D. Frog Traveler", "statement": "Frog Gorf is traveling through Swamp kingdom. Unfortunately, after a\r\npoor jump, he fell into a well of n meters depth. Now Gorf is on the\r\nbottom of the well and has a long way up.The surface of the well\u2019s walls\r\nvary in quality: somewhere they are slippery, but somewhere have\r\nconvenient ledges. In other words, if Gorf is on x meters below ground\r\nlevel, then in one jump he can go up on any integer distance from 0 to\r\na_x meters inclusive. (Note that Gorf can\u2019t jump down, only\r\nup).Unfortunately, Gorf has to take a break after each jump (including\r\njump on 0 meters). And after jumping up to position x meters below\r\nground level, he\u2019ll slip exactly b_x meters down while resting.Calculate\r\nthe minimum number of jumps Gorf needs to reach ground level.\r\n", "solutions": ["#include<bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint ret=0;bool f=0;char c=getchar();\n\twhile(c>'9'||c<'0')f|=(c=='-'),c=getchar();\n\twhile(c>='0'&&c<='9')ret=(ret<<3)+(ret<<1)+(c^48),c=getchar();\n\treturn f?-ret:ret;\n}\nconst int maxn=3e5+5;\nint n;\nint ans,ap;\nint a[maxn],b[maxn];\nstruct dsu\n{\n\tint fa[maxn];\n\tvoid prework(){for(int i=1;i<=n+1;i++)fa[i]=i;}\n\tint get(int x){return x==fa[x]?x:fa[x]=get(fa[x]);}\n\tvoid merge(int x,int y){fa[get(x)]=get(y);}\n}S;\nqueue<int>q;int f[maxn],pre[maxn];\nvoid bfs()\n{\n\tS.prework();q.push(1);S.merge(1,2);\n\twhile(!q.empty())\n\t{\n\t\tint x=q.front();q.pop();\n\t\tif(x-b[x]+a[x-b[x]]>n){ans=f[x]+1;ap=x;pre[n+1]=x;return;}\n\t\tfor(int i=S.get(x-b[x]);i<=x-b[x]+a[x-b[x]];i=S.get(i)){q.push(i);pre[i]=x;f[i]=f[x]+1;S.merge(i,i+1);}\n\t}\n}\nvoid print(int x)\n{\n\tif(x==1)return;\n\tif(pre[x])print(pre[x]);\n\tprintf(\"%d \",n-x+1);\n}\nint main()\n{\n\tn=read();\n\tgenerate_n(a+1,n,read);generate_n(b+1,n,read);reverse(a+1,a+n+1);reverse(b+1,b+n+1);\n\tans=-1;bfs();\n\tif(ans==-1)printf(\"-1\\n\");\n\telse\n\t{\n\t\tprintf(\"%d\\n\",ans);\n\t\tprint(n+1);printf(\"\\n\");\n\t}\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["data structures", "dp", "graphs", "greedy", "shortest paths"], "dificulty": "1900", "interactive": false}