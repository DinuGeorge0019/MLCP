{"link": "https://codeforces.com//contest/1748/problem/C", "problemId": "1632965", "problem_idx": "C", "shortId": "1748C", "contest_number": "1748", "problem_submissions": {"F": [180651535, 180677196, 181105630, 180664800, 181374019, 180658674, 180695681, 180655443, 180742899], "E": [180637637, 180628826, 180634324, 180638179, 180642534, 180644596, 180636672, 181374010, 180641599, 180630018, 180635790, 180636019, 180643172, 180645795, 180743214, 180638578, 180968480, 180635598, 180635749, 180647581, 180646430, 180647569, 180646469], "D": [180633726, 180624258, 180629104, 180634928, 180631821, 180631702, 180639756, 181373997, 180632286, 180647106, 180647136, 180632247, 180695817, 180636057, 180743200, 180643463, 180968348, 180645591, 180644512, 180637600, 180635174, 180636597, 180633591], "C": [180627069, 180617304, 180624008, 180625748, 180621980, 180623459, 180622660, 181373988, 180628239, 180625933, 180628451, 180622380, 180627739, 180622385, 180743249, 180625569, 180968325, 180627789, 180629833, 180622612, 180628495, 180626202, 180630095], "B": [180622705, 180613102, 180624297, 180615500, 180617761, 180619392, 180619994, 181373974, 180622730, 180621189, 180616618, 180613628, 180622929, 180618545, 180743160, 180616164, 180968311, 180615958, 180614803, 180618593, 180622095, 180621136], "A": [180613831, 180610319, 180610882, 180610734, 180612490, 180611586, 180619768, 181373957, 180612666, 180610632, 180610694, 180610429, 180620047, 180612131, 180743129, 180611466, 180968275, 180611045, 180610310, 180612188, 180613830, 180610743]}, "name": "C. Zero-Sum Prefixes", "statement": "The of an array v_1,v_2,\r\nldots,v_n is defined as the number of indices i (1\r\nle i\r\nle n) such that v_1+v_2+\r\nldots+v_i = 0.You are given an array a_1,a_2,\r\nldots,a_n of length n. You can perform the following operation multiple\r\ntimes: select an index i (1\r\nle i\r\nle n) such that a_i=0; then replace a_i by an arbitrary integer. What is\r\nthe maximum possible score of a that can be obtained by performing a\r\nsequence of such operations?\r\n", "solutions": ["# include <cstdlib>\n# include <cstring>\n# include <map>\n# include <algorithm>\n# include <cstdio>\n\nnamespace khin {\n  using namespace std;\n  namespace main {\n    inline namespace source {\n      typedef unsigned long int ulong;\n      typedef unsigned short int ushort;\n      typedef unsigned int uint;\n    }\n    namespace c { void main(); }\n  }\n}\n\nint main() { khin::main::c::main(); }\n\nnamespace khin::main::c {\n  namespace test_case {\n    constexpr uint n_max(200'000);\n    uint n; int a[n_max + 2]; long long int s[n_max + 1];\n    void main() {\n      scanf(\"%u\", &n);\n      for (uint i(1); i <= n; ++i) scanf(\"%d\", &a[i]);\n      uint ans(0);\n      for (uint i(0), j(0); i <= n; i = j) {\n        while (a[++j]);\n        s[i] = 0;\n        for (uint k(i + 1); k < j; ++k) s[k] = s[k - 1] + a[k];\n        if (i) {\n          map<long long int, uint> cnt; uint res(0);\n          for (uint k(i); k < j; ++k) res = max(res, ++cnt[s[k]]);\n          ans += res;\n        } else ans += count(s + 1, s + j, 0);\n      }\n      printf(\"%u\\n\", ans);\n      memset(a + 1, 0x00, n * sizeof(int));\n    }\n  }\n  void main() {\n    ushort t;\n    scanf(\"%hu\", &t);\n    while (test_case::main(), --t);\n  }\n}"], "input": "", "output": "", "tags": ["brute force", "data structures", "dp", "greedy", "implementation"], "dificulty": "1600", "interactive": false}