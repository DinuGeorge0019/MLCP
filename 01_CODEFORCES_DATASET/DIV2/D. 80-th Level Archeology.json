{"link": "https://codeforces.com//contest/731/problem/D", "problemId": "75975", "problem_idx": "D", "shortId": "731D", "contest_number": "731", "problem_submissions": {"D": [21507606, 21485910, 21487254, 21484498, 21488003, 21486730, 21490784, 21494206, 21481068, 21511124, 21485685, 21489121, 21487100, 21568091, 21513297, 21513265, 21483698], "E": [21487370, 21488491, 21489109, 21490173, 21490282, 21488124, 21478759, 21486709, 21482192, 21497395, 21489450, 21493635, 21484776, 21490615, 21489533, 21487823, 21492190, 21499034, 21490743], "F": [21481835, 21483503, 21486528, 21484079, 21487817, 21483187, 21479838, 21481840, 21482733, 21486882, 21483028, 21483988, 21482409, 21480968, 21488944, 21485189, 21488476, 21484669, 21488070, 21486545], "C": [21479362, 21481971, 21480987, 21481503, 21479989, 21477543, 21482718, 21479909, 21477810, 21485166, 21479533, 21479880, 21478958, 21488181, 21481556, 21481473, 21477970, 21479493, 21480708, 21481119], "B": [21476870, 21479930, 21477574, 21478962, 21478647, 21492414, 21481417, 21477633, 21476489, 21481747, 21477815, 21481505, 21485057, 21489403, 67074526, 21478744, 21480726, 21477230, 21478732, 21478885], "A": [21476108, 21478310, 21476242, 21476318, 21476790, 21479331, 21480393, 21476522, 21475966, 21478021, 21476661, 21476151, 21475986, 21490293, 21476656, 21477731, 21478515, 21476049, 21476561, 21476353]}, "name": "D. 80-th Level Archeology", "statement": "Archeologists have found a secret pass in the dungeon of one of the\r\npyramids of Cycleland. To enter the treasury they have to open an\r\nunusual lock on the door. The lock consists of words, each consisting of\r\nsome hieroglyphs. The wall near the lock has a round switch. Each\r\nrotation of this switch changes the hieroglyphs according to some rules.\r\nThe instruction nearby says that the door will open only if words\r\nwritten on the lock would be sorted in (the definition of\r\nlexicographical comparison in given in notes section).The rule that\r\nchanges hieroglyphs is the following. One clockwise rotation of the\r\nround switch replaces each hieroglyph with the next hieroglyph in\r\nalphabet, i.e. hieroglyph () is replaced with hieroglyph , and\r\nhieroglyph is replaced with hieroglyph .Help archeologist determine, how\r\nmany clockwise rotations they should perform in order to open the door,\r\nor determine that this is impossible, i.e. no cyclic shift of the\r\nalphabet will make the sequence of words sorted lexicographically.\r\n", "solutions": ["#include <bits/stdc++.h>\n\nusing namespace std;\nconst double pi=acos(-1.0);\nconst double eps=1e-9;\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define re return\n#define vi vector <int> \n#define pii pair <int,int>\n#define pll pair <long long , long long>\ntypedef long long ll;\n\nconst int N=(int)5e5+5;\nconst int C=(int)1e6+5;\n\nint n,c,l[N],a,b,t[C];\nvector <int> v[N];\nbool good[N];\n\nint main()\n{\n\tios:: sync_with_stdio(false);\n\tcin >> n >> c;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tcin >> l[i];\n\t\tfor(int j=0;j<l[i];j++)\n\t\t{\n\t\t\tcin >> a;\n\t\t\ta--;\n\t\t\tv[i].pb(a);\n\t\t}\n\t}\n\tfor(int i=0;i<n-1;i++)\n\t{\n\t\tif(l[i+1]>=l[i])continue;\n\t\tbool ok=false;\n\t\tfor(int j=0;j<l[i+1];j++)\n\t\t\tif(v[i][j]!=v[i+1][j])\n\t\t\t{\n\t\t\t\tok=true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(!ok)\n\t\t{\n\t\t\tcout << -1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t//cout << \"Hi\";\n\tfor(int i=0;i<n-1;i++)\n\t{\n\t\tif(l[i]>l[i+1])continue;\n\t\tbool ok=true;\n\t\tfor(int j=0;j<l[i];j++)\n\t\t\tif(v[i][j]!=v[i+1][j])\n\t\t\t{\n\t\t\t\tok=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(ok)good[i]=true;\n\t}\n\tfor(int i=0;i<n-1;i++)\n\t{\n\t\tif(good[i])continue;\n\t\tfor(int j=0;j<min(l[i],l[i+1]);j++)\n\t\t\tif(v[i][j]!=v[i+1][j])\n\t\t\t{\n\t\t\t\ta=v[i][j];\n\t\t\t\tb=v[i+1][j];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(a<b)\n\t\t{\n\t\t\tt[c-b]++;\n\t\t\tt[c-a]--;\n\t\t} else\n\t\t{\n\t\t\tt[0]++;\n\t\t\tt[c-a]--;\n\t\t\tt[c-b]++;\n\t\t\tt[c]--;\n\t\t}\n\t}\n\tint cur=0;\n\tfor(int i=0;i<c;i++)\n\t{\n\t\tcur+=t[i];\n\t\tif(cur==0)\n\t\t{\n\t\t\tcout << i;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tcout << -1;\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["brute force", "data structures", "greedy", "sortings"], "dificulty": "2200", "interactive": false}