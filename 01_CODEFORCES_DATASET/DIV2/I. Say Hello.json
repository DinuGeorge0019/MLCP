{"link": "https://codeforces.com//contest/1046/problem/I", "problemId": "223481", "problem_idx": "I", "shortId": "1046I", "contest_number": "1046", "problem_submissions": {"B": [43252358, 43255928], "A": [43250309, 43254410, 43250987], "H": [43247639, 43245779, 43247215, 43247770], "F": [43246486, 43244046, 43246380, 43248077], "C": [43245566, 43247893, 43247771, 43244424, 43243585], "I": [43253744, 43258105, 43258173], "G": [43269050], "D": [], "E": []}, "name": "I. Say Hello", "statement": "Two friends are travelling through Bubble galaxy. They say \"Hello!\" via\r\nsignals to each other if their distance is smaller or equal than d_1 and\r\nit\u2019s the first time they speak to each other or at some point in time\r\nafter their last talk their distance was greater than d_2. We need to\r\ncalculate how many times friends said \"Hello!\" to each other. For N\r\nmoments, you\u2019ll have an array of points for each friend representing\r\ntheir positions at that moment. A person can stay in the same position\r\nbetween two moments in time, but if a person made a move we assume this\r\nmovement as movement with constant speed in constant direction.\r\n", "solutions": ["#pragma gcc optimize(\"O3\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define st first\n#define nd second\n#define ll long long\n#define ull unsigned ll\n#define pii pair<int,int>\n#define pll pair<ll,ll>\n#define vi vector<int>\ndouble d1,d2;\npii pie[100005],dru[100005];\ndouble odl(double x1,double y1,double x2, double y2){\n\treturn (x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n}\nint styka(pii pw, pii dw, pii pt, pii dt){\n\t//pii sk=mp(pw.st-dw.st,pw.nd-dw.nd);\n\t//pii dk=mp(pt.st-dt.st,pt.nd-dt.nd);\n\tdouble x1,x2,y1,y2;\n\tx1=pw.st-dw.st;\n\tx2=pt.st-dt.st;\n\ty1=pw.nd-dw.nd;\n\ty2=pt.nd-dt.nd;\n\tif(odl(0,0,x1,y1) >= odl(0,0,x1+(x2-x1)/2000,y1+(y2-y1)/2000)   && odl(0,0,x2,y2) >= odl(0,0,x2+(x1-x2)/2000,y2+(y1-y2)/2000) ){\n\t\tdouble najb=(x2*y1-x1*y2);\n\t\tnajb*=najb;\n\t\tdouble dr=odl(x1,y1,x2,y2);\n\t\tif(najb <= d1*dr){\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\tint a,b,i,j,n,wyn=0;\n\tcin >>n >>d1 >>d2;\n\td1*=d1;\n\td2*=d2;\n\tfor(i=0;i<n;i++){\n\t\tcin >>pie[i].st >>pie[i].nd >>dru[i].st >>dru[i].nd;\n\t}\n\tint moz=1;\n\tif(odl(pie[0].st,pie[0].nd,dru[0].st,dru[0].nd) <= d1){\n\t\twyn++;\n\t\tmoz=0;\n\t}\n\tfor(i=1;i<n;i++){\n\t\tif(moz==1){\n\t\t\tif(odl(pie[i].st,pie[i].nd,dru[i].st,dru[i].nd) <= d1){\n\t\t\t\tmoz=0;\n\t\t\t\twyn++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ta=styka(pie[i-1],dru[i-1],pie[i],dru[i]);\n\t\t\t\tif(a==1){\n\t\t\t\t\tmoz=0;\n\t\t\t\t\twyn++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(odl(pie[i].st,pie[i].nd,dru[i].st,dru[i].nd) >= d2){\n\t\t\tmoz=1;\n\t\t}\n\t}\n\tcout <<wyn;\n}"], "input": "", "output": "", "tags": ["geometry"], "dificulty": "2300", "interactive": false}