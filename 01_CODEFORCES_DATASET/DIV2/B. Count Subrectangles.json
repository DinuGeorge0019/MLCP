{"link": "https://codeforces.com//contest/1323/problem/B", "problemId": "555651", "problem_idx": "B", "shortId": "1323B", "contest_number": "1323", "problem_submissions": {"E": [72646123, 72653285, 72643665, 72638538, 72651824, 72641452, 73215564, 74923998, 74923708, 73375083], "D": [72641565, 72643228, 72648719, 72647003, 72657000, 72637909, 72646207, 72643501, 72637563, 72646014, 72647579, 72648996, 72648307, 72652014, 72649186, 72646691, 72649030, 72650695, 72651530], "B": [72636401, 72633103, 72651379, 72658721, 72640042, 72636596, 72635014, 72632358, 72634390, 72641816, 72634710, 72636519, 72636057, 72635279, 72633123, 72635193, 72638653, 72635061, 72634039, 72635382], "A": [72633163, 72628485, 72649551, 72644013, 72634218, 72632880, 72629084, 72628191, 72629890, 72628412, 72628653, 72634993, 72629129, 72628869, 72628314, 72629285, 72631475, 72629827, 72628727, 72629930], "C": [72632322, 72637080, 72632032, 72656932, 72642708, 72635949, 72629179, 72635274, 72637583, 72643824, 72637576, 72633880, 72637844, 72637960, 72635809, 72640203, 72642430, 72637773, 72640096, 72637917], "F": [72957747]}, "name": "B. Count Subrectangles", "statement": "You are given an array a of length n and array b of length m both\r\nconsisting of only integers 0 and 1. Consider a matrix c of size n\r\ntimes m formed by following rule: c_{i, j} = a_i\r\ncdot b_j (i.e. a_i multiplied by b_j). It\u2019s easy to see that c consists\r\nof only zeroes and ones too.How many of size (area) k consisting only of\r\nones are there in c?A is an intersection of a consecutive (subsequent)\r\nsegment of rows and a consecutive (subsequent) segment of columns. I.e.\r\nconsider four integers x_1, x_2, y_1, y_2 (1\r\nle x_1\r\nle x_2\r\nle n, 1\r\nle y_1\r\nle y_2\r\nle m) a subrectangle c[x_1\r\ndots x_2][y_1\r\ndots y_2] is an intersection of the rows x_1, x_1+1, x_1+2,\r\ndots, x_2 and the columns y_1, y_1+1, y_1+2,\r\ndots, y_2.The size (area) of a subrectangle is the total number of cells\r\nin it.\r\n", "solutions": ["#include<bits/stdc++.h>\n\nusing namespace std;\n\n#define ll  long long\n#define ld  double\n\n#define sz(x)   (int)x.size()\n#define all(x)  x.begin(),x.end()\n\n#define pb  emplace_back\n#define X   first\n#define Y   second\n\nconst int   N   = 2e5 + 5;\n\ntypedef pair<int,int>   ii;\n\nint main()  {\n    ios_base::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n\n    int n;  cin >> n;\n    int m;  cin >> m;\n    int k;  cin >> k;\n\n    vector<int> row;\n    vector<int> col;\n\n    for(int i = 0 ; i < n ; ++i)    {\n        int x;  cin >> x;\n        if (x)  row.pb(i);\n    }\n    for(int j = 0 ; j < m ; ++j)    {\n        int x;  cin >> x;\n        if (x)  col.pb(j);\n    }\n\n    ll  ans = 0;\n\n    auto cal = [&](int R,int C) {\n        int cnt0 = 0;\n        int cnt1 = 0;\n        for(int i = R - 1 ; i < sz(row) ; ++i)  if (row[i - R + 1] == row[i] - R + 1)   cnt0++;\n        for(int i = C - 1 ; i < sz(col) ; ++i)  if (col[i - C + 1] == col[i] - C + 1)   cnt1++;\n\n        ans += 1ll * cnt0 * cnt1;\n    };\n\n    for(int i = 1 ; i * i <= k ; ++i)   if (k % i == 0) {\n        cal(i,k / i);\n        if (i * i < k)\n            cal(k / i,i);\n    }\n    cout << ans << endl;\n}"], "input": "", "output": "", "tags": ["binary search", "greedy", "implementation"], "dificulty": "1500", "interactive": false}