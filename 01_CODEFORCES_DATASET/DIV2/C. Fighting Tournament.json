{"link": "https://codeforces.com//contest/1719/problem/C", "problemId": "1509972", "problem_idx": "C", "shortId": "1719C", "contest_number": "1719", "problem_submissions": {"B": [168566227, 168520938, 168532485, 168523483, 168546606, 168527651, 168529090, 168521682, 168524157, 168525651, 168544350, 168524093, 168532781, 168524676, 168524799, 168528931, 168523245, 168535265, 168542247, 168526151], "C": [168564590, 168527055, 168563913, 168534688, 168554638, 168544738, 168548686, 168548105, 168536891, 168541394, 168530142, 168539695, 168544769, 168539081, 168537531, 168544593, 168539888, 168546396, 168551142, 168534597], "D1": [168558558, 168542679, 168557284, 168554279, 168564803, 171062245, 168563518, 168568656, 168554712, 168565935, 168563890, 168565575, 168554859, 168570422, 168552272, 168561513, 168560338, 168564995, 168562859, 168577517], "D2": [168558497, 168553599, 168557602, 168553982, 168564623, 171062226, 168563176, 168568769, 168554473, 168565713, 168570996, 168565418, 168574779, 168570083, 168576109, 168574448, 168567511, 168565085, 168562615, 168586718], "E": [168554365, 168598287, 168578854, 168574119, 168542245, 168581099, 168583743, 168579840, 168595833, 168593319, 168587676, 168594973, 168588543, 168587843, 168593966, 168594751, 168583071, 168590461, 168594089], "F": [168534987, 168577836, 168600287, 168607443, 168579023, 168704091, 168637926, 168609385, 168607981, 168607715, 168585958], "A": [168519209, 168515375, 168527134, 168516968, 168548303, 168516013, 168516695, 168515925, 168516176, 168516243, 168534710, 168515665, 168518019, 168515902, 168516007, 168515846, 168515950, 168515461, 168516618, 168515960]}, "name": "C. Fighting Tournament", "statement": "Burenka is about to watch the most interesting sporting event of the\r\nyear a fighting tournament organized by her friend Tonya.n athletes\r\nparticipate in the tournament, numbered from 1 to n. Burenka determined\r\nthe strength of the i-th athlete as an integer a_i, where 1\r\nleq a_i\r\nleq n. All the strength values are different, that is, the array a is a\r\npermutation of length n. We know that in a fight, if a_i > a_j, then the\r\ni-th participant always wins the j-th.The tournament goes like this:\r\ninitially, all n athletes line up in ascending order of their ids, and\r\nthen there are infinitely many fighting rounds. In each round there is\r\nexactly one fight: the first two people in line come out and fight. The\r\nwinner goes back to the front of the line, and the loser goes to the\r\nback.Burenka decided to ask Tonya q questions. In each question, Burenka\r\nasks how many victories the i-th participant gets in the first k rounds\r\nof the competition for some given numbers i and k. Tonya is not very\r\ngood at analytics, so he asks you to help him answer all the questions.\r\n", "solutions": ["#pragma GCC optimize(\"Ofast\",\"unroll-loops\",\"omit-frame-pointer\",\"inline\") //Optimization flags\n#pragma GCC option(\"arch=native\",\"tune=native\",\"no-zero-upper\") //Enable AVX\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,avx2\")\n#include<bits/stdc++.h>\n//#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\n//using namespace __gnu_pbds;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-6;\nconst int mod=1e9+7;\ntypedef long long ll;\n#ifndef LOCAL\n#define cerr if(0)cout\n#define eprintf(...) 0\n#else\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#endif\ninline string getstr(string &s,int l,int r){string ret=\"\";for(int i=l;i<=r;i++)ret.push_back(s[i]);return ret;}\nint modpow(int x,int y,int md=mod){int ret=1;do{if(y&1)ret=(ll)ret*x%md;x=(ll)x*x%md;}while(y>>=1);return ret;}\ninline int Rand(){return rand()*32768+rand();}\nint T,n,qq,a[100005];\ndeque<int>q;\nvector<int>win[100005];\nint eval(int x,int y){\n\treturn upper_bound(win[x].begin(),win[x].end(),y)-win[x].begin();\n}\nint main(){\n\tcin>>T;\n\twhile(T--){\n\t\tcin>>n>>qq;\n\t\tfor(int i=1;i<=n;i++)cin>>a[i];\n\t\tfor(int i=1;i<=n;i++)win[i].clear();\n\t\twhile(!q.empty())q.pop_back();\n\t\tfor(int i=2;i<=n;i++)q.push_back(i);\n\t\tint cur=1;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(a[cur]>a[q.front()]){\n//\t\t\t\tcerr<<i<<\" ---> \"<<cur<<endl;\n\t\t\t\twin[cur].push_back(i);\n\t\t\t\tint x=q.front();q.pop_front();q.push_back(x);\n\t\t\t}else{\n//\t\t\t\tcerr<<i<<\" ---> \"<<q.front()<<endl;\n\t\t\t\twin[q.front()].push_back(i);\n\t\t\t\tq.push_back(cur);\n\t\t\t\tcur=q.front();\n\t\t\t\tq.pop_front();\n\t\t\t}\n\t\t}\n\t\twhile(qq--){\n\t\t\tint x,y;cin>>x>>y;\n\t\t\tif(y<=n){\n\t\t\t\tcout<<eval(x,y)<<endl;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcout<<eval(x,n)+(a[x]==n?y-n:0)<<endl;\n\t\t}\n\t}\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["binary search", "data structures", "implementation", "two pointers"], "dificulty": "1400", "interactive": false}