{"link": "https://codeforces.com//contest/489/problem/D", "problemId": "17499", "problem_idx": "D", "shortId": "489D", "contest_number": "489", "problem_submissions": {"D": [13589038, 8724316, 8726296, 8731189, 8726766, 8726894, 8728465, 8728477, 8727759, 8725875, 8727494, 8730275, 8733738, 8729954, 8730137, 8724674, 8731839, 8731752, 8732051], "C": [13588891, 8721795, 8727951, 8723822, 8724371, 8723499, 8726577, 8723991, 8722965, 8723091, 8724636, 8726610, 8730038, 8726232, 8725795, 8724261, 8722941, 8722633, 8723063], "B": [13588813, 8720541, 8728807, 8721401, 8766675, 8722756, 8720717, 8724885, 8720855, 8720680, 8720515, 8720936, 8722566, 8728071, 8723662, 8722124, 8737370, 8720146, 8720599, 8721787], "A": [13588752, 8742614, 8729605, 8720536, 8720304, 8719407, 8720112, 8719631, 8724692, 8719911, 8719459, 8720699, 8726238, 8722578, 8720190, 8721547, 8726214, 8726620, 8726619], "E": [8736947, 11503343, 8742532, 8742434, 8742318, 8742303, 8742271, 8737226], "F": [8731272, 8723125, 8728205, 8732102, 8733456, 8733048, 8733546, 8733373, 8736588, 8734709, 8733680, 8724458, 8733867, 8734049, 8727708, 8736377, 8736466, 8736428]}, "name": "D. Unbearable Controversy of Being", "statement": "Tomash keeps wandering off and getting lost while he is walking along\r\nthe streets of Berland. It\u2019s no surprise! In his home town, for any pair\r\nof intersections there is exactly one way to walk from one intersection\r\nto the other one. The capital of Berland is very different!Tomash has\r\nnoticed that even simple cases of ambiguity confuse him. So, when he\r\nsees a group of four distinct intersections , , and , such that there\r\nare two paths from to one through and the other one through , he calls\r\nthe group a \"damn rhombus\". Note that pairs , , , should be directly\r\nconnected by the roads. Schematically, a damn rhombus is shown on the\r\nfigure below: Other roads between any of the intersections don\u2019t make\r\nthe rhombus any more appealing to Tomash, so the four intersections\r\nremain a \"damn rhombus\" for him.Given that the capital of Berland has\r\nintersections and roads and all roads are unidirectional and are known\r\nin advance, find the number of \"damn rhombi\" in the city.When rhombi are\r\ncompared, the order of intersections and doesn\u2019t matter.\r\n", "solutions": ["#include<cstdio>\n#include<vector>\n#include<cstring>\nusing namespace std;\nconst int MAX = 3000 + 10;\n\nvector<int> v[MAX];\nlong long ans = 0;\nlong long dp[MAX];\n\nvoid cal(int x){\n    memset(dp, 0, sizeof(dp));\n    for(int i = 0 ; i < v[x].size() ; i++){\n        int next = v[x][i];\n        for(int j = 0 ; j < v[next].size() ; j++){\n            int fin = v[next][j];\n            if(fin == x) continue;\n            ans += dp[fin];\n            dp[fin]++;\n        }\n    }\n}\n\nint main(){\n    int n, m;\n    scanf(\"%d %d\", &n, &m);\n    int x, y;\n    for(int i = 0 ; i < m ; i++){\n        scanf(\"%d %d\", &x, &y);\n        v[x].push_back(y);\n    }\n    for(int i = 1 ; i <= n ; i++){\n        cal(i);\n    }\n    printf(\"%I64d\\n\", ans);\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["brute force", "combinatorics", "dfs and similar", "graphs"], "dificulty": "1700", "interactive": false}