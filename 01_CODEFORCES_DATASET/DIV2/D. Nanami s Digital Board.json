{"link": "https://codeforces.com//contest/433/problem/D", "problemId": "9710", "problem_idx": "D", "shortId": "433D", "contest_number": "433", "problem_submissions": {"E": [6700632, 6733758, 6721505], "D": [6698331, 6698009, 6698968, 6697379, 6698650, 6715933, 6699612, 6703360, 6700792, 6700606, 6701919], "C": [6696171, 6695700, 6695492, 6694565, 6702743, 6693994, 6696132, 6697796, 6696959, 6725755, 6698054, 6719018, 6698571, 6698075, 6696805], "B": [6692744, 6692477, 6692926, 6692655, 6692933, 6693014, 6695266, 6693808, 6692887, 6694570, 6693057, 6692308, 6692432, 6694603, 6691962, 6693854, 6694164, 6696914], "A": [6691799, 6691577, 6691561, 6691897, 6692330, 6691645, 6695737, 6691837, 6691733, 6692882, 6691808, 6691593, 6691467, 6692751, 6692230, 6692129, 6691816]}, "name": "D. Nanami s Digital Board", "statement": "Nanami is an expert at playing games. This day, Nanami\u2019s good friend\r\nHajime invited her to watch a game of baseball. Unwilling as she was,\r\nshe followed him to the stadium. But Nanami had no interest in the game,\r\nso she looked around to see if there was something that might interest\r\nher. That\u2019s when she saw the digital board at one end of the stadium.The\r\ndigital board is pixels in height and pixels in width, every pixel is\r\neither light or dark. The pixels are described by its coordinate. The\r\n-th pixel of the -th line is pixel . The board displays messages by\r\nswitching a combination of pixels to light, and the rest to dark. Nanami\r\nnotices that the state of the pixels on the board changes from time to\r\ntime. At certain times, certain pixels on the board may switch from\r\nlight to dark, or from dark to light.Nanami wonders, what is the area of\r\nthe biggest light block such that a specific pixel is on its side. A\r\nlight block is a sub-rectangle of the board, in which all pixels are\r\nlight. Pixel belongs to a side of sub-rectangle with and as its\r\nupper-left and lower-right vertex if and only if it satisfies the\r\nlogical condition: (( or ) and ()) or (( or ) and ()).Nanami has all the\r\nhistory of changing pixels, also she has some questions of the described\r\ntype, can you answer them?\r\n", "solutions": ["#include<cstdio>\n#include<cstring>\n\nconst int MAX_SIZE = 1000;\n\nint mat[MAX_SIZE + 10][MAX_SIZE + 10];\nint h, w;\nint hor[2][MAX_SIZE + 10][MAX_SIZE + 10], ver[2][MAX_SIZE + 10][MAX_SIZE + 10];\n\n\nvoid change(int x, int y){\n\tmat[x][y] ^= 1;\n\tfor(int i = 1; i <= w; i ++)\n\t\tif(mat[x][i])\n\t\t\thor[0][x][i] = hor[0][x][i - 1] + 1;\n\t\telse\n\t\t\thor[0][x][i] = 0;\n\tfor(int i = w; i >= 1; i --)\n\t\tif(mat[x][i])\n\t\t\thor[1][x][i] = hor[1][x][i + 1] + 1;\n\t\telse\n\t\t\thor[1][x][i] = 0;\n\tfor(int i = 1; i <= h; i ++)\n\t\tif(mat[i][y])\n\t\t\tver[0][i][y] = ver[0][i - 1][y] + 1;\n\t\telse\n\t\t\tver[0][i][y] = 0;\n\tfor(int i = h; i >= 1; i --)\n\t\tif(mat[i][y])\n\t\t\tver[1][i][y] = ver[1][i + 1][y] + 1;\n\t\telse\n\t\t\tver[1][i][y] = 0;\n}\n\nint q[MAX_SIZE + 10], pos[MAX_SIZE + 10], ta;\n\ninline int max(int a, int b) { return a > b ? a : b; }\n\nvoid query(int x, int y){\n\tint maxn = 0;\n\tfor(int d = 0; d < 2; d ++){\n\t\tta = 0;\n\t\tfor(int i = 1; i <= w; i ++){\n\t\t\tint p = i;\n\t\t\twhile(ta && q[ta - 1] >= ver[d][x][i]){\n\t\t\t\t-- ta;\n\t\t\t\tp = pos[ta];\n\t\t\t\tif(i > y && p <= y)\n\t\t\t\t\tmaxn = max(maxn, (i - p) * q[ta]);\n\t\t\t}\n\t\t\tpos[ta] = p;\n\t\t\tq[ta] = ver[d][x][i];\n\t\t\t++ ta;\n\t\t}\n\t\tfor(int i = 0; i < ta; i ++)\n\t\t\tif(pos[i] <= y)\n\t\t\t\tmaxn = max(maxn, (w - pos[i] + 1) * q[i]);\n\t\tta = 0;\n\t\tfor(int i = 1; i <= h; i ++){\n\t\t\tint p = i;\n\t\t\twhile(ta && q[ta - 1] >= hor[d][i][y]){\n\t\t\t\t-- ta;\n\t\t\t\tp = pos[ta];\n\t\t\t\tif(i > x && p <= x)\n\t\t\t\t\tmaxn = max(maxn, (i - p) * q[ta]);\n\t\t\t}\n\t\t\tpos[ta] = p;\n\t\t\tq[ta] = hor[d][i][y];\n\t\t\t++ ta;\n\t\t}\t\n\t\tfor(int i = 0; i < ta; i ++)\n\t\t\tif(pos[i] <= x)\n\t\t\t\tmaxn = max(maxn, (h - pos[i] + 1) * q[i]);\n\t}\n\tprintf(\"%d\\n\", maxn);\n}\n\nint main(){\n\tint qn;\n\tscanf(\"%d%d%d\", &h, &w, &qn);\n\tfor(int i = 1; i <= h; i ++)\n\t\tfor(int j = 1; j <= w; j ++)\n\t\t\tscanf(\"%d\", mat[i] + j);\n\tfor(int i = 1; i <= h; i ++){\n\t\tfor(int j = 1; j <= w; j ++)\n\t\t\tif(mat[i][j])\n\t\t\t\thor[0][i][j] = hor[0][i][j - 1] + 1;\n\t\t\telse\n\t\t\t\thor[0][i][j] = 0;\n\t\tfor(int j = w; j >= 1; j --)\n\t\t\tif(mat[i][j])\n\t\t\t\thor[1][i][j] = hor[1][i][j + 1] + 1;\n\t\t\telse\n\t\t\t\thor[1][i][j] = 0;\n\t}\n\tfor(int j = 1; j <= w; j ++){\n\t\tfor(int i = 1; i <= h; i ++)\n\t\t\tif(mat[i][j])\n\t\t\t\tver[0][i][j] = ver[0][i - 1][j] + 1;\n\t\t\telse\n\t\t\t\tver[0][i][j] = 0;\n\t\tfor(int i = h; i >= 0; i --)\n\t\t\tif(mat[i][j])\n\t\t\t\tver[1][i][j] = ver[1][i + 1][j] + 1;\n\t\t\telse\n\t\t\t\tver[1][i][j] = 0;\n\t}\n\twhile(qn --){\n\t\tint op;\n\t\tscanf(\"%d\", &op);\n\t\tif(op == 1){\n\t\t\tint x, y;\n\t\t\tscanf(\"%d%d\", &x, &y);\n\t\t\tchange(x, y);\n\t\t} else{\n\t\t\tint x, y;\n\t\t\tscanf(\"%d%d\", &x, &y);\n\t\t\tquery(x, y);\n\t\t}\n\t}\n\n\treturn 0;\n}\n\n\n\n"], "input": "", "output": "", "tags": ["dsu", "implementation"], "dificulty": "2000", "interactive": false}