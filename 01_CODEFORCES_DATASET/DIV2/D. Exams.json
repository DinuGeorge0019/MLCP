{"link": "https://codeforces.com//contest/732/problem/D", "problemId": "76074", "problem_idx": "D", "shortId": "732D", "contest_number": "732", "problem_submissions": {"E": [21538888, 21537779, 21537129, 21537499, 21538134, 21538715, 21544444, 21539734, 21540059, 21536661, 21540840, 21542039, 21534910, 21538735, 21535519, 21536958, 21540398, 21538120, 21542707], "F": [21537120, 21540142, 21542965, 21544806, 21544597, 21545399, 21540042, 21543034, 21545483, 21656308, 21554885], "D": [21532629, 21525539, 21530620, 21528537, 21533913, 21534989, 21534469, 21531559, 21536597, 21530734, 21531936, 21535213, 21537946, 21531246, 21536546, 21534126, 21532973, 21532309, 21534225], "C": [21530647, 21529152, 21528463, 21531507, 21530354, 21530901, 21532584, 21527470, 21533687, 21527417, 21527627, 21531693, 21526633, 21526154, 21527731, 21528874, 21530241, 21527402, 21526262], "B": [21523702, 21526949, 21525416, 21523386, 21525291, 21525800, 21523178, 21524106, 21531342, 21523932, 21525092, 21525450, 21524463, 21523658, 21524734, 21525994, 21523984, 21522251, 21523311], "A": [21522134, 21538223, 21523250, 21522010, 21522393, 21523229, 21521947, 21521953, 21522096, 21522038, 21522617, 21523179, 21522061, 21522531, 21523191, 21523859, 21522155, 21528156, 21521893]}, "name": "D. Exams", "statement": "Vasiliy has an exam period which will continue for days. He has to pass\r\nexams on subjects. Subjects are numbered from 1 to .About every day we\r\nknow exam for which one of subjects can be passed on that day. Perhaps,\r\nsome day you can\u2019t pass any exam. It is not allowed to pass more than\r\none exam on any day. On each day Vasiliy can either pass the exam of\r\nthat day (it takes the whole day) or prepare all day for some exam or\r\nhave a rest. About each subject Vasiliy know a number the number of days\r\nhe should prepare to pass the exam number . Vasiliy can switch subjects\r\nwhile preparing for exams, it is not necessary to prepare continuously\r\nduring days for the exam number . He can mix the order of preparation\r\nfor exams in any way.Your task is to determine the minimum number of\r\ndays in which Vasiliy can pass all exams, or determine that it is\r\nimpossible. Each exam should be passed exactly one time.\r\n", "solutions": ["#include <iostream>\n#include <cstring>\n#include <cstdlib>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <queue>\n#include <set>\n#include <map>\n#include <string>\n#include <bitset>\n#include <vector>\n#include <complex>\n#include <algorithm>\nusing namespace std;\ntypedef long long ll;\ntypedef double db;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n#define de(x) cout << #x << \"=\" << x << endl\n#define rep(i,a,b) for(int i=a;i<(b);++i)\n#define all(x) (x).begin(),(x).end()\n#define sz(x) (int)(x).size()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\nconst int N = 101010;\nint n , m , d[N] , a[N];\nbool vis[N];\nint cnt[N];\n\nbool check(int t){\n    memset(vis , 0 , sizeof(vis));\n    memset(cnt , 0 , sizeof(cnt));\n    vi v;int _ = 0;\n    for(int i=t;i>=1;--i) {\n        if(d[i] != 0 && !vis[d[i]]){\n            vis[d[i]] = true;\n            cnt[d[i]] = a[d[i]];\n            v.pb(d[i]);\n        } else {\n            if(_ < sz(v)){\n                cnt[v[_]]--;\n                if(cnt[v[_]] == 0) _++;\n            }\n        }\n    }\n    rep(i,1,m+1) if(!vis[i]) return false;\n    return _ == sz(v);\n}\n\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    rep(i,1,n+1) scanf(\"%d\",d + i);\n    rep(i,1,m+1) scanf(\"%d\",a + i);\n    int L = 0 , R = n + 1;\n    while(L + 1 < R){\n        int M = (L + R) >> 1;\n        if(check(M)) R = M;\n        else L = M;\n    }\n    if(R == n + 1) R = -1;\n    printf(\"%d\\n\",R);\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["binary search", "greedy", "sortings"], "dificulty": "1700", "interactive": false}