{"link": "https://codeforces.com//contest/1181/problem/D", "problemId": "359263", "problem_idx": "D", "shortId": "1181D", "contest_number": "1181", "problem_submissions": {"E2": [55650122, 55830557, 55704213], "E1": [55633819, 55638516, 55638501, 55637414, 55641214, 55640980, 55643225, 55640108, 55640609, 55642576, 55643544, 55642412, 55643807, 55641985, 55642964, 240099989], "D": [55631090, 55633784, 55633448, 55631287, 55633631, 55633273, 55636890, 55634366, 55634832, 55638016, 55638738, 55634315, 55639336, 55636804, 55635357, 55637569, 55636303, 55635471, 55634737, 55630910], "B": [55627797, 55620636, 55623454, 55633957, 55622559, 55626217, 109938468, 109937680, 55629226, 55627039, 55625976, 55641971, 55622249, 55622014, 55624276, 55623137], "C": [55625127, 55629408, 55627484, 55625656, 55629031, 55630033, 55628446, 55636714, 55636852, 55632570, 55634750, 55628993, 55633600, 55628788, 55626023, 55632494, 55631294, 55629796, 55629116, 55636617], "A": [55616968, 55616973, 55617720, 55617671, 55617776, 55617314, 55618111, 109966538, 109938562, 109938324, 55618923, 55617442, 55639586, 55635703, 55628269, 55617672, 55630717, 55619287, 55617106, 55617973, 55617169, 55617325]}, "name": "D. Irrigation", "statement": "Misha was interested in water delivery from childhood. That\u2019s why his\r\nmother sent him to the annual Innovative Olympiad in Irrigation (IOI).\r\nPupils from all Berland compete there demonstrating their skills in\r\nwatering. It is extremely expensive to host such an olympiad, so after\r\nthe first n olympiads the organizers introduced the following rule of\r\nthe host city selection.The host cities of the olympiads are selected in\r\nthe following way. There are m cities in Berland wishing to host the\r\nolympiad, they are numbered from 1 to m. The host city of each next\r\nolympiad is determined as the city that hosted the olympiad the number\r\nof times before. If there are several such cities, the city with the\r\nindex is selected among them.Misha\u2019s mother is interested where the\r\nolympiad will be held in some specific years. The only information she\r\nknows is the above selection rule and the host cities of the first n\r\nolympiads. Help her and if you succeed, she will ask Misha to avoid\r\nflooding your house.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\n\n#define ll long long\n#define ar array\n\nconst int mxN=5e5;\nint n, m, q, c[mxN];\nset<int> s;\nar<ll, 2> a[2*mxN];\nvector<int> tr[mxN+1];\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\n\tcin >> n >> m >> q;\n\tfor(int i=0, a; i<n; ++i)\n\t\tcin >> a, ++c[a-1];\n\tfor(int i=0; i<m; ++i) {\n\t\tif(c[i])\n\t\t\ts.insert(i);\n\t\ttr[c[i]].push_back(i);\n\t}\n\ts.insert(m);\n\tint jj=0;\n\tfor(int i=1; i<=n; ++i) {\n\t\tint la=-1;\n\t\tauto it=s.begin();\n\t\twhile(it!=s.end()) {\n\t\t\tif(*it-la-1)\n\t\t\t\ta[jj++]={*it-la-1, la+1};\n\t\t\tla=*it;\n\t\t\t++it;\n\t\t}\n\t\tfor(int u : tr[i])\n\t\t\ts.erase(u);\n\t}\n\tfor(int i=1; i<jj; ++i)\n\t\ta[i][0]+=a[i-1][0];\n\twhile(q--) {\n\t\tll k;\n\t\tcin >> k, k-=n+1;\n\t\tif(k>=a[jj-1][0]) {\n\t\t\tk-=a[jj-1][0];\n\t\t\tcout << k%m+1 << \"\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tint p=lower_bound(a, a+jj, ar<ll, 2>{k, m})-a;\n\t\tll ss=p?a[p-1][0]:0;\n\t\tcout << k-ss+a[p][1]+1 << \"\\n\";\n\t}\n}"], "input": "", "output": "", "tags": ["binary search", "data structures", "implementation", "sortings", "trees", "two pointers"], "dificulty": "2200", "interactive": false}