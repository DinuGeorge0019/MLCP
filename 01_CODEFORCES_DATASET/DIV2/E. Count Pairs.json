{
    "link": "https://codeforces.com//contest/1189/problem/E",
    "problemId": "366817",
    "problem_idx": "E",
    "shortId": "1189E",
    "contest_number": "1189",
    "problem_submissions": {
        "F": [
            56579282,
            56588782
        ],
        "E": [
            56573729,
            56581060,
            56587807,
            56582721,
            56573316,
            56576668,
            56574574,
            56574253,
            56578675,
            56569961,
            56571979,
            56580045,
            56581830,
            56582305,
            56578680,
            56579770,
            56574900,
            56580107,
            56581322,
            56581737
        ],
        "D2": [
            56570743,
            56583951,
            56590479
        ],
        "D1": [
            56566287,
            56577941,
            56576232,
            56577551,
            56577147,
            56570210,
            56577116,
            56576238,
            56575115,
            56582247,
            56573204,
            56575137,
            56576626,
            56575444,
            56576506,
            56574493,
            56579444,
            56574000,
            56578325,
            56573475
        ],
        "C": [
            56564288,
            56574952,
            56571400,
            56573424,
            56567619,
            56566699,
            56569018,
            56568449,
            56569895,
            56577759,
            56579059,
            56569406,
            56571224,
            56569610,
            56573567,
            56600577,
            56571447,
            56582169,
            56576771,
            56570411,
            56571321
        ],
        "B": [
            56562679,
            56568440,
            56565277,
            56565965,
            56565753,
            56564877,
            56565902,
            56566168,
            56565507,
            56574431,
            56576380,
            56566755,
            56565186,
            56567011,
            56566710,
            56600572,
            56577002,
            56568448,
            56570059,
            56563578,
            56569221
        ],
        "A": [
            56561345,
            56562783,
            56561869,
            56561808,
            56562857,
            56561895,
            56562128,
            56561757,
            56561830,
            56571793,
            56568111,
            56561276,
            56563011,
            56562623,
            56562477,
            56600568,
            56563950,
            56562575,
            56563861,
            56594597,
            56561346,
            56563282
        ]
    },
    "name": "E. Count Pairs",
    "statement": "You are given a number p, n integers a_1, a_2,\r\nldots, a_n, and an integer k. Find the number of pairs of indexes (i, j)\r\n(1\r\nle i < j\r\nle n) for which (a_i + a_j)(a_i^2 + a_j^2)\r\nequiv k\r\nbmod p.\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\nusing namespace std;\n#define mul(x,y) ((long long)(x)*(y)%p)\nint a[301010];\nint main(){\n\tint n,p,k;scanf(\"%d%d%d\",&n,&p,&k);\n\tfor(int i=0;i<n;i++){\n\t\tint x;scanf(\"%d\",&x);\n\t\tint t=mul(x,x);\n\t\tt=mul(t,t);\n\t\ta[i]=t-mul(k,x);\n\t\tif(a[i]<0)a[i]+=p;\n\t}\n\tsort(a,a+n);\n\tlong long ans=0;\n\tfor(int i=0,j=0;i<n;i=j){\n\t\twhile(j<n&&a[i]==a[j])j++;\n\t\tint D=j-i;\n\t\tans+=1LL*D*(D-1)/2;\n\t}\n\tprintf(\"%lld\\n\",ans);\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "number theory"
    ],
    "dificulty": "2300",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\E. Count Pairs.json",
    "editorial_link": "https://codeforces.com//blog/entry/68079",
    "editorial": "Let's transform condtition a ittle bit. ai?aj??0\n mod\n p\n, so condtition is equivalent:\n\n(ai?aj)(ai+aj)(a2i+a2j)?(ai?aj)k?a4i?a4j?kai?kaj?a4i?kai?a4j?kaj\n.\n\nThat's why we just need to count number of pairs of equal numbers in the array bi=(a4i?kai)\n mod\n p\n. It's easy to do it, for example, using map. Complexity O(n)\n or O(nlog(n))\n."
}