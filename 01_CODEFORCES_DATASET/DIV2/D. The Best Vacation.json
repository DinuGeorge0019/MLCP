{"link": "https://codeforces.com//contest/1358/problem/D", "problemId": "630278", "problem_idx": "D", "shortId": "1358D", "contest_number": "1358", "problem_submissions": {"A": [81620245, 81480420, 81480612, 81480397, 81480359, 81480467, 81482408, 81480978, 81483693, 81481176, 81481249, 81480468, 81481050, 81480725, 81480917, 81482628, 81486951, 92936660, 81490429, 81481121, 81482901], "B": [81620220, 81482491, 81492096, 81483797, 81489848, 81487033, 81486874, 81486697, 81490338, 81487051, 81486247, 81483724, 81497864, 81487382, 81488926, 81493163, 81491431, 81489879, 81485018, 81495301], "C": [81620191, 81486723, 81496245, 81493700, 81488612, 81493172, 81499005, 81495501, 81496996, 81496974, 81500972, 81490527, 81490630, 81502941, 81499388, 81501230, 81498487, 81501924, 81492445, 81488275], "D": [81620172, 81495934, 81509733, 81505892, 81500534, 81507831, 81509665, 81506130, 81511830, 81510707, 81513684, 81511927, 81510294, 81510451, 81513883, 81514506, 81510412, 81512029, 81504276, 81514742], "E": [81620156, 81517050, 81519733, 81518214, 81524639, 164155905, 81522702, 81522902, 81522151, 81525693, 81527065, 81524408, 81527151, 81529704, 81528088, 81526351, 81527385, 81530473, 81528982, 81538269, 81532727], "F": [81620132, 81539358, 81693390, 81570956, 81570691, 81537746, 81550859, 164160232, 81580050, 81553047]}, "name": "D. The Best Vacation", "statement": "You\u2019ve been in love with Coronavirus-chan for a long time, but you\r\ndidn\u2019t know where she lived until now. And just now you found out that\r\nshe lives in a faraway place called Naha. You immediately decided to\r\ntake a vacation and visit Coronavirus-chan. Your vacation lasts exactly\r\nx days and that\u2019s the exact number of days you will spend visiting your\r\nfriend. You will spend exactly x consecutive (successive) days visiting\r\nCoronavirus-chan.They use a very unusual calendar in Naha: there are n\r\nmonths in a year, i-th month lasts exactly d_i days. Days in the i-th\r\nmonth are numbered from 1 to d_i. There are no leap years in Naha.The\r\nmood of Coronavirus-chan (and, accordingly, her desire to hug you)\r\ndepends on the number of the day in a month. In particular, you get j\r\nhugs if you visit Coronavirus-chan on the j-th day of the month.You know\r\nabout this feature of your friend and want to plan your trip to get as\r\nmany hugs as possible (and then maybe you can win the heart of\r\nCoronavirus-chan). Please note that your trip should begin and end in\r\nthe same year.\r\n", "solutions": ["#include <cstdio>\n#include <algorithm>\n\ntypedef long long LL;\nconst int MN = 200005;\n\nint N;\nLL x, a[MN * 2], s[MN * 2], s2[MN * 2], ans;\n\nint main() {\n\tscanf(\"%d%lld\", &N, &x);\n\tfor (int i = 1; i <= N; ++i) scanf(\"%lld\", &a[i]), a[N + i] = a[i];\n\tfor (int i = 1; i <= 2 * N; ++i)\n\t\ts[i] = s[i - 1] + a[i],\n\t\ts2[i] = s2[i - 1] + a[i] * (a[i] + 1) / 2;\n\tint j = 0;\n\tfor (int i = 1; i <= 2 * N; ++i) {\n\t\twhile (s[i] - s[j] > x) ++j;\n\t\tif (i > N) {\n//\t\t\tprintf(\"(i. j) = (%d, %d)\\n\", i, j);\n\t\t\tLL val = s2[i] - s2[j];\n\t\t\tLL left = x - (s[i] - s[j]);\n\t\t\tval += (a[j] - left + 1 + a[j]) * left / 2;\n\t\t\tans = std::max(ans, val);\n\t\t}\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["binary search", "brute force", "greedy", "implementation", "two pointers"], "dificulty": "1900", "interactive": false}