{
    "link": "https://codeforces.com//contest/499/problem/D",
    "problemId": "19907",
    "problem_idx": "D",
    "shortId": "499D",
    "contest_number": "499",
    "problem_submissions": {
        "E": [
            9253382,
            9249937,
            9254400,
            9253914,
            9258427,
            9257640,
            9257147,
            9258089,
            9261739,
            9261692
        ],
        "D": [
            9251144,
            9251936,
            15380925,
            15380903,
            9347944
        ],
        "C": [
            9247911,
            9250694,
            9253182,
            9259776,
            9246632,
            9250112,
            9251006,
            9250760,
            9255795,
            9252835,
            9246700,
            9246228,
            9248570,
            9248780,
            9246821,
            9248766,
            9247714,
            9250833
        ],
        "B": [
            9246389,
            9245483,
            9248025,
            9248145,
            9248497,
            9246640,
            9249042,
            9254662,
            9256938,
            9245721,
            9246128,
            9245971,
            9248045,
            9246498,
            9248899,
            9248096
        ],
        "A": [
            9245543,
            9245348,
            9246338,
            9245638,
            9246309,
            9245625,
            9247454,
            9253414,
            9305487,
            9252605,
            9245370,
            9245544,
            9245374,
            9249324,
            9247099,
            9246649
        ]
    },
    "name": "D. Name That Tune",
    "statement": "It turns out that you are a great fan of rock band AC/PE. Peter learned\r\nthat and started the following game: he plays the first song of the list\r\nof songs of the group, and you have to find out the name of the song.\r\nAfter you tell the song name, Peter immediately plays the following song\r\nin order, and so on.The -th song of AC/PE has its recognizability . This\r\nmeans that if the song has not yet been recognized by you, you listen to\r\nit for exactly one more second and with probability of percent you\r\nrecognize it and tell it’s name. Otherwise you continue listening it.\r\nNote that you can only try to guess it only when it is integer number of\r\nseconds after the moment the song starts playing.In all AC/PE songs the\r\nfirst words of chorus are the same as the title, so when you’ve heard\r\nthe first seconds of -th song and its chorus starts, you immediately\r\nguess its name for sure.For example, in the song Highway To Red the\r\nchorus sounds pretty late, but the song has high recognizability. In the\r\nsong Back In Blue, on the other hand, the words from the title sound\r\nclose to the beginning of the song, but it’s hard to name it before\r\nhearing those words. You can name both of these songs during a few more\r\nfirst seconds.Determine the expected number songs of you will recognize\r\nif the game lasts for exactly seconds (i. e. you can make the last guess\r\non the second , after that the game stops).\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\n#define SZ(X) ((int)(X).size())\n#define ALL(X) (X).begin(), (X).end()\n#define REP(I, N) for (int I = 0; I < (N); ++I)\n#define REPP(I, A, B) for (int I = (A); I < (B); ++I)\n#define RI(X) scanf(\"%d\", &(X))\n#define RII(X, Y) scanf(\"%d%d\", &(X), &(Y))\n#define RIII(X, Y, Z) scanf(\"%d%d%d\", &(X), &(Y), &(Z))\n#define DRI(X) int (X); scanf(\"%d\", &X)\n#define DRII(X, Y) int X, Y; scanf(\"%d%d\", &X, &Y)\n#define DRIII(X, Y, Z) int X, Y, Z; scanf(\"%d%d%d\", &X, &Y, &Z)\n#define RS(X) scanf(\"%s\", (X))\n#define CASET int ___T, case_n = 1; scanf(\"%d \", &___T); while (___T-- > 0)\n#define MP make_pair\n#define PB push_back\n#define MS0(X) memset((X), 0, sizeof((X)))\n#define MS1(X) memset((X), -1, sizeof((X)))\n#define LEN(X) strlen(X)\n#define PII pair<int,int>\n#define VPII vector<pair<int,int> >\n#define PLL pair<long long,long long>\n#define F first\n#define S second\ntypedef long long LL;\nusing namespace std;\nconst int MOD = 1e9+7;\nconst int SIZE = 1e6+10;\ndouble dp[5001][5001];\nint p[5001],t[5001];\ndouble mypow(double x,int y){\n    double res=1;\n    while(y){\n        if(y&1)res*=x;\n        x*=x;\n        y>>=1;\n    }\n    return res;\n}\nint main(){\n    int n,T;\n    RII(n,T);\n    dp[0][0]=1;\n    REP(i,n)\n        RII(p[i],t[i]);\n    double ans=0;\n    REP(i,n){\n        double pp=p[i]*0.01;\n        double now=0;\n        double r=mypow(1-pp,t[i]-1)*pp;\n        double r2=mypow(1-pp,t[i]-1);\n        REP(j,T){\n            now*=(1-pp);\n            now+=dp[i][j]*pp;\n            if(j+1>=t[i]){\n                now-=dp[i][j+1-t[i]]*r;\n                dp[i+1][j+1]=now+dp[i][j+1-t[i]]*r2;\n            }\n            else{\n                dp[i+1][j+1]=now;\n            }\n        }\n        REP(j,T+1)ans+=dp[i+1][j];\n    }\n    printf(\"%.12f\\n\",ans);\n    return 0;\n}\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "dp",
        "two pointers"
    ],
    "dificulty": "2400",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\D. Name That Tune.json",
    "editorial_link": "https://codeforces.com/blog/entry/15353",
    "editorial": "Letâs numerate all the songs and seconds starting from 0. Problem will\r\nbe solved using DP approach. State will be described by two integers :\r\nis probability of that we named exactly songs, and the last named song\r\nwas named exactly before âth second (after seconds). obviously. To make\r\na move from state to state (), we must name the song exactly after\r\nseconds its playing probability of that is . To fixed state sum of that\r\nmoves can be represented as . Simple calculation of this value for each\r\nstate gives complexity, so one must notice, that this values can be\r\ncalculated using two pointers for fixed (in common case it represent a\r\nsegment with length) for every in time . This way calculating this type\r\nof moves takes time. There is also a move to and a move from to , when\r\nwe couldnât name current song in time . This types of moves is\r\ncalculated with too. Solution complexity .\r\n",
    "hint": []
}