{"link": "https://codeforces.com//contest/1678/problem/E", "problemId": "1392742", "problem_idx": "E", "shortId": "1678E", "contest_number": "1678", "problem_submissions": {"B2": [156337748, 156324342, 156302784, 156304109, 156308344, 156307313, 156322367, 156310760, 156325161, 156311476, 156308386, 156305915, 156340054, 156311110, 156304777, 156312168], "D": [156335715, 156326293, 156332692, 156322049, 156327370, 156325356, 156338242, 156329859, 156336753, 156331010, 156328442, 156331166, 156332465, 156321050, 156331447, 156333951, 156332334, 156338244, 156323122], "F": [156333879, 156344881, 156345082, 156391888, 156343019], "E": [156321182, 156330122, 156338989, 156332813, 156332878, 156337640, 156329496, 156338879, 156328971, 156336106, 156338855, 156339814, 156337874, 156332857, 156334930, 156345535, 156346378, 156344343, 156329062], "C": [156315033, 156309829, 156314171, 156314151, 156314962, 156316870, 156314506, 156305197, 156319288, 156306512, 156317819, 156317128, 156326850, 156298687, 156320662, 156317477, 156325519, 156326778, 156317125], "B1": [156307022, 156305581, 156302876, 156303596, 156298834, 156302625, 156302689, 156299382, 156308181, 156300224, 156311800, 156302389, 156299357, 156299955, 156301798, 156299880, 156307813, 156302122], "A": [156300619, 156297387, 156296004, 156298038, 156295989, 156296408, 156296603, 156296410, 156307151, 156296016, 156301081, 156298593, 156296628, 156296518, 156297310, 156305728, 156296218, 156299051]}, "name": "E. Tokitsukaze and Two Colorful Tapes", "statement": "Tokitsukaze has two colorful tapes. There are n distinct colors,\r\nnumbered 1 through n, and each color appears exactly once on each of the\r\ntwo tapes. Denote the color of the i-th position of the first tape as\r\nca_i, and the color of the i-th position of the second tape as cb_i.Now\r\nTokitsukaze wants to select each color an integer value from 1 to n,\r\ndistinct for all the colors. After that she will put down the color\r\nvalues in each colored position on the tapes. Denote the number of the\r\ni-th position of the first tape as numa_i, and the number of the i-th\r\nposition of the second tape as numb_i. For example, for the above\r\npicture, assuming that the color red has value x (1\r\nleq x\r\nleq n), it appears at the 1-st position of the first tape and the 3-rd\r\nposition of the second tape, so numa_1=numb_3=x.Note that each color i\r\nfrom 1 to n should have a value, and the same color which appears in\r\nboth tapes has the same value. After labeling each color, the beauty of\r\nthe two tapes is calculated as\r\nsum_{i=1}^{n}|numa_i-numb_i|.Please help Tokitsukaze to find the highest\r\npossible beauty.\r\n", "solutions": ["#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 1e5 + 5;\n\nint n;\nint ca[N], cb[N];\nint rk[N], p[N], v[N];\nint cnt;\nint st[N];\nlong long ans;\n\nvoid solve()\n{\n\tscanf(\"%d\", &n);\n\tfor (int i = 1; i <= n; i++)\n\t\tscanf(\"%d\", &ca[i]);\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tscanf(\"%d\", &cb[i]);\n\t\trk[cb[i]] = i;\n\t}\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tp[i] = rk[ca[i]];\n\t\tv[i] = 0;\n\t}\n\tans = 0;\n\tcnt = 1;\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tif (v[i])\n\t\t\tcontinue;\n\t\tint cur = i;\n\t\tint len = 0;\n\t\tdo\n\t\t{\n\t\t\tv[cur] = 1;\n\t\t\tcur = p[cur];\n\t\t\tlen++;\n\t\t}\n\t\twhile (cur != i);\n\t\tlen /= 2;\n\t\tif (!len)\n\t\t\tcontinue;\n\t\tfor (int i = 1; i <= 2 * len; i += 2)\n\t\t{\n\t\t\tst[i] = cnt;\n\t\t\tst[i + 1] = n - cnt + 1;\n\t\t\tcnt++;\n\t\t}\n\t\tfor (int i = 1; i < 2 * len; i++)\n\t\t\tans += abs(st[i] - st[i + 1]);\n\t\tans += abs(st[2 * len] - st[1]);\n\t}\n\tprintf(\"%lld\\n\", ans);\n}\n\nint main()\n{\n\tint T;\n\tscanf(\"%d\", &T);\n\twhile (T--)\n\t\tsolve();\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["constructive algorithms", "dfs and similar", "dsu", "greedy", "math"], "dificulty": "1900", "interactive": false}