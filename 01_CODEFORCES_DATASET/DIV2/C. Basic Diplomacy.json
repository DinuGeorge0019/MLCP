{"link": "https://codeforces.com//contest/1484/problem/C", "problemId": "931266", "problem_idx": "C", "shortId": "1484C", "contest_number": "1484", "problem_submissions": {"F": [110657532, 110661405, 110668413, 110665063, 110667584, 110693226, 110689740, 110699242, 110689519, 110729936], "E": [110652520, 110652573, 110656142, 110659865, 110659655, 110638421, 110657125, 110656123, 110656364, 110659863, 110649695, 110648134, 110661585, 110638998, 110667069, 110662656, 110665042, 110662940, 110667246, 110664847], "D": [110648415, 110645978, 110649799, 110651144, 110649241, 110642542, 110646537, 110651979, 110643535, 110649770, 110657613, 110654803, 110657052, 110642182, 110653908, 110653309, 110651762, 110658162, 110653592, 110654689], "C": [110640873, 110642187, 110633376, 110636572, 110644279, 110636058, 110637281, 110637639, 110639537, 110639114, 110634672, 110661474, 110641726, 110639210, 110640003, 110642952, 110644966, 110648405, 110643573, 110647774], "B": [110632955, 110638515, 110644328, 110642323, 110639199, 110633637, 110635087, 110632899, 110632555, 110636089, 110632943, 110635814, 110637169, 110730778, 110636805, 110637796, 110637626, 110638325, 110638006, 110641086], "A": [110627328, 110628878, 110637469, 110632147, 110630333, 110627835, 110626002, 110626585, 110625791, 110627648, 110626340, 110627768, 110629720, 110626163, 110628247, 110631925, 110627992, 110627111, 110625876, 110626130]}, "name": "C. Basic Diplomacy", "statement": "Aleksey has n friends. He is also on a vacation right now, so he has m\r\ndays to play this new viral cooperative game! But since it\u2019s\r\ncooperative, Aleksey will need one teammate in each of these m days.On\r\neach of these days some friends will be available for playing, and all\r\nothers will not. On each day Aleksey must choose one of his available\r\nfriends to offer him playing the game (and they, of course, always\r\nagree). However, if any of them happens to be chosen strictly more than\r\nleft\r\nlceil\r\ndfrac{m}{2}\r\nright\r\nrceil times, then all other friends are offended. Of course, Aleksey\r\ndoesn\u2019t want to offend anyone.Help him to choose teammates so that\r\nnobody is chosen strictly more than\r\nleft\r\nlceil\r\ndfrac{m}{2}\r\nright\r\nrceil times.\r\n", "solutions": ["#include<bits/stdc++.h>\n#define R register\n#define N 100021\n\nint nx[N];\nstruct rr{\n\tint sz;\n\tstd::vector<int> vec;\n}gg[N];\n\nint p[N],n,cx[N],aa[N],m;\n\ninline bool cmp(const int &a,const int &b){\n\treturn gg[a].sz<gg[b].sz;\n}\n\ninline void solve(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(R int i=1;i<=n;++i) cx[i]=nx[i]=0;\n\tfor(R int i=1;i<=m;++i){\n\t\tscanf(\"%d\",&gg[i].sz);\n\t\tgg[i].vec.clear();\n\t\tfor(R int j=1;j<=gg[i].sz;++j){\n\t\t\tR int ha;\n\t\t\tscanf(\"%d\",&ha);\n\t\t\tgg[i].vec.push_back(ha);\n\t\t\t++nx[ha];\n\t\t}\n\t\tp[i]=i;\n\t}\n\tstd::sort(p+1,p+m+1,cmp);\n\tfor(R int i=1;i<=m;++i){\n\t\tR int I=i;\n\t\ti=p[i];\n\t\tR int qwq=gg[i].sz;\n\t\tfor(R int j=0;j<qwq;++j) --nx[gg[i].vec[j]];\n\t\tR int zyy=-2333242;\n\t\tR int zpp=0;\n\t\tfor(R int j=0;j<qwq;++j){\n\t\t\tR int ys=gg[i].vec[j];\n\t\t\tif(cx[ys]==(m+1)/2) continue;\n\t\t\tif(zyy<cx[ys]||(zyy==cx[ys]&&nx[ys]<nx[zpp])){\n\t\t\t\tzyy=cx[ys];\n\t\t\t\tzpp=ys;\n\t\t\t}\n\t\t}\n\t\tif(!zpp){\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn;\n\t\t}\n//\t\tprintf(\"%d\\n\",zpp);\n\t\t++cx[zpp];\n\t\tif(cx[zpp]>(m+1)/2){\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn;\n\t\t}\n\t\taa[i]=zpp;\n\t\ti=I;\n\t}\n\tprintf(\"YES\\n\");\n\tfor(R int i=1;i<=m;++i) printf(\"%d \",aa[i]);\n\tputs(\"\");\n}\n\nint main(){\n\tR int T;\n\tstd::cin>>T;\n\twhile(T--)\n\t\tsolve();\n}"], "input": "", "output": "", "tags": ["combinatorics", "flows", "greedy", "implementation"], "dificulty": "1600", "interactive": false}