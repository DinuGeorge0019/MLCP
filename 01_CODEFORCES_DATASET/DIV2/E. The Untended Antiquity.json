{"link": "https://codeforces.com//contest/869/problem/E", "problemId": "126372", "problem_idx": "E", "shortId": "869E", "contest_number": "869", "problem_submissions": {"D": [31079634, 31141598, 31145705], "E": [31075785, 31069215, 31080040, 31081323, 31074160, 31082163, 31082035, 31082564, 31082141, 31081908, 31081217, 31081628, 31082993, 31083283, 31083912, 31087767, 31084108, 31078586, 31084855, 31083040], "A": [31067793, 31073676, 31074428, 31068201, 31086909, 31079089, 31067885, 31068981, 31068063, 31067651, 31070628, 31074705, 31084568, 31078753, 31067709, 31067304, 31161754, 31073201, 31081947, 31075757, 31070398], "B": [31073025, 31075269, 31070123, 31075379, 31070811, 31071135, 31069986, 31068990, 31069939, 31070787, 31070307, 31076966, 31068695, 31068797, 31070262, 31082457, 31069869, 31072376], "C": [31072413, 31073328, 31078301, 31083141, 31075905, 31078217, 31077340, 31075408, 31078573, 31078127, 31076488, 31075475, 31078939, 31081015, 31078419, 31081092, 31079081, 31082030]}, "name": "E. The Untended Antiquity", "statement": "Koyomi is helping Oshino, an acquaintance of his, to take care of an\r\nopen space around the abandoned Eikou Cram School building, Oshino\u2019s\r\nmakeshift residence.The space is represented by a rectangular grid of\r\ncells, arranged into rows and columns. The -th cell in the -th row is\r\ndenoted by .Oshino places and removes barriers rectangular areas of\r\ncells. Specifically, an action denoted by \"\" means Oshino\u2019s placing\r\nbarriers around a rectangle with two corners being and and sides\r\nparallel to squares sides. Similarly, \"\" means Oshino\u2019s removing\r\nbarriers around the rectangle. Sometimes Koyomi tries to walk from one\r\ncell to another carefully without striding over barriers, in order to\r\navoid damaging various items on the ground. \"\" means that Koyomi tries\r\nto walk from to without crossing barriers.And you\u2019re here to tell Koyomi\r\nthe feasibility of each of his attempts.\r\n", "solutions": ["#include <bits/stdc++.h>\nusing namespace std;\n\nmap<pair<pair<int, int>, pair<int, int> >, int>g;\nint n, m, q;\nlong long c[2520][2520];\nvoid R(int x, int y, long long z) {\n\tfor (int i = x; i <= n; i += i & -i) {\n\t\tfor (int j = y; j <= m; j += j & -j) {\n\t\t\tc[i][j] += z;\n\t\t}\n\t}\n}\n\nlong long G(int x, int y) {\n\tlong long re = 0;\n\tfor (int i = x; i > 0; i -= i & -i) {\n\t\tfor (int j = y; j > 0; j -= j & -j) {\n\t\t\tre += c[i][j];\n\t\t}\n\t}\n\treturn re;\n}\n\nint rd() {\n\treturn rand() << 15 | rand();\n}\nint main() {\n\tscanf(\"%d%d%d\", &n, &m, &q);\n\tsrand(time(0));\n\tfor (int i = 0; i < 011; i++) {\n\t\tsrand(rd());\n\t}\n\tfor (int i = 0; i < q; i++) {\n\t\tint o, xa, xb, ya, yb;\n\t\tscanf(\"%d%d%d%d%d\", &o, &xa, &ya, &xb, &yb);\n\t\tif (o == 1) {\n\t\t\tint u = rd();\n\t\t\tg[make_pair(make_pair(xa, ya), make_pair(xb, yb))] = u;\n\t\t\tR(xa, ya, u);\n\t\t\tR(xa, yb + 1, -u);\n\t\t\tR(xb + 1, ya, -u);\n\t\t\tR(xb + 1, yb + 1, u);\n\t\t} else if (o == 2) {\n\t\t\tint u = g[make_pair(make_pair(xa, ya), make_pair(xb, yb))];\n\t\t\tR(xa, ya, -u);\n\t\t\tR(xa, yb + 1, u);\n\t\t\tR(xb + 1, ya, u);\n\t\t\tR(xb + 1, yb + 1, -u);\n\t\t} else {\n\t\t\tlong long va = G(xa, ya);\n\t\t\tlong long vb = G(xb, yb);\n\t\t\tif (va == vb) {\n\t\t\t\tprintf(\"Yes\\n\");\n\t\t\t} else {\n\t\t\t\tprintf(\"No\\n\");\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["data structures", "hashing"], "dificulty": "2400", "interactive": false}