{"link": "https://codeforces.com//contest/230/problem/D", "problemId": "1888", "problem_idx": "D", "shortId": "230D", "contest_number": "230", "problem_submissions": {"E": [2281369, 2283553, 2285030, 2285047, 2275013, 2277312, 2281959, 2280926, 2282812, 2282942, 2289756, 2303849, 2284350, 2284110], "D": [2279019, 2282259, 2281806, 2284336, 2468189, 2293544, 2293533, 2293531, 2292779, 2280034, 2280797, 2282637, 2281762, 2282078, 2282947], "C": [2276837, 2279164, 2278509, 2280041, 2280782, 2279772, 2278719, 2276895, 2277991, 2280210, 2277389, 2280622, 2278662, 2279358, 2278439, 2277863, 2279847, 2279222], "B": [2275270, 2276827, 2276000, 2275039, 2278453, 2275508, 2275984, 2274908, 2281260, 2276330, 2275784, 2276800, 2275571, 2275505, 2276144, 2275193, 2276949, 2275915], "A": [2273678, 2274800, 2273664, 2274083, 2276565, 2273916, 2274258, 2273731, 2273800, 2274208, 2273713, 2274806, 2273983, 2273830, 2274358, 2274055, 2274259, 2273895]}, "name": "D. Planets", "statement": "Goa\u2019uld Apophis captured Jack O\u2019Neill\u2019s team again! Jack himself was\r\nable to escape, but by that time Apophis\u2019s ship had already jumped to\r\nhyperspace. But Jack knows on what planet will Apophis land. In order to\r\nsave his friends, Jack must repeatedly go through stargates to get to\r\nthis planet.Overall the galaxy has planets, indexed with numbers from 1\r\nto . Jack is on the planet with index 1, and Apophis will land on the\r\nplanet with index . Jack can move between some pairs of planets through\r\nstargates (he can move in both directions); the transfer takes a\r\npositive, and, perhaps, for different pairs of planets unequal number of\r\nseconds. Jack begins his journey at time 0.It can be that other\r\ntravellers are arriving to the planet where Jack is currently located.\r\nIn this case, Jack has to wait for exactly 1 second before he can use\r\nthe stargate. That is, if at time another traveller arrives to the\r\nplanet, Jack can only pass through the stargate at time , unless there\r\nare more travellers arriving at time to the same planet.Knowing the\r\ninformation about travel times between the planets, and the times when\r\nJack would not be able to use the stargate on particular planets,\r\ndetermine the minimum time in which he can get to the planet with index\r\n.\r\n", "solutions": ["#include <cstdio>\n#include <set>\n#include <queue>\n\nconst int MXN = 100010;\nconst int INF = 1010000000;\n\nint dis[MXN];\n\nstruct edge_t{\n\n    int ob, cst;\n    edge_t *next;\n\n    edge_t(int nob, int ncst, edge_t *nnext){\n        ob = nob, cst = ncst, next = nnext;\n    }\n\n}*edge[MXN];\n\nstruct ele_t{\n\n    int wh, dis;\n\n    ele_t(int nwh, int ndis){\n        wh = nwh, dis = ndis;\n    }\n\n    bool operator < (const ele_t& cmp) const{\n        return dis > cmp.dis;\n    }\n\n};\n\nstd::set<int> die[MXN];\n\nint main(){\n\n    int n, m;\n    scanf(\"%d %d\" ,&n ,&m);\n\n    while(m--){\n\n        int c1, c2, cst;\n        scanf(\"%d %d %d\" ,&c1 ,&c2 ,&cst);\n        \n        edge[c1] = new edge_t(c2, cst, edge[c1]);\n        edge[c2] = new edge_t(c1, cst, edge[c2]);\n\n    }\n\n    for(int i = 2; i <= n; i++) dis[i] = INF;\n\n    for(int i = 1; i <= n; i++){\n\n        int k;\n        scanf(\"%d\" ,&k);\n\n        while(k--){\n\n            int time;\n            scanf(\"%d\" ,&time);\n            die[i].insert(time);\n\n        }\n\n    }\n\n    std::priority_queue<ele_t> heap;\n    heap.push(ele_t(1, 0));\n\n    while(!heap.empty()){\n\n        ele_t now = heap.top(); heap.pop();\n        if(now.dis != dis[now.wh]) continue;\n\n        if(now.wh == n){\n            printf(\"%d\\n\" ,now.dis);\n            return 0;\n        }\n\n        if(die[now.wh].count(now.dis)){\n            dis[now.wh]++;\n            heap.push(ele_t(now.wh, now.dis + 1));\n            continue;\n        }\n\n        for(edge_t *use = edge[now.wh]; use; use = use->next){\n\n            if(dis[use->ob] > now.dis + use->cst){\n                dis[use->ob] = now.dis + use->cst;\n                heap.push(ele_t(use->ob, dis[use->ob]));\n            }\n\n        }\n\n    }\n\n    puts(\"-1\");\n\n}\n"], "input": "", "output": "", "tags": ["binary search", "graphs", "shortest paths"], "dificulty": "1700", "interactive": false}