{"link": "https://codeforces.com//contest/586/problem/C", "problemId": "37960", "problem_idx": "C", "shortId": "586C", "contest_number": "586", "problem_submissions": {"E": [13567845, 13568877, 13567853, 13571593, 13562355, 13570559, 13579749, 13567129, 13570139], "D": [13563971, 13564646, 13563820, 13563849, 13568951, 13565926, 13563286, 13563128, 13565918, 13569000, 13562593, 13568454, 13565954, 13567393, 13563819, 13565909, 13564075, 13560941, 13564537], "B": [13561164, 13559370, 13561077, 13558098, 13558769, 13558957, 13558122, 13557083, 13558517, 13557741, 13558248, 13560292, 13558220, 13559476, 13561469, 13562240, 13557548, 13564661, 13557987], "C": [13559947, 13561510, 13560077, 13560242, 13565430, 13561001, 13561323, 13561803, 13560466, 13563719, 13560353, 13561394, 13595712, 13558752, 13585345, 13584852], "A": [13555951, 13556306, 13555953, 13556124, 13556417, 13555955, 13556118, 13555916, 13556066, 13556106, 13556370, 13556409, 13556782, 13556040, 13560781, 13556168, 13565723, 13556286], "F": [13577881, 13572057, 13572184, 13570880, 13588219, 13595048, 13570334, 13571136, 13601061]}, "name": "C. Gennady the Dentist", "statement": "Gennady is one of the best child dentists in Berland. Today children got\r\nan appointment with him, they lined up in front of his office.All\r\nchildren love to cry loudly at the reception at the dentist. We\r\nenumerate the children with integers from to in the order they go in the\r\nline. Every child is associated with the value of his . The children\r\ntake turns one after another to come into the office; each time the\r\nchild that is the first in the line goes to the doctor.While Gennady\r\ntreats the teeth of the -th child, the child is crying with the volume\r\nof . At that the of the first child in the line is reduced by the amount\r\nof , the second one by value , and so on. The children in the queue\r\nafter the -th child almost do not hear the crying, so their remains\r\nunchanged.If at any point in time the of the -th child is less than\r\nzero, he begins to cry with the volume of and leaves the line, running\r\ntowards the exit, without going to the doctor\u2019s office. At this the of\r\nall the children after the -th one in the line is reduced by the amount\r\nof .All these events occur immediately one after the other in some\r\norder. Some cries may lead to other cries, causing a chain reaction.\r\nOnce in the hallway it is quiet, the child, who is first in the line,\r\ngoes into the doctor\u2019s office.Help Gennady the Dentist to determine the\r\nnumbers of kids, whose teeth he will cure. Print their numbers in the\r\nchronological order.\r\n", "solutions": ["#include <cstdio>\n#include <algorithm>\n\nconst int MAXN = 4001;\n\nint n, v[MAXN], p[MAXN], d[MAXN], state[MAXN], q[MAXN], answer[MAXN];\n\nint main() {\n\tscanf(\"%d\", &n);\n\tfor (int i = 1; i <= n; i++) {\n\t\tscanf(\"%d%d%d\", v + i, d + i, p + i);\n\t\tstate[i] = 1; // 1: Success 2: Died\n\t}\n\tint counter = 0;\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (state[i] == 2) continue;\n\t\tanswer[++counter] = i;\n\t\tint left = 0, right = 0;\n\t\tfor (int j = i + 1, cnt = 0; j <= n && cnt <= v[i]; j++) {\n\t\t\tif (state[j] == 2) continue;\n\t\t\tp[j] -= v[i] - cnt;\n\t\t\tcnt++;\n\t\t\tif (p[j] < 0) {\n\t\t\t\tq[++right] = j;\n\t\t\t\tstate[j] = 2;\n\t\t\t}\n\t\t}\n\t\twhile (left < right) {\n\t\t\tleft++;\n\t\t\tfor (int j = q[left] + 1; j <= n; j++) {\n\t\t\t\tif (state[j] == 2) continue;\n\t\t\t\tp[j] -= d[q[left]];\n\t\t\t\tif (p[j] < 0) {\n\t\t\t\t\tq[++right] = j;\n\t\t\t\t\tstate[j] = 2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\", counter);\n\tfor (int i = 1; i <= counter; i++)\n\t\tprintf(\"%d%c\", answer[i], \" \\n\"[i == counter]);\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["implementation"], "dificulty": "1800", "interactive": false}