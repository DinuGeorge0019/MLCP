{"link": "https://codeforces.com//contest/1839/problem/E", "problemId": "1950162", "problem_idx": "E", "shortId": "1839E", "contest_number": "1839", "problem_submissions": {"D": [208378999, 208378969, 208378832, 208349629, 208349595, 208328924, 208318842, 208320348, 208320009, 208322670, 208334872, 252078530, 208941980, 208322481, 208320363, 208321362, 208327211, 208323287, 208323939, 208326005, 208322044, 238787448, 208326918, 208338715, 208324800, 208326544, 208326069, 208328427], "E": [208319512, 208328631, 208328272, 208332229, 208329987, 208322483, 208941985, 208331621, 208337019, 208333546, 208333532, 208337451, 208338255, 208336016, 208341143, 238787342, 208337777, 208329186, 208341540, 208340328, 208345193, 208341230], "C": [208312529, 208312433, 208313019, 208312784, 208314192, 208314831, 208941969, 208315364, 208314601, 208315655, 208313303, 208314023, 208311295, 208317114, 208312761, 208316692, 208311943, 208319701, 208315483, 208313786, 208316277], "B": [208308892, 208309149, 208309789, 208308399, 208310012, 208310211, 208941953, 208312078, 208308633, 208312628, 208307832, 208309526, 208306915, 208309002, 208309419, 208310463, 208308132, 208308049, 208311860, 208308608, 208311306], "A": [208307199, 208306621, 208306837, 208306359, 208306401, 208306556, 208941945, 208307764, 208306608, 208308716, 208306828, 208306416, 208307882, 208306972, 208306698, 208306776, 208306761, 208306697, 208307597, 208306680, 208308663]}, "name": "E. Decreasing Game", "statement": "Consider the following game for two players: Initially, an array of\r\nintegers a_1, a_2,\r\nldots, a_n of length n is written on blackboard. Game consists of . On\r\neach round, the following happens: The first player selects any i such\r\nthat a_i\r\ngt 0. If there is no such i, the first player loses the game (the second\r\nplayer wins) and game ends. The second player selects any j\r\nneq i such that a_j\r\ngt 0. If there is no such j, the second player loses the game (the first\r\nplayer wins) and game ends. Let d =\r\nmin(a_i, a_j). The values of a_i and a_j are simultaneously decreased by\r\nd and the next round starts. It can be shown that game always ends after\r\nthe finite number of rounds.You have to select which player you will\r\nplay for (first or second) and win the game.\r\n", "solutions": ["#include <bits/stdc++.h>\n#define int long long\n#define pii pair<int, int>\n#define ff first\n#define ss second\n#define pb push_back\nusing namespace std;\nvoid init() {\n\t\n}\nvoid solve() {\n\tint n;\n\tcin >> n;\n\tint a[n + 1];\n\tint sum = 0;\n\tfor (int i = 1; i <= n; i++) {\n\t\tcin >> a[i];\n\t\tsum += a[i];\n\t}\n\tbool dp[n + 1][sum + 1];\n\tfor (int i = 0; i <= sum; i++) {\n\t\tdp[0][i] = (i == 0);\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 0; j <= sum; j++) {\n\t\t\tdp[i][j] = dp[i - 1][j];\n\t\t\tif (j >= a[i]) dp[i][j] |= dp[i - 1][j - a[i]];\n\t\t}\n\t}\n\tif (sum % 2 == 1 || !dp[n][sum / 2]) {\n\t\tcout << \"First\\n\";\n\t\twhile (true) {\n\t\t\tpii take = {1e9, -1};\n\t\t\tfor (int i = 1; i <= n; i++) {\n\t\t\t\tif (!a[i]) continue;\n\t\t\t\tif (a[i] < take.ff) take = {a[i], i};\n\t\t\t}\n\t\t\tcout << take.ss << endl; fflush(stdout);\n\t\t\tint res; cin >> res;\n\t\t\tif (res <= 0) return;\n\t\t\tint d = min(a[take.ss], a[res]);\n\t\t\ta[take.ss] -= d; a[res] -= d;\n\t\t}\n\t} else {\n\t\tcout << \"Second\\n\";\n\t\tbool sep[n + 1];\n\t\tfor (int i = 1; i <= n; i++) sep[i] = false;\n\t\tint cur = sum / 2;\n\t\tfor (int i = n; i >= 1; i--) {\n\t\t\tif (cur >= a[i] && dp[i - 1][cur - a[i]]) {\n\t\t\t\tsep[i] = true;\n\t\t\t\tcur -= a[i];\n\t\t\t}\n\t\t}\n\t\twhile (true) {\n\t\t\tint res; cin >> res;\n\t\t\tif (res <= 0) return;\n\t\t\tint take = -1;\n\t\t\tfor (int i = 1; i <= n; i++) {\n\t\t\t\tif (sep[i] != sep[res] && a[i]) {\n\t\t\t\t\ttake = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << take << endl; fflush(stdout);\n\t\t\tint d = min(a[res], a[take]);\n\t\t\ta[res] -= d; a[take] -= d;\n\t\t}\n\t}\n}\nint32_t main(){\n\t// ios_base::sync_with_stdio(0);\n\t// cin.tie(0);\n\t// cout.tie(0);\n\tinit();\n\tint t = 1;\n\t// cin >> t;\n\twhile (t--) solve();\n}"], "input": "", "output": "", "tags": ["constructive algorithms", "dfs and similar", "dp", "greedy", "interactive"], "dificulty": "2400", "interactive": false}