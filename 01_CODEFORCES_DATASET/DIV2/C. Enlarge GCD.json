{
    "link": "https://codeforces.com//contest/1047/problem/C",
    "problemId": "222958",
    "problem_idx": "C",
    "shortId": "1047C",
    "contest_number": "1047",
    "problem_submissions": {
        "D": [
            43201603,
            43201617,
            43202738,
            43203828,
            43203427,
            43204703,
            43208661,
            43206772,
            43208166,
            43205179,
            43202781,
            43220735,
            43207776,
            43211077,
            43206070,
            43205996,
            43206464,
            43203723,
            43207824,
            43206532,
            43209432
        ],
        "C": [
            43195048,
            43191767,
            43192975,
            43193131,
            43192365,
            43195667,
            43197192,
            43195960,
            43193920,
            43203524,
            43195590,
            43192480,
            43199443,
            43192989,
            43196895,
            43199785,
            43195017,
            43192335,
            43197639,
            43197103
        ],
        "A": [
            43187939,
            43184704,
            43184082,
            43184667,
            43187293,
            43185111,
            43186057,
            43184927,
            43184414,
            43184169,
            43185008,
            43184035,
            43190556,
            43184451,
            43184601,
            43190394,
            43184377,
            43193141,
            43184356,
            43187758
        ],
        "B": [
            43185520,
            43186550,
            43185744,
            43186184,
            43188556,
            43187757,
            43188284,
            43187036,
            43186583,
            43186581,
            43187167,
            43186126,
            43191913,
            43186290,
            43187376,
            43191618,
            43186405,
            43194207,
            43186040,
            43191875
        ]
    },
    "name": "C. Enlarge GCD",
    "statement": "Mr. F has n positive integers, a_1, a_2,\r\nldots, a_n.He thinks the greatest common divisor of these integers is\r\ntoo small. So he wants to enlarge it by removing some of the\r\nintegers.But this problem is too simple for him, so he does not want to\r\ndo it by himself. If you help him, he will give you some scores in\r\nreward.Your task is to calculate the minimum number of integers you need\r\nto remove so that the greatest common divisor of the remaining integers\r\nis bigger than that of all integers.\r\n",
    "solutions": [
        "#include <bits/stdc++.h>\n#define Rint register int\n#define LL long long\n#define rep(x,y,z) for(Rint x=y;x<=z;++x)\n#define dwn(x,y,z) for(Rint x=y;x>=z;--x)\nusing namespace std;\nconst int N=15000010;\nint n,m,a[1000010],h[N],p[2000010],cnt,sum[N],has[1100];\nint gcd(int x,int y){return y==0?x:gcd(y,x%y);}\nint main()\n{\n\tcin>>n;rep(i,1,n) cin>>a[i];int gc=a[1];\n\trep(i,2,n) gc=gcd(gc,a[i]);rep(i,1,n) a[i]/=gc,++sum[a[i]];\n\trep(i,2,N-2){if(!h[i]) p[++cnt]=i;for(int j=1;j<=cnt&&p[j]*i<N;++j){h[i*p[j]]=1;if(i%p[j]==0) break;}}\n\tint minn=10000000,pla,ss;\n\trep(i,1,50) rep(j,1,n) if(a[j]%p[i]==0){has[i]=1;break;}\n\trep(i,1,cnt)\n\t{\n\t\tif(i<=50&&(has[i]==0)) continue;\n\t\tss=0;for(int j=p[i];j<N;j+=p[i]) ss+=sum[j];if(n-ss<minn) minn=n-ss;\n\t}\n\tif(minn==n) printf(\"-1\\n\");else printf(\"%d\\n\",minn);\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "number theory"
    ],
    "dificulty": "1800",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\C. Enlarge GCD.json",
    "editorial_link": "https://codeforces.com//blog/entry/61993",
    "editorial": "First we divide all numbers by GCD of them. Then we should find a subset with maximum number of integers GCD of which is bigger than 1.\n\nWe can enumerate a prime p that GCD of the remaining integers can be divided by. And the number of integers can be divided by p is the maximum size of the subset.\n\nWe can use Sieve of Euler to factor all integers in  time. Then we find the prime that can divide most integers. The answer is n minus the number of integers can be divided by this prime. If all integers are 1 (after dividing their GCD), there is no solution.",
    "hint": []
}