{"link": "https://codeforces.com//contest/1735/problem/D", "problemId": "1564418", "problem_idx": "D", "shortId": "1735D", "contest_number": "1735", "problem_submissions": {"B": [177889662, 177889589, 174382271, 174383359, 174378958, 174381714, 174380678, 174381284, 174379449, 174381236, 174383409, 174380794, 174386997, 174380696, 174383029, 174388681, 174388918, 174381361, 174381492, 174380657], "C": [177889461, 174387237, 174388475, 174385426, 174386634, 174386940, 174388812, 174387047, 174386729, 174389951, 174392206, 174395309, 174395650, 174392066, 174399201, 174396076, 174396038, 174408989, 174396383], "D": [177889264, 177889136, 174395610, 174396308, 174396251, 174394725, 174402042, 174395692, 174394285, 174419012, 174399212, 175815897, 174399788, 174408325, 174404931, 174401396, 174409441, 174402400, 174412649, 174401383, 174405540], "E": [177889081, 174408134, 174405644, 174412472, 174412292, 174413019, 174414458, 174417521, 174411011, 174419212, 175815464, 174463147, 174421324, 174420863, 174423975, 174427537, 174420606, 174423899, 174420778, 174422936, 174422611], "F": [177888879, 174528121, 174463614, 174586382], "A": [177888485, 174377614, 174378788, 174377462, 174377792, 174377956, 174378462, 174377717, 174377806, 174378861, 174382247, 174379109, 174377781, 174377528, 174379924, 174379851, 174378283, 174383584, 174377997]}, "name": "D. Meta-set", "statement": "You like the card board game \"Set\". Each card contains k features, each\r\nof which is equal to a value from the set\r\n{0, 1, 2\r\n}. The deck contains all possible variants of cards, that is, there are\r\n3^k different cards in total.A feature for three cards is called if it\r\nis the same for these cards or pairwise distinct. Three cards are called\r\na if all k features are good for them.For example, the cards (0, 0, 0),\r\n(0, 2, 1), and (0, 1, 2) form a set, but the cards (0, 2, 2), (2, 1, 2),\r\nand (1, 2, 0) do not, as, for example, the last feature is not good.A\r\ngroup of cards is called a , if there is strictly more than one set\r\namong them. How many meta-sets there are among given n distinct cards?\r\n", "solutions": ["// LUOGU_RID: 91547278\n//author: HugeWide\n/*rating:\nCodeforces: 2028,Candidate Master\nAtcoder: 2025,1Dan\nLuogu: 312=100+52+0+100+60\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef double db;\ntypedef unsigned long long ull;\n\ninline ll read() {\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9') {\n\t\tif(ch=='-') f=-f;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9') {\n\t\tx=(x<<3)+(x<<1)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\ninline void write(ll x) {\n\tif(x<0) putchar('-'),x=-x;\n\tif(x>=10) write(x/10);\n\tputchar(x%10+'0');\n}\n#define writesp(x) write(x),putchar(' ')\n#define writeln(x) write(x),putchar('\\n')\n\n#define rep(x,l,r) for(int x=l;x<=r;x++)\n#define per(x,r,l) for(int x=r;x>=l;x--)\n#define pb push_back\n#define mp make_pair\n#define all(v) v.begin(),v.end()\n\nconst int N=1010;\n\nint n,k;\n\nstruct Node {\n\tint c[24];\n\tvoid init() {\n\t\trep(i,1,k) c[i]=read();\n\t}\n} a[N];\nNode operator + (const Node& a,const Node& b) {\n\tNode ret;\n\trep(i,1,k) ret.c[i]=(3-(a.c[i]+b.c[i])%3)%3;\n\treturn ret;\n}\n\null cal(Node x) {\n\tull ret=0;\n\trep(i,1,k) {\n\t\tret=ret*3ll+x.c[i];\n\t}\n\treturn ret;\n}\n\nmap<ull,int> M;\n\nint main() {\n\tn=read(),k=read();\n\trep(i,1,n) a[i].init();\n\tM.clear();\n\trep(i,1,n) rep(j,i+1,n) {\n\t\tNode res=a[i]+a[j];\n\t\tM[cal(res)]++;\n\t}\n\tll ans=0;\n\trep(i,1,n) {\n\t\tll cnt=M[cal(a[i])];\n\t\tans+=1ll*cnt*(cnt-1)/2;\n\t}\n\twriteln(ans);\n\treturn 0;\n}\n"], "input": "", "output": "", "tags": ["brute force", "combinatorics", "data structures", "hashing", "math"], "dificulty": "1700", "interactive": false}