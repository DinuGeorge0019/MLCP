{"link": "https://codeforces.com//contest/515/problem/D", "problemId": "22486", "problem_idx": "D", "shortId": "515D", "contest_number": "515", "problem_submissions": {"C": [9901093, 9891593, 9889966, 9894661, 9890694, 9891519, 9891807, 9891147, 9894312, 9892979, 9890976, 9896690, 9895106, 9891765, 9893860, 9889767, 9894769], "E": [9897953, 9901196, 9901641], "A": [9893658, 9884581, 9884436, 9884731, 9884617, 9893616, 9885742, 9884882, 9886057, 9890988, 9899002, 9884584, 9884720, 9884480, 9897882, 9895179, 9887232], "B": [9893222, 9886714, 9886489, 9887475, 9887922, 9887319, 9888734, 9887265, 9890144, 9891119, 9888369, 9892060, 9887541, 9886326, 9890729, 9894202, 9891245], "D": [9889440, 9896686, 9895645, 9901264, 9898104, 9900858, 9899954, 9900443, 9899935, 9899852, 9899500, 9928352, 9928159, 9899922, 9900339, 9901106]}, "name": "D. Drazil and Tiles", "statement": "Drazil created a following problem about putting tiles into an\r\ngrid:\"There is a grid with some cells that are empty and some cells that\r\nare occupied. You should use tiles to cover all empty cells and no two\r\ntiles should cover each other. And you should print a solution about how\r\nto do it.\"But Drazil doesn\u2019t like to write special checking program for\r\nthis task. His friend, Varda advised him: \"how about asking contestant\r\nonly to print the solution ? Otherwise contestant may print \u201d \".Drazil\r\nfound that the constraints for this task may be much larger than for the\r\noriginal task!Can you solve this new problem?Note that you should print\r\n\u201d either when there exists no solution or when there exists several\r\ndifferent solutions for the original task.\r\n", "solutions": ["#include <stdio.h>\n#include <vector>\nusing namespace std;\nchar c[2010][2010];\nvector< int > e[2010][2010];\nint d[2010][2010];\nint dx[] = {0, 1, 0, -1};\nint dy[] = {1, 0, -1, 0};\nchar s[] = \"<^>v\";\nint n, m;\nint l[4000010][2], w, r;\nbool ck(int x, int y) {\n    if (x < 0 || y < 0 || x >= n || y >= m) return false;\n    return c[x][y] == '.';\n}\nvoid add(int x, int y) {\n    l[w][0] = x;\n    l[w][1] = y;\n    w++;\n}\nvoid rm(int x, int y) {\n    d[x][y]--;\n    for (int i = 0; i < (int)e[x][y].size(); i++) {\n        int p = x + dx[e[x][y][i]];\n        int q = y + dy[e[x][y][i]];\n        d[p][q]--;\n        if (d[p][q] == 1) {\n            add(p, q);\n        }\n    }\n}\nint main(){\n    int i, j, x, y, p, q;\n    scanf(\"%d%d\", &n, &m);\n    for (i = 0; i < n; i++) scanf(\"%s\", c[i]);\n    for (i = 0; i < n; i++) {\n        for (j = 0; j < m; j++) {\n            if (c[i][j] == '.') {\n                if (ck(i + 1, j)) {\n                    e[i][j].push_back(1);\n                    e[i + 1][j].push_back(3);\n                    d[i][j]++; d[i+1][j]++;\n                }\n                if (ck(i, j + 1)) {\n                    e[i][j].push_back(0);\n                    e[i][j + 1].push_back(2);\n                    d[i][j]++; d[i][j+1]++;\n                }\n            }\n        }\n    }\n    for (i = 0; i < n; i++) {\n        for (j = 0; j < m; j++) {\n            if (e[i][j].size() == 1) {\n                add(i, j);\n            }\n        }\n    }\n    for (r = 0; r < w; r++) {\n        x = l[r][0]; y = l[r][1];\n        if (c[x][y] == '.') {\n            for (i = 0; i < (int)e[x][y].size(); i++) {\n                p = x + dx[e[x][y][i]];\n                q = y + dy[e[x][y][i]];\n                if (c[p][q] == '.') {\n                    c[p][q] = s[e[x][y][i] ^ 2];\n                    c[x][y] = s[e[x][y][i]];\n                    rm(x, y);\n                    rm(p, q);\n                    break;\n                }\n            }\n        }\n    }\n    for (i = 0; i < n; i++) {\n        for (j = 0; j < m; j++) {\n            if (c[i][j] == '.') {\n                printf(\"Not unique\\n\");\n                return 0;\n            }\n        }\n    }\n    for (i = 0; i < n; i++) printf(\"%s\\n\", c[i]);\n    return 0;\n}\n"], "input": "", "output": "", "tags": ["constructive algorithms", "greedy"], "dificulty": "2000", "interactive": false}