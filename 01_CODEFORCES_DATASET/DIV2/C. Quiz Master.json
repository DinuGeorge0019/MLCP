{"link": "https://codeforces.com//contest/1777/problem/C", "problemId": "1746203", "problem_idx": "C", "shortId": "1777C", "contest_number": "1777", "problem_submissions": {"F": [189999253, 189998361, 189995169, 190011490, 190011116, 190013769, 190004003, 190169577, 190021489, 190008226, 190022277, 190024196, 190001976, 190021500, 190024711, 190004961, 190022857, 190022045, 190022993, 190023276], "E": [189990969, 189994239, 190006715, 190001929, 190054762, 190054746, 190004086, 189987917, 190017805, 190001567, 190021800, 189999439, 190005213, 190019127, 190007828, 190009522, 190469875, 190020733, 190022555, 190013627, 190011832, 190008524, 190011505], "D": [189985748, 189986829, 189987429, 189993541, 189993926, 189998094, 189993119, 189991582, 189993898, 189993229, 189996303, 190011551, 189999620, 189998025, 189985279, 189989471, 190001136, 190003775, 189995371], "C": [189982736, 189982649, 189981053, 189986400, 189987697, 189986317, 189985767, 189986390, 189987035, 189982802, 189983463, 189984656, 189988557, 189987620, 190014819, 189984186, 189995951, 189999181, 189985198], "B": [189976042, 189976916, 189975827, 189979459, 189978444, 189990271, 189980176, 189980492, 189982493, 189987295, 189978177, 189974359, 189977682, 189978251, 190006967, 189977343, 189982864, 189993219, 189987444], "A": [189973782, 189974189, 189973729, 189974335, 189974674, 189974171, 189975493, 189974143, 189973720, 189987925, 189975596, 189973718, 189975380, 189974227, 189988175, 189973870, 189975652, 189992324, 189990668]}, "name": "C. Quiz Master", "statement": "A school has to decide on its team for an international quiz. There are\r\nn students in the school. We can describe the students using an array a\r\nwhere a_i is the smartness of the i-th (1\r\nle i\r\nle n) student. There are m topics 1, 2, 3,\r\nldots, m from which the quiz questions will be formed. The i-th student\r\nis considered proficient in a topic T if (a_i\r\nbmod T) = 0. Otherwise, he is a rookie in that topic. We say that a team\r\nof students is collectively proficient in all the topics if for every\r\ntopic there is a member of the team proficient in this topic.Find a team\r\nthat is collectively proficient in all the topics such that the maximum\r\ndifference between the smartness of any two students in that team is .\r\nOutput this difference.\r\n", "solutions": ["//\u8fd9\u56de\u53ea\u82b1\u4e86114514min\u5c31\u6253\u5b8c\u4e86\u3002\n//\u771f\u597d\u3002\u8bb0\u5f97\u591a\u624b\u9020\u51e0\u7ec4\u3002ACM\u62cd\u4ec0\u4e48\u62cd\u3002 \n#include \"bits/stdc++.h\"\nusing namespace std;\ntemplate<typename typC,typename typD> istream &operator>>(istream &cin,pair<typC,typD> &a) { return cin>>a.first>>a.second; }\ntemplate<typename typC> istream &operator>>(istream &cin,vector<typC> &a) { for (auto &x:a) cin>>x; return cin; }\ntemplate<typename typC,typename typD> ostream &operator<<(ostream &cout,const pair<typC,typD> &a) { return cout<<a.first<<' '<<a.second; }\ntemplate<typename typC,typename typD> ostream &operator<<(ostream &cout,const vector<pair<typC,typD>> &a) { for (auto &x:a) cout<<x<<'\\n'; return cout; }\ntemplate<typename typC> ostream &operator<<(ostream &cout,const vector<typC> &a) { int n=a.size(); if (!n) return cout; cout<<a[0]; for (int i=1; i<n; i++) cout<<' '<<a[i]; return cout; }\ntemplate<typename typC,typename typD> bool cmin(typC &x,const typD &y) { if (x>y) { x=y; return 1; } return 0; }\ntemplate<typename typC,typename typD> bool cmax(typC &x,const typD &y) { if (x<y) { x=y; return 1; } return 0; }\ntemplate<typename typC> vector<typC> range(typC l,typC r,typC step=1) { assert(step>0); int n=(r-l+step-1)/step,i; vector<typC> res(n); for (i=0; i<n; i++) res[i]=l+step*i; return res; }\n#if !defined(ONLINE_JUDGE)&&defined(LOCAL)\n#include \"my_header\\debug.h\"\n#else\n#define dbg(...) ;\n#define dbgn(...) ;\n#endif\ntypedef unsigned int ui;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\n// template<typename T1,typename T2> void inc(T1 &x,const T2 &y) { if ((x+=y)>=p) x-=p; }\n// template<typename T1,typename T2> void dec(T1 &x,const T2 &y) { if ((x+=p-y)>=p) x-=p; }\nconst int N=1e6+5;\nint m;\nnamespace pr\n{\n\ttypedef int ll;\n\ttypedef long long lll;\n\ttypedef pair<ll,int> pa;\n\tll ksm(ll x,ll y,const ll p)\n\t{\n\t\tll r=1;\n\t\twhile (y)\n\t\t{\n\t\t\tif (y&1) r=(lll)r*x%p;\n\t\t\tx=(lll)x*x%p; y>>=1;\n\t\t}\n\t\treturn r;\n\t}\n\tnamespace miller\n\t{\n\t\tconst int p[7]={2,3,5,7,11,61,24251};\n\t\tll s,t;\n\t\tbool test(ll n,int p)\n\t\t{\n\t\t\tif (p>=n) return 1;\n\t\t\tll r=ksm(p,t,n),w;\n\t\t\tfor (int j=0; j<s&&r!=1; j++)\n\t\t\t{\n\t\t\t\tw=(lll)r*r%n;\n\t\t\t\tif (w==1&&r!=n-1) return 0;\n\t\t\t\tr=w;\n\t\t\t}\n\t\t\treturn r==1;\n\t\t}\n\t\tbool prime(ll n)\n\t\t{\n\t\t\tif (n<2) return 0;\n\t\t\tfor (int i=0; i<7; ++i) if (n%p[i]==0) return n==p[i];\n\t\t\ts=__builtin_ctz(n-1); t=n-1>>s;\n\t\t\tfor (int i=0; i<7; ++i) if (!test(n,p[i])) return 0;\n\t\t\treturn 1;\n\t\t}\n\t}\n\tusing miller::prime;\n\tmt19937_64 rnd(chrono::steady_clock::now().time_since_epoch().count());\n\tnamespace rho\n\t{\n\t\tvoid nxt(ll &x,ll &y,ll &p) { x=((lll)x*x+y)%p; }\n\t\tll find(ll n,ll C)\n\t\t{\n\t\t\tll l,r,d,p=1;\n\t\t\tl=rnd()%(n-2)+2,r=l;\n\t\t\tnxt(r,C,n);\n\t\t\tint cnt=0;\n\t\t\twhile (l^r)\n\t\t\t{\n\t\t\t\tp=(lll)p*llabs(l-r)%n;\n\t\t\t\tif (!p) return gcd(n,llabs(l-r));\n\t\t\t\t++cnt;\n\t\t\t\tif (cnt==127)\n\t\t\t\t{\n\t\t\t\t\tcnt=0;\n\t\t\t\t\td=gcd(llabs(l-r),n);\n\t\t\t\t\tif (d>1) return d;\n\t\t\t\t}\n\t\t\t\tnxt(l,C,n); nxt(r,C,n); nxt(r,C,n);\n\t\t\t}\n\t\t\treturn gcd(n,p);\n\t\t}\n\t\tvector<pa> w;\n\t\tvector<ll> d;\n\t\tvoid dfs(ll n,int cnt)\n\t\t{\n\t\t\tif (n==1) return;\n\t\t\tif (prime(n)) return w.emplace_back(n,cnt),void();\n\t\t\tll p=n,C=rnd()%(n-1)+1;\n\t\t\twhile (p==1||p==n) p=find(n,C++);\n\t\t\tint r=1; n/=p;\n\t\t\twhile (n%p==0) n/=p,++r;\n\t\t\tdfs(p,r*cnt); dfs(n,cnt);\n\t\t}\n\t\tvector<pa> getw(ll n)\n\t\t{\n\t\t\tw=vector<pa>(0); dfs(n,1);\n\t\t\tif (n==1) return w;\n\t\t\tsort(w.begin(),w.end());\n\t\t\tint i,j;\n\t\t\tfor (i=1,j=0; i<w.size(); i++) if (w[i].first==w[j].first) w[j].second+=w[i].second; else w[++j]=w[i];\n\t\t\tw.resize(j+1);\n\t\t\treturn w;\n\t\t}\n\t\tvoid dfss(int x,ll n)\n\t\t{\n\t\t\tif (n>m) return;\n\t\t\tif (x==w.size()) return d.push_back(n),void();\n\t\t\tdfss(x+1,n);\n\t\t\tfor (int i=1; i<=w[x].second; i++) dfss(x+1,n*=w[x].first);\n\t\t}\n\t\tvector<ll> getd(ll n)\n\t\t{\n\t\t\tgetw(n); d=vector<ll>(0); dfss(0,1);\n\t\t\tsort(d.begin(),d.end());\n\t\t\treturn d;\n\t\t}\n\t}\n\tusing rho::getw,rho::getd;\n\tusing miller::prime;\n}\nusing pr::getw,pr::getd;\nint main()\n{\n\tios::sync_with_stdio(0); cin.tie(0);\n\tcout<<fixed<<setprecision(15);\n\tint T; cin>>T;\n\twhile (T--)\n\t{\n\t\tint n,i,j;\n\t\tcin>>n>>m;\n\t\tvector<int> a(n);\n\t\tcin>>a;\n\t\tsort(all(a));\n\t\ta.resize(n=unique(all(a))-a.begin());\n\t\tint cur=0;\n\t\tvector<vector<int>> d;\n\t\td.reserve(n);\n\t\tfor (int x:a) d.push_back(getd(x));\n\t\tint ans=1e6;\n\t\tvector<int> cnt(m+1);\n\t\tfor (i=0,j=0; i<n; i++)\n\t\t{\n\t\t\twhile (j<n&&cur<m)\n\t\t\t{\n\t\t\t\tfor (int x:d[j]) cur+=!cnt[x]++;\n\t\t\t\t++j;\n\t\t\t}\n\t\t\tif (cur<m) break;\n\t\t\tcmin(ans,a[j-1]-a[i]);\n\t\t\tfor (int x:d[i]) cur-=!--cnt[x];\n\t\t}\n\t\tif (ans==1e6) ans=-1;\n\t\tcout<<ans<<'\\n';\n\t}\n}\n"], "input": "", "output": "", "tags": ["binary search", "math", "number theory", "sortings", "two pointers"], "dificulty": "1700", "interactive": false}