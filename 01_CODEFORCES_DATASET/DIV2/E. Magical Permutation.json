{"link": "https://codeforces.com//contest/1163/problem/E", "problemId": "341953", "problem_idx": "E", "shortId": "1163E", "contest_number": "1163", "problem_submissions": {"C2": [66047932, 53928733, 53917739, 53916320, 53927440, 53917053, 53921940, 53917741, 53917113, 53917536, 53916492, 53922064, 53918906, 53917646, 53928915, 53916500, 53917339, 53918100, 53918744, 53917518, 53919810], "C1": [66047912, 53928680, 53917729, 53916398, 53927499, 53917123, 53921828, 53917840, 53916975, 53916501, 53916551, 53921864, 53918990, 53917581, 53920027, 53916455, 53917420, 53918173, 53918994, 53917678, 53919432], "B2": [66047900, 53920376, 53914135, 53913146, 53913090, 53913301, 53918925, 53912937, 53914221, 53912878, 53912457, 53914593, 53913074, 53922853, 53913811, 53913679, 53912800, 53914163, 53913157, 53913627, 53916315], "B1": [66047874, 53920441, 53914184, 53913224, 53913218, 53913362, 53918852, 53913014, 53914129, 53912791, 53912577, 53914508, 53913299, 53914871, 53913903, 53913625, 53912899, 53914084, 53913246, 53913821, 53916410], "E": [53956983, 53917883, 53924812, 53927353, 53925644, 53925684, 53938288, 53938253], "D": [53956962, 53912001, 53921113, 53918916, 53915736, 53919859, 53913955, 53921659, 53920805, 53920009, 53923016, 53918711, 53920953, 53917042, 53924906, 53924050, 53923576, 53920981, 53945253, 53925390, 53922597], "A": [53956941, 53913969, 53910517, 53910338, 53909903, 53909816, 53916249, 53910013, 53910841, 53909880, 54028459, 53912757, 53911710, 53909900, 53909929, 53910371, 53909489, 53909450, 53909565, 53911288, 53909949, 53909884]}, "name": "E. Magical Permutation", "statement": "Kuro has just learned about permutations and he is really excited to\r\ncreate a new permutation type. He has chosen n distinct positive\r\nintegers and put all of them in a set S. Now he defines a magical\r\npermutation to be: A permutation of integers from 0 to 2^x - 1, where x\r\nis a non-negative integer. The bitwise xor of any two consecutive\r\nelements in the permutation is an element in S.Since Kuro is really\r\nexcited about magical permutations, he wants to create the longest\r\nmagical permutation possible. In other words, he wants to find the\r\nlargest non-negative integer x such that there is a magical permutation\r\nof integers from 0 to 2^x - 1. Since he is a newbie in the subject, he\r\nwants you to help him find this value of x and also the magical\r\npermutation for that x.\r\n", "solutions": ["#include <cstdio>\n\nint buk[1 << 18 | 7], A[1 << 18 | 7];\nint B[18], D[18], C;\n\ninline void Ins(int x) {\n\tint y = x;\n\tfor (int i = 17; ~i; --i) if (x >> i & 1) {\n\t\tif (!B[i]) { B[i] = x, D[i] = y, ++C; break; }\n\t\tx ^= B[i];\n\t}\n}\n\nvoid Solve(int *A, int j) {\n\tif (!j) return ;\n\t--j;\n\tA[1 << j] = D[j];\n\tSolve(A, j);\n\tSolve(A + (1 << j), j);\n}\n\nint main() {\n\tint N; scanf(\"%d\", &N);\n\twhile (N--) {\n\t\tint x; scanf(\"%d\", &x);\n\t\tbuk[x] = 1;\n\t}\n\tfor (int i = 18; i >= 1; --i) {\n\t\tfor (int j = 0; j < i; ++j) B[j] = 0;\n\t\tC = 0;\n\t\tfor (int k = 0; k < 1 << i; ++k) if (buk[k]) Ins(k);\n\t\tif (C == i) {\n\t\t\tprintf(\"%d\\n\", i);\n\t\t\tSolve(A, i);\n\t\t\tint x = 0;\n\t\t\tfor (int k = 0; k < 1 << i; ++k) printf(\"%d \", x ^= A[k]);\n\t\t\treturn 0;\n\t\t}\n\t}\n\tputs(\"0\\n0 \");\n\treturn 0;\n}"], "input": "", "output": "", "tags": ["bitmasks", "brute force", "constructive algorithms", "data structures", "graphs", "math"], "dificulty": "2400", "interactive": false}