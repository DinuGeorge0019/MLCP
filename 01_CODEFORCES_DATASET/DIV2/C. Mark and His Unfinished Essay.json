{"link": "https://codeforces.com//contest/1705/problem/C", "problemId": "1463490", "problem_idx": "C", "shortId": "1705C", "contest_number": "1705", "problem_submissions": {"E": [164313678, 164283877, 164322922, 164296635, 164328190, 164330200, 182244316, 164662858, 164301911, 164382357, 164307832, 164311215, 164877717, 164877334, 164877248, 164876250, 164876123, 164311471, 164312217, 164309954, 164307210, 164313972, 164313748], "F": [164297533, 164313413, 164317453, 164328892, 164293393, 164327045, 164284621, 164284133, 164291743, 164302194, 165132539, 164348710, 164323281, 164391921], "D": [164286707, 164304717, 164280506, 164282817, 164306344, 164300946, 164312628, 164317244, 164662848, 164319640, 164284384, 164325926, 164285658, 164285757, 164290551, 164293318, 164291394, 164299908, 164293093, 164301425, 164291705], "C": [164281860, 164296877, 164275420, 164273360, 164295006, 164295319, 164301269, 164662833, 164288918, 164274715, 164280149, 164277014, 164275688, 165102447, 164283971, 164282615, 164282594, 164274835, 164277444, 164285515, 164285435], "B": [164273413, 164289760, 164270705, 164266717, 164276123, 164275997, 164276303, 164274236, 164662822, 164269128, 164268180, 164273865, 164270610, 164270505, 164271837, 164271931, 164276822, 164279085, 164272358, 164272892, 164272828], "A": [164266986, 164279867, 164266709, 164265172, 164267444, 164266906, 164267475, 164265741, 164662806, 164278230, 164265167, 164265698, 164265336, 164266101, 164266312, 164265878, 164265963, 164265319, 164267659, 164267039, 164266626]}, "name": "C. Mark and His Unfinished Essay", "statement": "One night, Mark realized that there is an essay due tomorrow. He hasn\u2019t\r\nwritten anything yet, so Mark decided to randomly copy-paste substrings\r\nfrom the prompt to make the essay.More formally, the prompt is a string\r\ns of initial length n. Mark will perform the copy-pasting operation c\r\ntimes. Each operation is described by two integers l and r, which means\r\nthat Mark will append letters s_l s_{l+1}\r\nldots s_r to the end of string s. Note that the length of s increases\r\nafter this operation.Of course, Mark needs to be able to see what has\r\nbeen written. After copying, Mark will ask q queries: given an integer\r\nk, determine the k-th letter of the final string s.\r\n", "solutions": ["#include<bits/stdc++.h>\nusing namespace std;\n#define N 200020\ntypedef long long ll;\nint n,m,Q;\nll fl[N],fr[N],tl[N],tr[N];\nchar s[N];\nvoid Solve(){\n\tcin>>n>>m>>Q;\n\tcin>>(s+1);\n\ttl[0]=1,tr[0]=n;\n\tfor(int i=1;i<=m;++i){\n\t\tcin>>fl[i]>>fr[i];\n\t\ttl[i]=tr[i-1]+1;\n\t\ttr[i]=tl[i]+(fr[i]-fl[i]+1)-1;\n\t}\n\twhile(Q--){\n\t\tll x;\n\t\tcin>>x;\n\t\tint u=-1;\n\t\twhile(true){\n\t\t\tfor(int i=0;i<=m;++i){\n\t\t\t\tif(tl[i]<=x&&tr[i]>=x){\n\t\t\t\t\tu=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!u)break;\n\t\t\tx=fl[u]+(x-tl[u]);\n\t\t}\n\t\tcout<<s[x]<<'\\n';\n\t}\n}\nint main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tint T;\n\tcin>>T;\n\twhile(T--)Solve();\n\treturn 0;\n}\n\n\n"], "input": "", "output": "", "tags": ["brute force", "implementation"], "dificulty": "1400", "interactive": false}