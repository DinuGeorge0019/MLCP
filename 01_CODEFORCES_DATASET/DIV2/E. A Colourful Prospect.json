{
    "link": "https://codeforces.com//contest/934/problem/E",
    "problemId": "156727",
    "problem_idx": "E",
    "shortId": "934E",
    "contest_number": "934",
    "problem_submissions": {
        "A": [
            35248428,
            35231058,
            35230470,
            35230697,
            35230343,
            35234240,
            35232331,
            35232107,
            35230781,
            35230297,
            35230349,
            35230283,
            35230659,
            35230854,
            35280265,
            35242684,
            35233133,
            35251876
        ],
        "B": [
            35242705,
            35232814,
            35231912,
            35232565,
            35251131,
            35241536,
            35234192,
            35240461,
            35237149,
            35232550,
            35232144,
            35246650,
            35232930,
            35233805,
            35233953,
            35231813,
            35234231,
            35250913
        ],
        "C": [
            35241342,
            35241471,
            35238580,
            35239228,
            35237684,
            35252292,
            35240488,
            35249650,
            35240924,
            35239960,
            35245016,
            35243194,
            35245213,
            35243098,
            35238905,
            35245602,
            35249363
        ],
        "D": [
            35232998,
            35253675,
            35246613,
            35246863,
            35244338,
            35256850,
            35245353,
            35256555,
            143600768,
            35250204,
            35251357,
            35239274,
            35250654,
            35250921,
            35249705,
            35252640,
            35249882,
            35236823
        ],
        "E": [
            35339836,
            35278991,
            35272612
        ]
    },
    "name": "E. A Colourful Prospect",
    "statement": "Little Tommy is watching a firework show. As circular shapes spread\r\nacross the sky, a splendid view unfolds on the night of Lunar New Year\u2019s\r\neve.A wonder strikes Tommy. How many regions are formed by the circles\r\non the sky? We consider the sky as a flat plane. A region is a connected\r\npart of the plane with positive area, whose bound consists of parts of\r\nbounds of the circles and is a curve or several curves without\r\nself-intersections, and that does not contain any curve other than its\r\nboundaries. Note that exactly one of the regions extends infinitely.\r\n",
    "solutions": [
        "#include<bits/stdc++.h>\n#define ep 0.0000001\nusing namespace std;\nstruct Info{double x,y,r;}a[5];\nstruct Po{double x,y;}b[10];\nint n,sum,su,p=2;\ndouble di(int x,int y){\n\treturn sqrt((a[x].x-a[y].x)*(a[x].x-a[y].x)+(a[x].y-a[y].y)*(a[x].y-a[y].y));\n}\ndouble d1(int x,int y){\n\treturn sqrt((b[x].x-a[y].x)*(b[x].x-a[y].x)+(b[x].y-a[y].y)*(b[x].y-a[y].y));\n}\nPo pp(Info x,double y){\n\tPo p;\n\tp.x=x.x+x.r*cos(y);p.y=x.y+x.r*sin(y);\n\treturn p;\n}\ndouble ab(double x){\n\tif (x>0) return x;\n\treturn 0-x;\n}\nbool comp(const Po &a,const Po &b){if (ab(a.x-b.x)>ep) return a.x<b.x;return a.y<b.y;}\nint main(){\n\tcin>>n;\n\tfor (int i=1;i<=n;i++) cin>>a[i].x>>a[i].y>>a[i].r;\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++){\n\t\t\tif (i!=j&&a[i].r+a[j].r>=di(i,j)&&di(i,j)>=abs(a[i].r-a[j].r)) break;\n\t\t\tif (j==n) p++;\n\t\t}\n\tif (p==2+n) p--;\n\tfor (int i=1;i<n;i++)\n\t\tfor (int j=i+1;j<=n;j++)\n\t\t\tif (a[i].r+a[j].r>=di(i,j)&&di(i,j)>=abs(a[i].r-a[j].r)){\n\t\t\t\tdouble x=acos((a[i].r*a[i].r-a[j].r*a[j].r+di(i,j)*di(i,j))/(2*a[i].r*di(i,j)));\n\t\t\t\tdouble y=atan2(a[j].y-a[i].y,a[j].x-a[i].x);\n\t\t\t\tb[++sum]=pp(a[i],x+y);\n\t\t\t\tb[++sum]=pp(a[i],y-x);\n\t\t\t}\n\tsort(b+1,b+sum+1,comp);\n\tfor (int i=1;i<sum;i++)\n\t\tif(ab(b[i].x-b[i+1].x)<=ep&&ab(b[i].y-b[i+1].y)<=ep){\n\t\t\tfor (int j=i+1;j<=sum;j++) b[j-1]=b[j];\n\t\t\tsum--;i--;\n\t\t}\n\tfor (int i=1;i<=sum;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tif (ab(d1(i,j)-a[j].r)<=ep) su++;\n\tcout<<su-sum+p<<endl;\n\treturn 0;\n}\n/*\n3\n-4 -5 3\n-3 -4 1\n-6 0 9\n*/\n"
    ],
    "input": "",
    "output": "",
    "tags": [
        "geometry",
        "graphs"
    ],
    "dificulty": "2700",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\E. A Colourful Prospect.json",
    "editorial_link": "https://codeforces.com//blog/entry/57763",
    "editorial": "It seems the problem can be solved with case analysis at first sight. Okay let's try to do so...\n\nFor n?=?1, it's trivial and the answer is, of course, 2.\n\nFor n?=?2, there are two cases:\n\nIf the two circles are intersect, the answer is 4;\nOtherwise, the answer is 3.\nFor n?=?3... well I think it's really a tough job, so think about general case will probably make our lives better.\n\nThe main solution is based on Euler's formula for planar graph. This formula tells us that if we denote the number of vertices in a connected graph by v, the number of edges by e and the number of faces (or regions) by f, we have f?=?e?-?v?+?2. Since the circles can form several components, denoted the number of which by c, the formula for general planar graph should be f?=?e?-?v?+?c?+?1.\n\nSo what we need to do is to calculate v, e, and c. It's easy to see that v is the number of unique intersection between circles. As for e, we can calculate the number of edges on each circle, which is equal to the unique intersection on each circle. The only special case is a single circle, and we can consider it as a graph without vertices and edges but forms one component, or a vertex with an edge to itself. Anyway it doesn't matter when v?=?e. The last one is c, which can be obtained easily with the help of dsu or dfs/bfs.\n\nThe total complexity is , but why I leave this special case as a problem instead of a general case? Reread the first sentence of this tutorial and you will get the answer :)\n\nHere I want to show you the test #113, which is made by hands."
}