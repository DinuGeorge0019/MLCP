{
    "link": "https://codeforces.com//contest/1151/problem/C",
    "problemId": "332194",
    "problem_idx": "C",
    "shortId": "1151C",
    "contest_number": "1151",
    "problem_submissions": {
        "F": [
            52969000,
            52974140,
            52969772,
            52975022,
            52980263,
            52981542,
            52980056,
            52974325,
            52978664,
            52982169,
            52980243,
            52979375,
            52980809,
            52981384,
            52980660,
            52981146,
            52979191,
            52982382,
            52981761
        ],
        "A": [
            52964993,
            52960645,
            52960514,
            52960890,
            52960841,
            52960632,
            52960463,
            52975864,
            52961198,
            52962194,
            52961267,
            52961719,
            52960783,
            52960868,
            52960424,
            52960539,
            52961494,
            52961722
        ],
        "E": [
            52963816,
            52970148,
            52978614,
            52970380,
            52972910,
            52970321,
            52971212,
            52978379,
            52974086,
            52973219,
            52974283,
            52974208,
            52973176,
            52975431,
            52974891,
            52976518,
            52981339,
            52975757,
            52977016
        ],
        "C": [
            52962801,
            52967207,
            52977404,
            52967321,
            52965669,
            52965751,
            52967555,
            52965997,
            52969606,
            52970311,
            52971192,
            52970462,
            52971754,
            52968773,
            52969400,
            52967031,
            52972316,
            52975151
        ],
        "D": [
            52961052,
            52964041,
            52961092,
            52964482,
            52967362,
            52967568,
            52969636,
            52967779,
            52971526,
            52966600,
            52966264,
            52971704,
            52969026,
            52970628,
            52970281,
            52971940,
            52968559,
            52968478,
            52966194
        ],
        "B": [
            52960445,
            52962771,
            52963029,
            52967763,
            52962536,
            52962803,
            52962295,
            52961661,
            52965340,
            52964038,
            52963820,
            52964825,
            52967747,
            52963985,
            52966098,
            52966081,
            52962870,
            52965786,
            52964689
        ]
    },
    "name": "C. Problem for Nazar",
    "statement": "Nazar, a student of the scientific lyceum of the Kingdom of Kremland, is\r\nknown for his outstanding mathematical abilities. Today a math teacher\r\ngave him a .Consider two infinite sets of numbers. The first set\r\nconsists of odd positive numbers (1, 3, 5, 7,\r\nldots), and the second set consists of even positive numbers (2, 4, 6,\r\n8,\r\nldots). At the first stage, the teacher writes the first number on the\r\nendless blackboard from the first set, in the second stage the first two\r\nnumbers from the second set, on the third stage the next four numbers\r\nfrom the first set, on the fourth the next eight numbers from the second\r\nset and so on. In other words, at each stage, starting from the second,\r\nhe writes out numbers than at the previous one, and also from which\r\nthese numbers are written out . The ten first written numbers: 1, 2, 4,\r\n3, 5, 7, 9, 6, 8, 10. Let’s number the numbers written, starting .The\r\ntask is to find the sum of numbers with numbers from l to r for given\r\nintegers l and r. The answer may be big, so you need to find the\r\nremainder of the division by 1000000007 (10^9+7).Nazar thought about\r\nthis problem for a long time, but didn’t come up with a solution. Help\r\nhim solve this problem.\r\n",
    "solutions": [
        "#include <iostream>\n#include <algorithm>\nusing namespace std;\nconst int mod = 1000000007;\nconst int inv2 = (mod + 1) / 2;\nint main() {\n\tlong long L, R;\n\tcin >> L >> R; ++R;\n\tlong long ans = 0, odd = 1, even = 2;\n\tfor (int i = 0; i <= 60; ++i) {\n\t\tlong long pl = (1LL << i), pr = (2LL << i);\n\t\tpl = max(pl, L);\n\t\tpr = min(pr, R);\n\t\tif (pl < pr) {\n\t\t\tlong long s = (i % 2 == 0 ? odd + (pl - (1LL << i)) * 2 : even + (pl - (1LL << i)) * 2);\n\t\t\tlong long g = s + (pr - pl - 1) * 2;\n\t\t\tans += ((s + g) % mod) * (((g - s) / 2 + 1) % mod) % mod * inv2 % mod;\n\t\t\tans %= mod;\n\t\t}\n\t\tif (i % 2 == 0) odd += 2LL << i;\n\t\telse even += 2LL << i;\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
    ],
    "input": "",
    "output": "",
    "tags": [
        "constructive algorithms",
        "math"
    ],
    "dificulty": "1800",
    "interactive": false,
    "file_name": "D:\\scoala\\RESEARCH\\MLCP\\01_CODEFORCES_DATASET\\DIV2\\C. Problem for Nazar.json",
    "editorial_link": "https://codeforces.com//blog/entry/66602",
    "editorial": "At first letâs simplify the problem. Letâs denote as function that\r\nreturns sum of the elements that are on positions from to inclusive.How\r\nto implement function ?To find the answer we can find the sum of and sum\r\nof numbers and add them. Letâs find how many there are and numbers.\r\nLetâs call them and . Iterate through the powers of two. If current\r\npower is even, then add minimum from and current power of two to ,\r\notherwise add minimum from and current power of two to , after that\r\nreduce by current power of two. If becomes less than or equal to\r\nbreak.Now our task is reduced to twos: for given number find the sum of\r\nfirst even numbers and for given number find the sum of first odd\r\nnumbers. The answer for first task is . The answer for second task is\r\n.Now the answer for the problem is .Donât forget about modulo\r\n:)Complexity is .\r\n",
    "hint": []
}