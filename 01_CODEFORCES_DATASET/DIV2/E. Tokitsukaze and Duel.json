{"link": "https://codeforces.com//contest/1191/problem/E", "problemId": "371223", "problem_idx": "E", "shortId": "1191E", "contest_number": "1191", "problem_submissions": {"E": [56930360, 56932667, 56928716, 56939088, 56921323, 56912974, 57115550, 56932804, 56928990, 56929337], "F": [56920637, 56922296, 56916787, 56919049, 56925732, 56927861, 56918099, 56924133, 56926209, 56927829, 56929051, 56926532, 56918795, 56929264, 56925632], "D": [56909567, 56895679, 56907074, 56908396, 56910207, 56924101, 56908587, 56910537, 56910111, 56912606, 56912357, 56914322, 56913159, 56915287, 56927088, 56914751, 56910068, 56910772], "C": [56903274, 56901059, 56900847, 56901577, 56899620, 56896966, 56900160, 56902858, 56901879, 56903244, 56905051, 56904771, 56905406, 56905745, 56906709, 56903940, 56907892, 56901275, 56900697], "B": [56898378, 56936114, 56896298, 56896362, 56892729, 56894831, 56896705, 56898252, 56898407, 56897313, 56900034, 56899250, 56894956, 56901112, 56898471, 56900914, 56897260, 56894862], "A": [56890181, 56923779, 56890755, 56890634, 56890043, 56890012, 56890112, 56897182, 56894935, 56890461, 56890221, 56891378, 56893934, 56889978, 56892226, 56896066, 56891166, 56896868, 56890375]}, "name": "E. Tokitsukaze and Duel", "statement": "\"Duel!\"Betting on the lovely princess Claris, the duel between\r\nTokitsukaze and Quailty has started.There are n cards in a row. Each\r\ncard has two sides, one of which has color. At first, some of these\r\ncards are with color sides facing up and others are with color sides\r\nfacing down. Then they take turns flipping cards, in which Tokitsukaze\r\nmoves first. In each move, one should choose exactly k consecutive cards\r\nand flip them to the same side, which means to make their color sides\r\nall face up or all face down. If all the color sides of these n cards\r\nface the same direction after one\u2019s move, the one who takes this move\r\nwill win.Princess Claris wants to know who will win the game if\r\nTokitsukaze and Quailty are so clever that they won\u2019t make mistakes.\r\n", "solutions": ["#include<bits/stdc++.h>\n#define rep(i,a,b) for (int i=(a); i<=(b); i++)\n#define per(i,a,b) for (int i=(a); i>=(b); i--)\nusing namespace std;\ntypedef long long LL;\n\ninline int read() {\n    int x=0,f=1; char ch=getchar();\n    while (!(ch>='0'&&ch<='9')) {if (ch=='-')f=-1;ch=getchar();}\n    while (ch>='0'&&ch<='9') {x=x*10+(ch-'0'); ch=getchar();}\n    return x*f;\n}\n\nconst int N = 100005;\n\nint n,k;\nint b1[N],b2[N],w1[N],w2[N];\nchar s[N];\n\nint main() {\n\n\tn=read(),k=read();\n\tscanf(\"%s\",s+1);\n\tint l0=n,l1=n,r0=1,r1=1;\n\trep(i,1,n) if (s[i]=='0') l0=min(l0,i),r0=max(r0,i); else l1=min(l1,i),r1=max(r1,i);\n\tif (r0-l0+1<=k||r1-l1+1<=k) {puts(\"tokitsukaze\"); return 0;}\n\trep(i,1,l0-1) w1[i]=0; w1[l0]=1;\n\trep(i,l0+1,n) if (s[i]=='0') w1[i]=i-l0+1; else w1[i]=w1[i-1];\n\tper(i,n,r0+1) w2[i]=0; w2[r0]=1;\n\tper(i,r0-1,1) if (s[i]=='0') w2[i]=r0-i+1; else w2[i]=w2[i+1];\n\t\n\trep(i,1,l1-1) b1[i]=0; b1[l1]=1;\n\trep(i,l1+1,n) if (s[i]=='1') b1[i]=i-l1+1; else b1[i]=b1[i-1];\n\tper(i,n,r1+1) b2[i]=0; b2[r1]=1;\n\tper(i,r1-1,1) if (s[i]=='1') b2[i]=r1-i+1; else b2[i]=b2[i+1];\n\t\n\tbool flag=1;\n\trep(i,1,n-k+1) {\n\t\t//white\n\t\tif (w1[i-1]>0&&w2[i+k]>0) flag=0;\n\t\telse if (w1[i-1]>k||w2[i+k]>k) flag=0;\n\t\t//black\n\t\tif (b1[i-1]>0&&b2[i+k]>0) flag=0;\n\t\telse if (b1[i-1]>k||b2[i+k]>k) flag=0;\n\t}\n\tif (flag) puts(\"quailty\");\n\telse puts(\"once again\");\n\n\treturn 0;\n\t\n}\n"], "input": "", "output": "", "tags": ["brute force", "games", "greedy"], "dificulty": "2300", "interactive": false}