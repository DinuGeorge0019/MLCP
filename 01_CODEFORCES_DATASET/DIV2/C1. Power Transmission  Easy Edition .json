{"link": "https://codeforces.com//contest/1163/problem/C1", "problemId": "342105", "problem_idx": "C1", "shortId": "1163C1", "contest_number": "1163", "problem_submissions": {"C2": [66047932, 53928733, 53917739, 53916320, 53927440, 53917053, 53921940, 53917741, 53917113, 53917536, 53916492, 53922064, 53918906, 53917646, 53928915, 53916500, 53917339, 53918100, 53918744, 53917518, 53919810], "C1": [66047912, 53928680, 53917729, 53916398, 53927499, 53917123, 53921828, 53917840, 53916975, 53916501, 53916551, 53921864, 53918990, 53917581, 53920027, 53916455, 53917420, 53918173, 53918994, 53917678, 53919432], "B2": [66047900, 53920376, 53914135, 53913146, 53913090, 53913301, 53918925, 53912937, 53914221, 53912878, 53912457, 53914593, 53913074, 53922853, 53913811, 53913679, 53912800, 53914163, 53913157, 53913627, 53916315], "B1": [66047874, 53920441, 53914184, 53913224, 53913218, 53913362, 53918852, 53913014, 53914129, 53912791, 53912577, 53914508, 53913299, 53914871, 53913903, 53913625, 53912899, 53914084, 53913246, 53913821, 53916410], "E": [53956983, 53917883, 53924812, 53927353, 53925644, 53925684, 53938288, 53938253], "D": [53956962, 53912001, 53921113, 53918916, 53915736, 53919859, 53913955, 53921659, 53920805, 53920009, 53923016, 53918711, 53920953, 53917042, 53924906, 53924050, 53923576, 53920981, 53945253, 53925390, 53922597], "A": [53956941, 53913969, 53910517, 53910338, 53909903, 53909816, 53916249, 53910013, 53910841, 53909880, 54028459, 53912757, 53911710, 53909900, 53909929, 53910371, 53909489, 53909450, 53909565, 53911288, 53909949, 53909884]}, "name": "C1. Power Transmission  Easy Edition ", "statement": "It was a Sunday morning when the three friends Selena, Shiro and Katie\r\ndecided to have a trip to the nearby power station . After arriving at\r\nthe power station, the cats got impressed with a large power\r\ntransmission system consisting of many chimneys, electric poles, and\r\nwires. Since they are cats, they found those things gigantic.At the\r\nentrance of the station, there is a map describing the complicated\r\nwiring system. Selena is the best at math among three friends. He\r\ndecided to draw the map on the Cartesian plane. Each pole is now a point\r\nat some coordinates (x_i, y_i). Since every pole is different, all of\r\nthe points representing these poles are distinct. Also, every two poles\r\nare connected with each other by wires. A wire is a straight line on the\r\nplane . If there are more than two poles lying on the same line, they\r\nare connected by a single common wire.Selena thinks, that whenever two\r\ndifferent electric wires intersect, they may interfere with each other\r\nand cause damage. So he wonders, how many pairs are intersecting? Could\r\nyou help him with this problem?\r\n", "solutions": ["#include <bits/stdc++.h>\n#define pii pair<int, int>\n#define mp make_pair\n#define ll long long\nusing namespace std;\nconst int N = 1e3 + 6, inf = 1e9;\nint n, X[N], Y[N], tp, tt;\nmap<pii, int> p, m;\nset<int> s[N*N];\n\nint gcd(int a, int b) {\n\treturn b ? gcd(b, a % b) : a;\n}\n\ninline pii work(int a, int b, int c, int d) {\n\tif (a == c) {\n\t\tif (!p[mp(inf,0)]) p[mp(inf,0)] = ++tp;\n\t\tif (!m[mp(a,c)]) m[mp(a,c)] = ++tt;\n\t\treturn mp(p[mp(inf,0)], m[mp(a,c)]);\n\t} else if (b == d) {\n\t\tif (!p[mp(0,inf)]) p[mp(0,inf)] = ++tp;\n\t\tif (!m[mp(b,d)]) m[mp(b,d)] = ++tt;\n\t\treturn mp(p[mp(0,inf)], m[mp(b,d)]);\n\t}\n\telse {\n\t\tif (a > c) swap(a, c), swap(b, d);\n\t\tint dd = gcd(abs(d - b), c - a);\n\t\tint x = b * c - a * d, y = c - a, g = gcd(abs(x), y);\n\t\tif (!p[mp((d-b)/dd,(c-a)/dd)]) p[mp((d-b)/dd,(c-a)/dd)] = ++tp;\n\t\tif (!m[mp(x/g,y/g)]) m[mp(x/g,y/g)] = ++tt;\n\t\treturn mp(p[mp((d-b)/dd,(c-a)/dd)], m[mp(x/g,y/g)]);\n\t}\n}\n\nint main() {\n\tcin >> n;\n\tfor (int i = 1; i <= n; i++)\n\t\tscanf(\"%d %d\", &X[i], &Y[i]);\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = i + 1; j <= n; j++) {\n\t\t\tpii o = work(X[i], Y[i], X[j], Y[j]);\n\t\t\ts[o.first].insert(o.second);\n\t\t}\n\tll sum = 0, now = 0;\n\tfor (int i = 1; i <= tp; i++) {\n\t\tll sz = s[i].size();\n\t\tsum += sz;\n\t\tnow += sz * (sz - 1) / 2;\n\t}\n\tcout << sum * (sum - 1) / 2 - now << endl;\n\treturn 0;\n} "], "input": "", "output": "", "tags": ["brute force", "geometry"], "dificulty": "1900", "interactive": false}